{"version":3,"sources":["webpack:///./node_modules/canvas-sketch-util/math.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.array.is-array.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/canvas-sketch/dist/canvas-sketch.umd.js","webpack:///./node_modules/convert-length/convert-length.js"],"names":["defined","__webpack_require__","EPSILON","Number","clamp","value","min","max","lerp","t","inverseLerp","Math","abs","toFinite","n","defaultValue","isFinite","expandVector","dims","TypeError","p","scalar","i","out","lerpArray","length","newArray","initialValue","push","mod","a","b","damp","lambda","dt","exp","module","exports","fract","floor","sign","degToRad","PI","radToDeg","wrap","from","to","cycle","pingPong","linspace","opts","endpoint","offset","map","_","lerpFrames","values","len","whole","frame","nextFrame","Array","isArray","clamp01","v","smoothstep","x","dampArray","mapRange","inputMin","inputMax","outputMin","outputMax","outVal","expand2D","expand3D","expand4D","$export","P","fill","toObject","toAbsoluteIndex","toLength","O","this","aLen","arguments","index","undefined","end","endPos","S","aFunction","fails","$sort","sort","test","F","comparefn","call","global","factory","convertLength","hasOwnProperty","getOwnPropertySymbols","Object","prototype","propIsEnumerable","propertyIsEnumerable","objectAssign","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","join","test3","split","forEach","letter","keys","err","shouldUseNative","target","source","symbols","val","s","key","commonjsGlobal","window","self","createCommonjsModule","fn","browser","performance","now","Date","isPromise_1","obj","then","isDom","Node","nodeType","nodeName","getClientAPI","isBrowser","document","cache","shim","is_arguments","supportsArgumentsClass","toString","supported","object","unsupported","deepEqual_1","pSlice","slice","deepEqual","actual","expected","getTime","strict","isUndefinedOrNull","isBuffer","ka","kb","e","objEquiv","copy","dateformat","token","timezone","timezoneClip","dateFormat","date","mask","utc","gmt","toLowerCase","isNaN","maskSlice","masks","d","D","m","y","H","M","L","o","getTimezoneOffset","W","targetThursday","getFullYear","getMonth","getDate","setDate","getDay","firstThursday","ds","setHours","getHours","weekDiff","getWeek","N","dow","getDayOfWeek","flags","dd","pad","ddd","i18n","dayNames","dddd","mm","mmm","monthNames","mmmm","yy","yyyy","h","hh","HH","MM","ss","l","round","timeNames","tt","T","TT","Z","match","pop","replace","default","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","isoDate","isoTime","isoDateTime","isoUtcDateTime","expiresHeaderFormat","res","repeatString","str","num","substr","link","padLeft","ch","noop","supportedEncodings","saveDataURL","dataURL","Promise","resolve","splitIndex","indexOf","base64","byteString","atob","mimeMatch","exec","mime","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","Blob","type","createBlobFromDataURL","blob","saveBlob","filename","opt","file","extension","totalFrames","layerStr","totalLayers","layer","filter","Boolean","defaultFileName","timeStamp","prefix","name","hash","suffix","resolveFilename","client","output","ev","createElement","style","visibility","download","href","URL","createObjectURL","body","appendChild","onclick","setTimeout","revokeObjectURL","removeChild","removeAttribute","click","commonTypos","dimension","animated","animating","unit","P5","pixellated","looping","pixelPerInch","allKeys","checkSettings","settings","console","warn","includes","paperSizes","reduce","dict","preset","item","units","dimensions","convertDistance","unitsFrom","unitsTo","pixelsPerInch","precision","roundPixel","resizeCanvas","props","width","height","styleWidth","styleHeight","canvasWidth","canvasHeight","hasDimensions","checkIfHasDimensions","exporting","scaleToFit","scaleToView","pixelRatio","exportPixelRatio","bleed","devicePixelRatio","basePixelRatio","maxPixelRatio","trimWidth","trimHeight","ref","element","parent","innerWidth","innerHeight","getBoundingClientRect","getParentSize","parentWidth","parentHeight","result","Error","getDimensionsFromPreset","highest","lowest","orientation","landscape","realWidth","realHeight","aspect","windowAspect","scaleToFitPadding","maxWidth","maxHeight","scaleX","scaleY","viewportWidth","viewportHeight","getCanvasContext_1","canvas","gl","attribs","names","getContext","createCanvas","context","ownsCanvas","newCanvas","createCanvasElement","attributes","pixelated","imageSmoothingEnabled","mozImageSmoothingEnabled","oImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled","SketchManager","this$1","_settings","_props","_sketch","_raf","_lastRedrawResult","_isP5Resizing","_keyboardShortcuts","handler","enabled","keyCode","altKey","metaKey","ctrlKey","togglePlay","preventDefault","commit","save","attach","addEventListener","detach","removeEventListener","keyboardShortcuts","hotkeys","shiftKey","recording","endRecord","run","record","exportFrame","playing","pause","play","_animateHandler","animate","_resizeHandler","resize","render","prototypeAccessors","sketch","configurable","get","_computePlayhead","currentTime","duration","_computeFrame","playhead","time","fps","_computeCurrentFrame","_getSizeProps","dispose","started","_signalBegin","tick","cancelAnimationFrame","_lastTime","requestAnimationFrame","error","stop","deltaTime","frameInterval","sequence","log","_signalEnd","begin","_wrapContextScale","all","preExport","exportOpts","encoding","encodingQuality","commitOpts","_doExportFrame","drawResult","concat","hasDataObject","data","toDataURL","exportCanvas","layerList","curOpt","parts","saveFile","eventWithOutput","find","outputName","isClient","some","ofSeq","postExport","cb","_preRender","_postRender","p5","scale","scaleContext","restore","flush","redraw","submitDrawCall","update","notYetSupported","oldCanvas","oldContext","timeOpts","timeProps","getTimeProps","_setupGLKey","_appendCanvasIfNeeded","draw","oldSizes","newProps","pixelDensity","styleCanvas","newSizes","changed","_sizeChanged","frameIntervalMS","deltaTimeMS","hasDuration","isNewFrame","playbackRate","newTime","timeScale","isFinished","isLoopStart","loop","lastFrame","dispatch","mount","unmount","parentElement","ctx","clear","clearColor","bufferData","hasTotalFrames","totalFramesFromDuration","durationFromTotalFrames","Infinity","startTime","startFrame","hasStartTime","hasStartFrame","setup","loadAndRun","canvasSketch","newSettings","load","unload","destroy","createSketch","preload","P5Constructor","p5Sketch","isGL","renderer","WEBGL","P2D","noLoop","setAttributes","_renderer","drawingContext","loader","catch","message","defineProperties","CACHE","runtimeCollisions","hotID","isHot","hot","id","isInjecting","previousData","cacheGet","next","oldManager","manager","PaperSizes","conversions","system","factor","cm","pt","pc","in","ft","anchors","metric","ratio","imperial","fromUnit","toUnit","toFactor","fromFactor","isToPixel","fromUnitData","toUnitData","anchor","decimals"],"mappings":"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","file":"11-7b187581598ac04df459.js","sourcesContent":["var defined = require('defined');\nvar EPSILON = Number.EPSILON;\n\nfunction clamp (value, min, max) {\n  return min < max\n    ? (value < min ? min : value > max ? max : value)\n    : (value < max ? max : value > min ? min : value);\n}\n\nfunction clamp01 (v) {\n  return clamp(v, 0, 1);\n}\n\nfunction lerp (min, max, t) {\n  return min * (1 - t) + max * t;\n}\n\nfunction inverseLerp (min, max, t) {\n  if (Math.abs(min - max) < EPSILON) return 0;\n  else return (t - min) / (max - min);\n}\n\nfunction smoothstep (min, max, t) {\n  var x = clamp(inverseLerp(min, max, t), 0, 1);\n  return x * x * (3 - 2 * x);\n}\n\nfunction toFinite (n, defaultValue) {\n  defaultValue = defined(defaultValue, 0);\n  return typeof n === 'number' && isFinite(n) ? n : defaultValue;\n}\n\nfunction expandVector (dims) {\n  if (typeof dims !== 'number') throw new TypeError('Expected dims argument');\n  return function (p, defaultValue) {\n    defaultValue = defined(defaultValue, 0);\n    var scalar;\n    if (p == null) {\n      // No vector, create a default one\n      scalar = defaultValue;\n    } else if (typeof p === 'number' && isFinite(p)) {\n      // Expand single channel to multiple vector\n      scalar = p;\n    }\n\n    var out = [];\n    var i;\n    if (scalar == null) {\n      for (i = 0; i < dims; i++) {\n        out[i] = toFinite(p[i], defaultValue);\n      }\n    } else {\n      for (i = 0; i < dims; i++) {\n        out[i] = scalar;\n      }\n    }\n    return out;\n  };\n}\n\nfunction lerpArray (min, max, t, out) {\n  out = out || [];\n  if (min.length !== max.length) {\n    throw new TypeError('min and max array are expected to have the same length');\n  }\n  for (var i = 0; i < min.length; i++) {\n    out[i] = lerp(min[i], max[i], t);\n  }\n  return out;\n}\n\nfunction newArray (n, initialValue) {\n  n = defined(n, 0);\n  if (typeof n !== 'number') throw new TypeError('Expected n argument to be a number');\n  var out = [];\n  for (var i = 0; i < n; i++) out.push(initialValue);\n  return out;\n}\n\nfunction linspace (n, opts) {\n  n = defined(n, 0);\n  if (typeof n !== 'number') throw new TypeError('Expected n argument to be a number');\n  opts = opts || {};\n  if (typeof opts === 'boolean') {\n    opts = { endpoint: true };\n  }\n  var offset = defined(opts.offset, 0);\n  if (opts.endpoint) {\n    return newArray(n).map(function (_, i) {\n      return n <= 1 ? 0 : ((i + offset) / (n - 1));\n    });\n  } else {\n    return newArray(n).map(function (_, i) {\n      return (i + offset) / n;\n    });\n  }\n}\n\nfunction lerpFrames (values, t, out) {\n  t = clamp(t, 0, 1);\n\n  var len = values.length - 1;\n  var whole = t * len;\n  var frame = Math.floor(whole);\n  var fract = whole - frame;\n\n  var nextFrame = Math.min(frame + 1, len);\n  var a = values[frame % values.length];\n  var b = values[nextFrame % values.length];\n  if (typeof a === 'number' && typeof b === 'number') {\n    return lerp(a, b, fract);\n  } else if (Array.isArray(a) && Array.isArray(b)) {\n    return lerpArray(a, b, fract, out);\n  } else {\n    throw new TypeError('Mismatch in value type of two array elements: ' + frame + ' and ' + nextFrame);\n  }\n}\n\nfunction mod (a, b) {\n  return ((a % b) + b) % b;\n}\n\nfunction degToRad (n) {\n  return n * Math.PI / 180;\n}\n\nfunction radToDeg (n) {\n  return n * 180 / Math.PI;\n}\n\nfunction fract (n) {\n  return n - Math.floor(n);\n}\n\nfunction sign (n) {\n  if (n > 0) return 1;\n  else if (n < 0) return -1;\n  else return 0;\n}\n\nfunction wrap (value, from, to) {\n  if (typeof from !== 'number' || typeof to !== 'number') {\n    throw new TypeError('Must specify \"to\" and \"from\" arguments as numbers');\n  }\n  // algorithm from http://stackoverflow.com/a/5852628/599884\n  if (from > to) {\n    var t = from;\n    from = to;\n    to = t;\n  }\n  var cycle = to - from;\n  if (cycle === 0) {\n    return to;\n  }\n  return value - cycle * Math.floor((value - from) / cycle);\n}\n\n// Specific function from Unity / ofMath, not sure its needed?\n// function lerpWrap (a, b, t, min, max) {\n//   return wrap(a + wrap(b - a, min, max) * t, min, max)\n// }\n\nfunction pingPong (t, length) {\n  t = mod(t, length * 2);\n  return length - Math.abs(t - length);\n}\n\nfunction damp (a, b, lambda, dt) {\n  return lerp(a, b, 1 - Math.exp(-lambda * dt));\n}\n\nfunction dampArray (a, b, lambda, dt, out) {\n  out = out || [];\n  for (var i = 0; i < a.length; i++) {\n    out[i] = damp(a[i], b[i], lambda, dt);\n  }\n  return out;\n}\n\nfunction mapRange (value, inputMin, inputMax, outputMin, outputMax, clamp) {\n  // Reference:\n  // https://openframeworks.cc/documentation/math/ofMath/\n  if (Math.abs(inputMin - inputMax) < EPSILON) {\n    return outputMin;\n  } else {\n    var outVal = ((value - inputMin) / (inputMax - inputMin) * (outputMax - outputMin) + outputMin);\n    if (clamp) {\n      if (outputMax < outputMin) {\n        if (outVal < outputMax) outVal = outputMax;\n        else if (outVal > outputMin) outVal = outputMin;\n      } else {\n        if (outVal > outputMax) outVal = outputMax;\n        else if (outVal < outputMin) outVal = outputMin;\n      }\n    }\n    return outVal;\n  }\n}\n\nmodule.exports = {\n  mod: mod,\n  fract: fract,\n  sign: sign,\n  degToRad: degToRad,\n  radToDeg: radToDeg,\n  wrap: wrap,\n  pingPong: pingPong,\n  linspace: linspace,\n  lerp: lerp,\n  lerpArray: lerpArray,\n  inverseLerp: inverseLerp,\n  lerpFrames: lerpFrames,\n  clamp: clamp,\n  clamp01: clamp01,\n  smoothstep: smoothstep,\n  damp: damp,\n  dampArray: dampArray,\n  mapRange: mapRange,\n  expand2D: expandVector(2),\n  expand3D: expandVector(3),\n  expand4D: expandVector(4)\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('convert-length')) :\n    typeof define === 'function' && define.amd ? define(['convert-length'], factory) :\n    (global.canvasSketch = factory(null));\n}(this, (function (convertLength) {\n\n    convertLength = convertLength && convertLength.hasOwnProperty('default') ? convertLength['default'] : convertLength;\n\n    var defined = function () {\n        for (var i = 0; i < arguments.length; i++) {\n            if (arguments[i] !== undefined) return arguments[i];\n        }\n    };\n\n    /*\n    object-assign\n    (c) Sindre Sorhus\n    @license MIT\n    */\n    /* eslint-disable no-unused-vars */\n    var getOwnPropertySymbols = Object.getOwnPropertySymbols;\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    var propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\n    function toObject(val) {\n    \tif (val === null || val === undefined) {\n    \t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n    \t}\n\n    \treturn Object(val);\n    }\n\n    function shouldUseNative() {\n    \ttry {\n    \t\tif (!Object.assign) {\n    \t\t\treturn false;\n    \t\t}\n\n    \t\t// Detect buggy property enumeration order in older V8 versions.\n\n    \t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n    \t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n    \t\ttest1[5] = 'de';\n    \t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n    \t\t\treturn false;\n    \t\t}\n\n    \t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n    \t\tvar test2 = {};\n    \t\tfor (var i = 0; i < 10; i++) {\n    \t\t\ttest2['_' + String.fromCharCode(i)] = i;\n    \t\t}\n    \t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n    \t\t\treturn test2[n];\n    \t\t});\n    \t\tif (order2.join('') !== '0123456789') {\n    \t\t\treturn false;\n    \t\t}\n\n    \t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n    \t\tvar test3 = {};\n    \t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n    \t\t\ttest3[letter] = letter;\n    \t\t});\n    \t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n    \t\t\t\t'abcdefghijklmnopqrst') {\n    \t\t\treturn false;\n    \t\t}\n\n    \t\treturn true;\n    \t} catch (err) {\n    \t\t// We don't expect any of the above to throw, but better to be safe.\n    \t\treturn false;\n    \t}\n    }\n\n    var objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n    \tvar from;\n    \tvar to = toObject(target);\n    \tvar symbols;\n\n    \tfor (var s = 1; s < arguments.length; s++) {\n    \t\tfrom = Object(arguments[s]);\n\n    \t\tfor (var key in from) {\n    \t\t\tif (hasOwnProperty.call(from, key)) {\n    \t\t\t\tto[key] = from[key];\n    \t\t\t}\n    \t\t}\n\n    \t\tif (getOwnPropertySymbols) {\n    \t\t\tsymbols = getOwnPropertySymbols(from);\n    \t\t\tfor (var i = 0; i < symbols.length; i++) {\n    \t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n    \t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t}\n\n    \treturn to;\n    };\n\n    var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n    function createCommonjsModule(fn, module) {\n    \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n    }\n\n    var browser =\n      commonjsGlobal.performance &&\n      commonjsGlobal.performance.now ? function now() {\n        return performance.now()\n      } : Date.now || function now() {\n        return +new Date\n      };\n\n    var isPromise_1 = isPromise;\n\n    function isPromise(obj) {\n      return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n    }\n\n    var isDom = isNode;\n\n    function isNode (val) {\n      return (!val || typeof val !== 'object')\n        ? false\n        : (typeof window === 'object' && typeof window.Node === 'object')\n          ? (val instanceof window.Node)\n          : (typeof val.nodeType === 'number') &&\n            (typeof val.nodeName === 'string')\n    }\n\n    function getClientAPI() {\n        return typeof window !== 'undefined' && window['canvas-sketch-cli'];\n    }\n\n    function isBrowser() {\n        return typeof document !== 'undefined';\n    }\n\n    function isWebGLContext(ctx) {\n        return typeof ctx.clear === 'function' && typeof ctx.clearColor === 'function' && typeof ctx.bufferData === 'function';\n    }\n\n    function isCanvas(element) {\n        return isDom(element) && /canvas/i.test(element.nodeName) && typeof element.getContext === 'function';\n    }\n\n    var keys = createCommonjsModule(function (module, exports) {\n    exports = module.exports = typeof Object.keys === 'function'\n      ? Object.keys : shim;\n\n    exports.shim = shim;\n    function shim (obj) {\n      var keys = [];\n      for (var key in obj) keys.push(key);\n      return keys;\n    }\n    });\n    var keys_1 = keys.shim;\n\n    var is_arguments = createCommonjsModule(function (module, exports) {\n    var supportsArgumentsClass = (function(){\n      return Object.prototype.toString.call(arguments)\n    })() == '[object Arguments]';\n\n    exports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\n    exports.supported = supported;\n    function supported(object) {\n      return Object.prototype.toString.call(object) == '[object Arguments]';\n    }\n    exports.unsupported = unsupported;\n    function unsupported(object){\n      return object &&\n        typeof object == 'object' &&\n        typeof object.length == 'number' &&\n        Object.prototype.hasOwnProperty.call(object, 'callee') &&\n        !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n        false;\n    }});\n    var is_arguments_1 = is_arguments.supported;\n    var is_arguments_2 = is_arguments.unsupported;\n\n    var deepEqual_1 = createCommonjsModule(function (module) {\n    var pSlice = Array.prototype.slice;\n\n\n\n    var deepEqual = module.exports = function (actual, expected, opts) {\n      if (!opts) opts = {};\n      // 7.1. All identical values are equivalent, as determined by ===.\n      if (actual === expected) {\n        return true;\n\n      } else if (actual instanceof Date && expected instanceof Date) {\n        return actual.getTime() === expected.getTime();\n\n      // 7.3. Other pairs that do not both pass typeof value == 'object',\n      // equivalence is determined by ==.\n      } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n        return opts.strict ? actual === expected : actual == expected;\n\n      // 7.4. For all other Object pairs, including Array objects, equivalence is\n      // determined by having the same number of owned properties (as verified\n      // with Object.prototype.hasOwnProperty.call), the same set of keys\n      // (although not necessarily the same order), equivalent values for every\n      // corresponding key, and an identical 'prototype' property. Note: this\n      // accounts for both named and indexed properties on Arrays.\n      } else {\n        return objEquiv(actual, expected, opts);\n      }\n    };\n\n    function isUndefinedOrNull(value) {\n      return value === null || value === undefined;\n    }\n\n    function isBuffer (x) {\n      if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n      if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n        return false;\n      }\n      if (x.length > 0 && typeof x[0] !== 'number') return false;\n      return true;\n    }\n\n    function objEquiv(a, b, opts) {\n      var i, key;\n      if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n        return false;\n      // an identical 'prototype' property.\n      if (a.prototype !== b.prototype) return false;\n      //~~~I've managed to break Object.keys through screwy arguments passing.\n      //   Converting to array solves the problem.\n      if (is_arguments(a)) {\n        if (!is_arguments(b)) {\n          return false;\n        }\n        a = pSlice.call(a);\n        b = pSlice.call(b);\n        return deepEqual(a, b, opts);\n      }\n      if (isBuffer(a)) {\n        if (!isBuffer(b)) {\n          return false;\n        }\n        if (a.length !== b.length) return false;\n        for (i = 0; i < a.length; i++) {\n          if (a[i] !== b[i]) return false;\n        }\n        return true;\n      }\n      try {\n        var ka = keys(a),\n            kb = keys(b);\n      } catch (e) {//happens when one is a string literal and the other isn't\n        return false;\n      }\n      // having the same number of owned properties (keys incorporates\n      // hasOwnProperty)\n      if (ka.length != kb.length)\n        return false;\n      //the same set of keys (although not necessarily the same order),\n      ka.sort();\n      kb.sort();\n      //~~~cheap key test\n      for (i = ka.length - 1; i >= 0; i--) {\n        if (ka[i] != kb[i])\n          return false;\n      }\n      //equivalent values for every corresponding key, and\n      //~~~possibly expensive deep test\n      for (i = ka.length - 1; i >= 0; i--) {\n        key = ka[i];\n        if (!deepEqual(a[key], b[key], opts)) return false;\n      }\n      return typeof a === typeof b;\n    }\n    });\n\n    var dateformat = createCommonjsModule(function (module, exports) {\n    /*\n     * Date Format 1.2.3\n     * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\n     * MIT license\n     *\n     * Includes enhancements by Scott Trenda <scott.trenda.net>\n     * and Kris Kowal <cixar.com/~kris.kowal/>\n     *\n     * Accepts a date, a mask, or a date and a mask.\n     * Returns a formatted version of the given date.\n     * The date defaults to the current date/time.\n     * The mask defaults to dateFormat.masks.default.\n     */\n\n    (function(global) {\n\n      var dateFormat = (function() {\n          var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZWN]|\"[^\"]*\"|'[^']*'/g;\n          var timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g;\n          var timezoneClip = /[^-+\\dA-Z]/g;\n      \n          // Regexes and supporting functions are cached through closure\n          return function (date, mask, utc, gmt) {\n      \n            // You can't provide utc if you skip other args (use the 'UTC:' mask prefix)\n            if (arguments.length === 1 && kindOf(date) === 'string' && !/\\d/.test(date)) {\n              mask = date;\n              date = undefined;\n            }\n      \n            date = date || new Date;\n      \n            if(!(date instanceof Date)) {\n              date = new Date(date);\n            }\n      \n            if (isNaN(date)) {\n              throw TypeError('Invalid date');\n            }\n      \n            mask = String(dateFormat.masks[mask] || mask || dateFormat.masks['default']);\n      \n            // Allow setting the utc/gmt argument via the mask\n            var maskSlice = mask.slice(0, 4);\n            if (maskSlice === 'UTC:' || maskSlice === 'GMT:') {\n              mask = mask.slice(4);\n              utc = true;\n              if (maskSlice === 'GMT:') {\n                gmt = true;\n              }\n            }\n      \n            var _ = utc ? 'getUTC' : 'get';\n            var d = date[_ + 'Date']();\n            var D = date[_ + 'Day']();\n            var m = date[_ + 'Month']();\n            var y = date[_ + 'FullYear']();\n            var H = date[_ + 'Hours']();\n            var M = date[_ + 'Minutes']();\n            var s = date[_ + 'Seconds']();\n            var L = date[_ + 'Milliseconds']();\n            var o = utc ? 0 : date.getTimezoneOffset();\n            var W = getWeek(date);\n            var N = getDayOfWeek(date);\n            var flags = {\n              d:    d,\n              dd:   pad(d),\n              ddd:  dateFormat.i18n.dayNames[D],\n              dddd: dateFormat.i18n.dayNames[D + 7],\n              m:    m + 1,\n              mm:   pad(m + 1),\n              mmm:  dateFormat.i18n.monthNames[m],\n              mmmm: dateFormat.i18n.monthNames[m + 12],\n              yy:   String(y).slice(2),\n              yyyy: y,\n              h:    H % 12 || 12,\n              hh:   pad(H % 12 || 12),\n              H:    H,\n              HH:   pad(H),\n              M:    M,\n              MM:   pad(M),\n              s:    s,\n              ss:   pad(s),\n              l:    pad(L, 3),\n              L:    pad(Math.round(L / 10)),\n              t:    H < 12 ? dateFormat.i18n.timeNames[0] : dateFormat.i18n.timeNames[1],\n              tt:   H < 12 ? dateFormat.i18n.timeNames[2] : dateFormat.i18n.timeNames[3],\n              T:    H < 12 ? dateFormat.i18n.timeNames[4] : dateFormat.i18n.timeNames[5],\n              TT:   H < 12 ? dateFormat.i18n.timeNames[6] : dateFormat.i18n.timeNames[7],\n              Z:    gmt ? 'GMT' : utc ? 'UTC' : (String(date).match(timezone) || ['']).pop().replace(timezoneClip, ''),\n              o:    (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n              S:    ['th', 'st', 'nd', 'rd'][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10],\n              W:    W,\n              N:    N\n            };\n      \n            return mask.replace(token, function (match) {\n              if (match in flags) {\n                return flags[match];\n              }\n              return match.slice(1, match.length - 1);\n            });\n          };\n        })();\n\n      dateFormat.masks = {\n        'default':               'ddd mmm dd yyyy HH:MM:ss',\n        'shortDate':             'm/d/yy',\n        'mediumDate':            'mmm d, yyyy',\n        'longDate':              'mmmm d, yyyy',\n        'fullDate':              'dddd, mmmm d, yyyy',\n        'shortTime':             'h:MM TT',\n        'mediumTime':            'h:MM:ss TT',\n        'longTime':              'h:MM:ss TT Z',\n        'isoDate':               'yyyy-mm-dd',\n        'isoTime':               'HH:MM:ss',\n        'isoDateTime':           'yyyy-mm-dd\\'T\\'HH:MM:sso',\n        'isoUtcDateTime':        'UTC:yyyy-mm-dd\\'T\\'HH:MM:ss\\'Z\\'',\n        'expiresHeaderFormat':   'ddd, dd mmm yyyy HH:MM:ss Z'\n      };\n\n      // Internationalization strings\n      dateFormat.i18n = {\n        dayNames: [\n          'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat',\n          'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\n        ],\n        monthNames: [\n          'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',\n          'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\n        ],\n        timeNames: [\n          'a', 'p', 'am', 'pm', 'A', 'P', 'AM', 'PM'\n        ]\n      };\n\n    function pad(val, len) {\n      val = String(val);\n      len = len || 2;\n      while (val.length < len) {\n        val = '0' + val;\n      }\n      return val;\n    }\n\n    /**\n     * Get the ISO 8601 week number\n     * Based on comments from\n     * http://techblog.procurios.nl/k/n618/news/view/33796/14863/Calculate-ISO-8601-week-and-year-in-javascript.html\n     *\n     * @param  {Object} `date`\n     * @return {Number}\n     */\n    function getWeek(date) {\n      // Remove time components of date\n      var targetThursday = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n\n      // Change date to Thursday same week\n      targetThursday.setDate(targetThursday.getDate() - ((targetThursday.getDay() + 6) % 7) + 3);\n\n      // Take January 4th as it is always in week 1 (see ISO 8601)\n      var firstThursday = new Date(targetThursday.getFullYear(), 0, 4);\n\n      // Change date to Thursday same week\n      firstThursday.setDate(firstThursday.getDate() - ((firstThursday.getDay() + 6) % 7) + 3);\n\n      // Check if daylight-saving-time-switch occurred and correct for it\n      var ds = targetThursday.getTimezoneOffset() - firstThursday.getTimezoneOffset();\n      targetThursday.setHours(targetThursday.getHours() - ds);\n\n      // Number of weeks between target Thursday and first Thursday\n      var weekDiff = (targetThursday - firstThursday) / (86400000*7);\n      return 1 + Math.floor(weekDiff);\n    }\n\n    /**\n     * Get ISO-8601 numeric representation of the day of the week\n     * 1 (for Monday) through 7 (for Sunday)\n     * \n     * @param  {Object} `date`\n     * @return {Number}\n     */\n    function getDayOfWeek(date) {\n      var dow = date.getDay();\n      if(dow === 0) {\n        dow = 7;\n      }\n      return dow;\n    }\n\n    /**\n     * kind-of shortcut\n     * @param  {*} val\n     * @return {String}\n     */\n    function kindOf(val) {\n      if (val === null) {\n        return 'null';\n      }\n\n      if (val === undefined) {\n        return 'undefined';\n      }\n\n      if (typeof val !== 'object') {\n        return typeof val;\n      }\n\n      if (Array.isArray(val)) {\n        return 'array';\n      }\n\n      return {}.toString.call(val)\n        .slice(8, -1).toLowerCase();\n    }\n\n\n      if (typeof undefined === 'function' && undefined.amd) {\n        undefined(function () {\n          return dateFormat;\n        });\n      } else {\n        module.exports = dateFormat;\n      }\n    })(commonjsGlobal);\n    });\n\n    /*!\n     * repeat-string <https://github.com/jonschlinkert/repeat-string>\n     *\n     * Copyright (c) 2014-2015, Jon Schlinkert.\n     * Licensed under the MIT License.\n     */\n\n    /**\n     * Results cache\n     */\n\n    var res = '';\n    var cache;\n\n    /**\n     * Expose `repeat`\n     */\n\n    var repeatString = repeat;\n\n    /**\n     * Repeat the given `string` the specified `number`\n     * of times.\n     *\n     * **Example:**\n     *\n     * ```js\n     * var repeat = require('repeat-string');\n     * repeat('A', 5);\n     * //=> AAAAA\n     * ```\n     *\n     * @param {String} `string` The string to repeat\n     * @param {Number} `number` The number of times to repeat the string\n     * @return {String} Repeated string\n     * @api public\n     */\n\n    function repeat(str, num) {\n      if (typeof str !== 'string') {\n        throw new TypeError('expected a string');\n      }\n\n      // cover common, quick use cases\n      if (num === 1) return str;\n      if (num === 2) return str + str;\n\n      var max = str.length * num;\n      if (cache !== str || typeof cache === 'undefined') {\n        cache = str;\n        res = '';\n      } else if (res.length >= max) {\n        return res.substr(0, max);\n      }\n\n      while (max > res.length && num > 1) {\n        if (num & 1) {\n          res += str;\n        }\n\n        num >>= 1;\n        str += str;\n      }\n\n      res += str;\n      res = res.substr(0, max);\n      return res;\n    }\n\n    var padLeft = function padLeft(str, num, ch) {\n      str = str.toString();\n\n      if (typeof num === 'undefined') {\n        return str;\n      }\n\n      if (ch === 0) {\n        ch = '0';\n      } else if (ch) {\n        ch = ch.toString();\n      } else {\n        ch = ' ';\n      }\n\n      return repeatString(ch, num - str.length) + str;\n    };\n\n    var noop = function () {};\n    var link;\n    var supportedEncodings = ['image/png','image/jpeg','image/webp'];\n    function exportCanvas(canvas, opt) {\n        if ( opt === void 0 ) opt = {};\n\n        var encoding = opt.encoding || 'image/png';\n        if (!supportedEncodings.includes(encoding)) \n            { throw new Error((\"Invalid canvas encoding \" + encoding)); }\n        var extension = (encoding.split('/')[1] || '').replace(/jpeg/i, 'jpg');\n        if (extension) \n            { extension = (\".\" + extension).toLowerCase(); }\n        return {\n            extension: extension,\n            type: encoding,\n            dataURL: canvas.toDataURL(encoding, opt.encodingQuality)\n        };\n    }\n\n    function createBlobFromDataURL(dataURL) {\n        return new Promise(function (resolve) {\n            var splitIndex = dataURL.indexOf(',');\n            if (splitIndex === -1) {\n                resolve(new window.Blob());\n                return;\n            }\n            var base64 = dataURL.slice(splitIndex + 1);\n            var byteString = window.atob(base64);\n            var mimeMatch = /data:([^;+]);/.exec(dataURL);\n            var mime = (mimeMatch ? mimeMatch[1] : '') || undefined;\n            var ab = new ArrayBuffer(byteString.length);\n            var ia = new Uint8Array(ab);\n            for (var i = 0;i < byteString.length; i++) {\n                ia[i] = byteString.charCodeAt(i);\n            }\n            resolve(new window.Blob([ab], {\n                type: mime\n            }));\n        });\n    }\n\n    function saveDataURL(dataURL, opts) {\n        if ( opts === void 0 ) opts = {};\n\n        return createBlobFromDataURL(dataURL).then(function (blob) { return saveBlob(blob, opts); });\n    }\n\n    function saveBlob(blob, opts) {\n        if ( opts === void 0 ) opts = {};\n\n        return new Promise(function (resolve) {\n            opts = objectAssign({\n                extension: '',\n                prefix: '',\n                suffix: ''\n            }, opts);\n            var filename = resolveFilename(opts);\n            var client = getClientAPI();\n            if (client && typeof client.saveBlob === 'function' && client.output) {\n                return client.saveBlob(blob, objectAssign({}, opts, {\n                    filename: filename\n                })).then(function (ev) { return resolve(ev); });\n            } else {\n                if (!link) {\n                    link = document.createElement('a');\n                    link.style.visibility = 'hidden';\n                    link.target = '_blank';\n                }\n                link.download = filename;\n                link.href = window.URL.createObjectURL(blob);\n                document.body.appendChild(link);\n                link.onclick = (function () {\n                    link.onclick = noop;\n                    setTimeout(function () {\n                        window.URL.revokeObjectURL(blob);\n                        document.body.removeChild(link);\n                        link.removeAttribute('href');\n                        resolve({\n                            filename: filename,\n                            client: false\n                        });\n                    });\n                });\n                link.click();\n            }\n        });\n    }\n\n    function saveFile(data, opts) {\n        if ( opts === void 0 ) opts = {};\n\n        var parts = Array.isArray(data) ? data : [data];\n        var blob = new window.Blob(parts, {\n            type: opts.type || ''\n        });\n        return saveBlob(blob, opts);\n    }\n\n    function getFileName() {\n        var dateFormatStr = \"yyyy.mm.dd-HH.MM.ss\";\n        return dateformat(new Date(), dateFormatStr);\n    }\n\n    function resolveFilename(opt) {\n        if ( opt === void 0 ) opt = {};\n\n        opt = objectAssign({}, opt);\n        if (typeof opt.file === 'function') {\n            return opt.file(opt);\n        } else if (opt.file) {\n            return opt.file;\n        }\n        var frame = null;\n        var extension = '';\n        if (typeof opt.extension === 'string') \n            { extension = opt.extension; }\n        if (typeof opt.frame === 'number') {\n            var totalFrames;\n            if (typeof opt.totalFrames === 'number') {\n                totalFrames = opt.totalFrames;\n            } else {\n                totalFrames = Math.max(1000, opt.frame);\n            }\n            frame = padLeft(String(opt.frame), String(totalFrames).length, '0');\n        }\n        var layerStr = isFinite(opt.totalLayers) && isFinite(opt.layer) && opt.totalLayers > 1 ? (\"\" + (opt.layer)) : '';\n        if (frame != null) {\n            return [layerStr,frame].filter(Boolean).join('-') + extension;\n        } else {\n            var defaultFileName = opt.timeStamp;\n            return [opt.prefix,opt.name || defaultFileName,layerStr,opt.hash,opt.suffix].filter(Boolean).join('-') + extension;\n        }\n    }\n\n    var commonTypos = {\n        dimension: 'dimensions',\n        animated: 'animate',\n        animating: 'animate',\n        unit: 'units',\n        P5: 'p5',\n        pixellated: 'pixelated',\n        looping: 'loop',\n        pixelPerInch: 'pixels'\n    };\n    var allKeys = ['dimensions','units','pixelsPerInch','orientation','scaleToFit',\n        'scaleToView','bleed','pixelRatio','exportPixelRatio','maxPixelRatio','scaleContext',\n        'resizeCanvas','styleCanvas','canvas','context','attributes','parent','file',\n        'name','prefix','suffix','animate','playing','loop','duration','totalFrames',\n        'fps','playbackRate','timeScale','frame','time','flush','pixelated','hotkeys',\n        'p5','id','scaleToFitPadding','data','params','encoding','encodingQuality'];\n    var checkSettings = function (settings) {\n        var keys = Object.keys(settings);\n        keys.forEach(function (key) {\n            if (key in commonTypos) {\n                var actual = commonTypos[key];\n                console.warn((\"[canvas-sketch] Could not recognize the setting \\\"\" + key + \"\\\", did you mean \\\"\" + actual + \"\\\"?\"));\n            } else if (!allKeys.includes(key)) {\n                console.warn((\"[canvas-sketch] Could not recognize the setting \\\"\" + key + \"\\\"\"));\n            }\n        });\n    };\n\n    function keyboardShortcuts (opt) {\n        if ( opt === void 0 ) opt = {};\n\n        var handler = function (ev) {\n            if (!opt.enabled()) \n                { return; }\n            var client = getClientAPI();\n            if (ev.keyCode === 83 && !ev.altKey && (ev.metaKey || ev.ctrlKey)) {\n                ev.preventDefault();\n                opt.save(ev);\n            } else if (ev.keyCode === 32) {\n                opt.togglePlay(ev);\n            } else if (client && !ev.altKey && ev.keyCode === 75 && (ev.metaKey || ev.ctrlKey)) {\n                ev.preventDefault();\n                opt.commit(ev);\n            }\n        };\n        var attach = function () {\n            window.addEventListener('keydown', handler);\n        };\n        var detach = function () {\n            window.removeEventListener('keydown', handler);\n        };\n        return {\n            attach: attach,\n            detach: detach\n        };\n    }\n\n    var defaultUnits = 'mm';\n    var data = [['postcard',101.6,152.4],['poster-small',280,430],['poster',460,610],\n        ['poster-large',610,910],['business-card',50.8,88.9],['2r',64,89],['3r',89,127],\n        ['4r',102,152],['5r',127,178],['6r',152,203],['8r',203,254],['10r',254,305],['11r',\n        279,356],['12r',305,381],['a0',841,1189],['a1',594,841],['a2',420,594],['a3',\n        297,420],['a4',210,297],['a5',148,210],['a6',105,148],['a7',74,105],['a8',52,\n        74],['a9',37,52],['a10',26,37],['2a0',1189,1682],['4a0',1682,2378],['b0',1000,\n        1414],['b1',707,1000],['b1+',720,1020],['b2',500,707],['b2+',520,720],['b3',353,\n        500],['b4',250,353],['b5',176,250],['b6',125,176],['b7',88,125],['b8',62,88],\n        ['b9',44,62],['b10',31,44],['b11',22,32],['b12',16,22],['c0',917,1297],['c1',\n        648,917],['c2',458,648],['c3',324,458],['c4',229,324],['c5',162,229],['c6',114,\n        162],['c7',81,114],['c8',57,81],['c9',40,57],['c10',28,40],['c11',22,32],['c12',\n        16,22],['half-letter',5.5,8.5,'in'],['letter',8.5,11,'in'],['legal',8.5,14,'in'],\n        ['junior-legal',5,8,'in'],['ledger',11,17,'in'],['tabloid',11,17,'in'],['ansi-a',\n        8.5,11.0,'in'],['ansi-b',11.0,17.0,'in'],['ansi-c',17.0,22.0,'in'],['ansi-d',\n        22.0,34.0,'in'],['ansi-e',34.0,44.0,'in'],['arch-a',9,12,'in'],['arch-b',12,18,\n        'in'],['arch-c',18,24,'in'],['arch-d',24,36,'in'],['arch-e',36,48,'in'],['arch-e1',\n        30,42,'in'],['arch-e2',26,38,'in'],['arch-e3',27,39,'in']];\n    var paperSizes = data.reduce(function (dict, preset) {\n        var item = {\n            units: preset[3] || defaultUnits,\n            dimensions: [preset[1],preset[2]]\n        };\n        dict[preset[0]] = item;\n        dict[preset[0].replace(/-/g, ' ')] = item;\n        return dict;\n    }, {})\n\n    function getDimensionsFromPreset(dimensions, unitsTo, pixelsPerInch) {\n        if ( unitsTo === void 0 ) unitsTo = 'px';\n        if ( pixelsPerInch === void 0 ) pixelsPerInch = 72;\n\n        if (typeof dimensions === 'string') {\n            var key = dimensions.toLowerCase();\n            if (!(key in paperSizes)) {\n                throw new Error((\"The dimension preset \\\"\" + dimensions + \"\\\" is not supported or could not be found; try using a4, a3, postcard, letter, etc.\"));\n            }\n            var preset = paperSizes[key];\n            return preset.dimensions.map(function (d) { return convertDistance(d, preset.units, unitsTo, pixelsPerInch); });\n        } else {\n            return dimensions;\n        }\n    }\n\n    function convertDistance(dimension, unitsFrom, unitsTo, pixelsPerInch) {\n        if ( unitsFrom === void 0 ) unitsFrom = 'px';\n        if ( unitsTo === void 0 ) unitsTo = 'px';\n        if ( pixelsPerInch === void 0 ) pixelsPerInch = 72;\n\n        return convertLength(dimension, unitsFrom, unitsTo, {\n            pixelsPerInch: pixelsPerInch,\n            precision: 4,\n            roundPixel: true\n        });\n    }\n\n    function checkIfHasDimensions(settings) {\n        if (!settings.dimensions) \n            { return false; }\n        if (typeof settings.dimensions === 'string') \n            { return true; }\n        if (Array.isArray(settings.dimensions) && settings.dimensions.length >= 2) \n            { return true; }\n        return false;\n    }\n\n    function getParentSize(props, settings) {\n        if (!isBrowser()) {\n            return [300,150];\n        }\n        var element = settings.parent || window;\n        if (element === window || element === document || element === document.body) {\n            return [window.innerWidth,window.innerHeight];\n        } else {\n            var ref = element.getBoundingClientRect();\n            var width = ref.width;\n            var height = ref.height;\n            return [width,height];\n        }\n    }\n\n    function resizeCanvas(props, settings) {\n        var width, height;\n        var styleWidth, styleHeight;\n        var canvasWidth, canvasHeight;\n        var browser = isBrowser();\n        var dimensions = settings.dimensions;\n        var hasDimensions = checkIfHasDimensions(settings);\n        var exporting = props.exporting;\n        var scaleToFit = hasDimensions ? settings.scaleToFit !== false : false;\n        var scaleToView = !exporting && hasDimensions ? settings.scaleToView : true;\n        if (!browser) \n            { scaleToFit = (scaleToView = false); }\n        var units = settings.units;\n        var pixelsPerInch = typeof settings.pixelsPerInch === 'number' && isFinite(settings.pixelsPerInch) ? settings.pixelsPerInch : 72;\n        var bleed = defined(settings.bleed, 0);\n        var devicePixelRatio = browser ? window.devicePixelRatio : 1;\n        var basePixelRatio = scaleToView ? devicePixelRatio : 1;\n        var pixelRatio, exportPixelRatio;\n        if (typeof settings.pixelRatio === 'number' && isFinite(settings.pixelRatio)) {\n            pixelRatio = settings.pixelRatio;\n            exportPixelRatio = defined(settings.exportPixelRatio, pixelRatio);\n        } else {\n            if (hasDimensions) {\n                pixelRatio = basePixelRatio;\n                exportPixelRatio = defined(settings.exportPixelRatio, 1);\n            } else {\n                pixelRatio = devicePixelRatio;\n                exportPixelRatio = defined(settings.exportPixelRatio, pixelRatio);\n            }\n        }\n        if (typeof settings.maxPixelRatio === 'number' && isFinite(settings.maxPixelRatio)) {\n            pixelRatio = Math.min(settings.maxPixelRatio, pixelRatio);\n            exportPixelRatio = Math.min(settings.maxPixelRatio, exportPixelRatio);\n        }\n        if (exporting) {\n            pixelRatio = exportPixelRatio;\n        }\n        var ref = getParentSize(props, settings);\n        var parentWidth = ref[0];\n        var parentHeight = ref[1];\n        var trimWidth, trimHeight;\n        if (hasDimensions) {\n            var result = getDimensionsFromPreset(dimensions, units, pixelsPerInch);\n            var highest = Math.max(result[0], result[1]);\n            var lowest = Math.min(result[0], result[1]);\n            if (settings.orientation) {\n                var landscape = settings.orientation === 'landscape';\n                width = landscape ? highest : lowest;\n                height = landscape ? lowest : highest;\n            } else {\n                width = result[0];\n                height = result[1];\n            }\n            trimWidth = width;\n            trimHeight = height;\n            width += bleed * 2;\n            height += bleed * 2;\n        } else {\n            width = parentWidth;\n            height = parentHeight;\n            trimWidth = width;\n            trimHeight = height;\n        }\n        var realWidth = width;\n        var realHeight = height;\n        if (hasDimensions && units) {\n            realWidth = convertDistance(width, units, 'px', pixelsPerInch);\n            realHeight = convertDistance(height, units, 'px', pixelsPerInch);\n        }\n        styleWidth = Math.round(realWidth);\n        styleHeight = Math.round(realHeight);\n        if (scaleToFit && !exporting && hasDimensions) {\n            var aspect = width / height;\n            var windowAspect = parentWidth / parentHeight;\n            var scaleToFitPadding = defined(settings.scaleToFitPadding, 40);\n            var maxWidth = Math.round(parentWidth - scaleToFitPadding * 2);\n            var maxHeight = Math.round(parentHeight - scaleToFitPadding * 2);\n            if (styleWidth > maxWidth || styleHeight > maxHeight) {\n                if (windowAspect > aspect) {\n                    styleHeight = maxHeight;\n                    styleWidth = Math.round(styleHeight * aspect);\n                } else {\n                    styleWidth = maxWidth;\n                    styleHeight = Math.round(styleWidth / aspect);\n                }\n            }\n        }\n        canvasWidth = scaleToView ? Math.round(pixelRatio * styleWidth) : Math.round(pixelRatio * realWidth);\n        canvasHeight = scaleToView ? Math.round(pixelRatio * styleHeight) : Math.round(pixelRatio * realHeight);\n        var viewportWidth = scaleToView ? Math.round(styleWidth) : Math.round(realWidth);\n        var viewportHeight = scaleToView ? Math.round(styleHeight) : Math.round(realHeight);\n        var scaleX = canvasWidth / width;\n        var scaleY = canvasHeight / height;\n        return {\n            bleed: bleed,\n            pixelRatio: pixelRatio,\n            width: width,\n            height: height,\n            dimensions: [width,height],\n            units: units || 'px',\n            scaleX: scaleX,\n            scaleY: scaleY,\n            viewportWidth: viewportWidth,\n            viewportHeight: viewportHeight,\n            canvasWidth: canvasWidth,\n            canvasHeight: canvasHeight,\n            trimWidth: trimWidth,\n            trimHeight: trimHeight,\n            styleWidth: styleWidth,\n            styleHeight: styleHeight\n        };\n    }\n\n    var getCanvasContext_1 = getCanvasContext;\n    function getCanvasContext (type, opts) {\n      if (typeof type !== 'string') {\n        throw new TypeError('must specify type string')\n      }\n\n      opts = opts || {};\n\n      if (typeof document === 'undefined' && !opts.canvas) {\n        return null // check for Node\n      }\n\n      var canvas = opts.canvas || document.createElement('canvas');\n      if (typeof opts.width === 'number') {\n        canvas.width = opts.width;\n      }\n      if (typeof opts.height === 'number') {\n        canvas.height = opts.height;\n      }\n\n      var attribs = opts;\n      var gl;\n      try {\n        var names = [ type ];\n        // prefix GL contexts\n        if (type.indexOf('webgl') === 0) {\n          names.push('experimental-' + type);\n        }\n\n        for (var i = 0; i < names.length; i++) {\n          gl = canvas.getContext(names[i], attribs);\n          if (gl) return gl\n        }\n      } catch (e) {\n        gl = null;\n      }\n      return (gl || null) // ensure null on fail\n    }\n\n    function createCanvasElement() {\n        if (!isBrowser()) {\n            throw new Error('It appears you are runing from Node.js or a non-browser environment. Try passing in an existing { canvas } interface instead.');\n        }\n        return document.createElement('canvas');\n    }\n\n    function createCanvas(settings) {\n        if ( settings === void 0 ) settings = {};\n\n        var context, canvas;\n        var ownsCanvas = false;\n        if (settings.canvas !== false) {\n            context = settings.context;\n            if (!context || typeof context === 'string') {\n                var newCanvas = settings.canvas;\n                if (!newCanvas) {\n                    newCanvas = createCanvasElement();\n                    ownsCanvas = true;\n                }\n                var type = context || '2d';\n                if (typeof newCanvas.getContext !== 'function') {\n                    throw new Error(\"The specified { canvas } element does not have a getContext() function, maybe it is not a <canvas> tag?\");\n                }\n                context = getCanvasContext_1(type, objectAssign({}, settings.attributes, {\n                    canvas: newCanvas\n                }));\n                if (!context) {\n                    throw new Error((\"Failed at canvas.getContext('\" + type + \"') - the browser may not support this context, or a different context may already be in use with this canvas.\"));\n                }\n            }\n            canvas = context.canvas;\n            if (settings.canvas && canvas !== settings.canvas) {\n                throw new Error('The { canvas } and { context } settings must point to the same underlying canvas element');\n            }\n            if (settings.pixelated) {\n                context.imageSmoothingEnabled = false;\n                context.mozImageSmoothingEnabled = false;\n                context.oImageSmoothingEnabled = false;\n                context.webkitImageSmoothingEnabled = false;\n                context.msImageSmoothingEnabled = false;\n                canvas.style['image-rendering'] = 'pixelated';\n            }\n        }\n        return {\n            canvas: canvas,\n            context: context,\n            ownsCanvas: ownsCanvas\n        };\n    }\n\n    var SketchManager = function SketchManager() {\n        var this$1 = this;\n\n        this._settings = {};\n        this._props = {};\n        this._sketch = undefined;\n        this._raf = null;\n        this._lastRedrawResult = undefined;\n        this._isP5Resizing = false;\n        this._keyboardShortcuts = keyboardShortcuts({\n            enabled: function () { return this$1.settings.hotkeys !== false; },\n            save: function (ev) {\n                if (ev.shiftKey) {\n                    if (this$1.props.recording) {\n                        this$1.endRecord();\n                        this$1.run();\n                    } else \n                        { this$1.record(); }\n                } else \n                    { this$1.exportFrame(); }\n            },\n            togglePlay: function () {\n                if (this$1.props.playing) \n                    { this$1.pause(); }\n                 else \n                    { this$1.play(); }\n            },\n            commit: function (ev) {\n                this$1.exportFrame({\n                    commit: true\n                });\n            }\n        });\n        this._animateHandler = (function () { return this$1.animate(); });\n        this._resizeHandler = (function () {\n            var changed = this$1.resize();\n            if (changed) {\n                this$1.render();\n            }\n        });\n    };\n\n    var prototypeAccessors = { sketch: { configurable: true },settings: { configurable: true },props: { configurable: true } };\n    prototypeAccessors.sketch.get = function () {\n        return this._sketch;\n    };\n    prototypeAccessors.settings.get = function () {\n        return this._settings;\n    };\n    prototypeAccessors.props.get = function () {\n        return this._props;\n    };\n    SketchManager.prototype._computePlayhead = function _computePlayhead (currentTime, duration) {\n        var hasDuration = typeof duration === 'number' && isFinite(duration);\n        return hasDuration ? currentTime / duration : 0;\n    };\n    SketchManager.prototype._computeFrame = function _computeFrame (playhead, time, totalFrames, fps) {\n        return isFinite(totalFrames) && totalFrames > 1 ? Math.floor(playhead * (totalFrames - 1)) : Math.floor(fps * time);\n    };\n    SketchManager.prototype._computeCurrentFrame = function _computeCurrentFrame () {\n        return this._computeFrame(this.props.playhead, this.props.time, this.props.totalFrames, this.props.fps);\n    };\n    SketchManager.prototype._getSizeProps = function _getSizeProps () {\n        var props = this.props;\n        return {\n            width: props.width,\n            height: props.height,\n            pixelRatio: props.pixelRatio,\n            canvasWidth: props.canvasWidth,\n            canvasHeight: props.canvasHeight,\n            viewportWidth: props.viewportWidth,\n            viewportHeight: props.viewportHeight\n        };\n    };\n    SketchManager.prototype.run = function run () {\n        if (!this.sketch) \n            { throw new Error('should wait until sketch is loaded before trying to play()'); }\n        if (this.settings.playing !== false) {\n            this.play();\n        }\n        if (typeof this.sketch.dispose === 'function') {\n            console.warn('In canvas-sketch@0.0.23 the dispose() event has been renamed to unload()');\n        }\n        if (!this.props.started) {\n            this._signalBegin();\n            this.props.started = true;\n        }\n        this.tick();\n        this.render();\n        return this;\n    };\n    SketchManager.prototype.play = function play () {\n        var animate = this.settings.animate;\n        if ('animation' in this.settings) {\n            animate = true;\n            console.warn('[canvas-sketch] { animation } has been renamed to { animate }');\n        }\n        if (!animate) \n            { return; }\n        if (!isBrowser()) {\n            console.error('[canvas-sketch] WARN: Using { animate } in Node.js is not yet supported');\n            return;\n        }\n        if (this.props.playing) \n            { return; }\n        if (!this.props.started) {\n            this._signalBegin();\n            this.props.started = true;\n        }\n        this.props.playing = true;\n        if (this._raf != null) \n            { window.cancelAnimationFrame(this._raf); }\n        this._lastTime = browser();\n        this._raf = window.requestAnimationFrame(this._animateHandler);\n    };\n    SketchManager.prototype.pause = function pause () {\n        if (this.props.recording) \n            { this.endRecord(); }\n        this.props.playing = false;\n        if (this._raf != null && isBrowser()) {\n            window.cancelAnimationFrame(this._raf);\n        }\n    };\n    SketchManager.prototype.togglePlay = function togglePlay () {\n        if (this.props.playing) \n            { this.pause(); }\n         else \n            { this.play(); }\n    };\n    SketchManager.prototype.stop = function stop () {\n        this.pause();\n        this.props.frame = 0;\n        this.props.playhead = 0;\n        this.props.time = 0;\n        this.props.deltaTime = 0;\n        this.props.started = false;\n        this.render();\n    };\n    SketchManager.prototype.record = function record () {\n            var this$1 = this;\n\n        if (this.props.recording) \n            { return; }\n        if (!isBrowser()) {\n            console.error('[canvas-sketch] WARN: Recording from Node.js is not yet supported');\n            return;\n        }\n        this.stop();\n        this.props.playing = true;\n        this.props.recording = true;\n        var frameInterval = 1 / this.props.fps;\n        if (this._raf != null) \n            { window.cancelAnimationFrame(this._raf); }\n        var tick = function () {\n            if (!this$1.props.recording) \n                { return Promise.resolve(); }\n            this$1.props.deltaTime = frameInterval;\n            this$1.tick();\n            return this$1.exportFrame({\n                sequence: true\n            }).then(function () {\n                if (!this$1.props.recording) \n                    { return; }\n                this$1.props.deltaTime = 0;\n                this$1.props.frame++;\n                if (this$1.props.frame < this$1.props.totalFrames) {\n                    this$1.props.time += frameInterval;\n                    this$1.props.playhead = this$1._computePlayhead(this$1.props.time, this$1.props.duration);\n                    this$1._raf = window.requestAnimationFrame(tick);\n                } else {\n                    console.log('Finished recording');\n                    this$1._signalEnd();\n                    this$1.endRecord();\n                    this$1.stop();\n                    this$1.run();\n                }\n            });\n        };\n        if (!this.props.started) {\n            this._signalBegin();\n            this.props.started = true;\n        }\n        this._raf = window.requestAnimationFrame(tick);\n    };\n    SketchManager.prototype._signalBegin = function _signalBegin () {\n            var this$1 = this;\n\n        if (this.sketch && typeof this.sketch.begin === 'function') {\n            this._wrapContextScale(function (props) { return this$1.sketch.begin(props); });\n        }\n    };\n    SketchManager.prototype._signalEnd = function _signalEnd () {\n            var this$1 = this;\n\n        if (this.sketch && typeof this.sketch.end === 'function') {\n            this._wrapContextScale(function (props) { return this$1.sketch.end(props); });\n        }\n    };\n    SketchManager.prototype.endRecord = function endRecord () {\n        if (this._raf != null && isBrowser()) \n            { window.cancelAnimationFrame(this._raf); }\n        this.props.recording = false;\n        this.props.deltaTime = 0;\n        this.props.playing = false;\n    };\n    SketchManager.prototype.exportFrame = function exportFrame (opt) {\n            var this$1 = this;\n            if ( opt === void 0 ) opt = {};\n\n        if (!this.sketch) \n            { return Promise.all([]); }\n        if (typeof this.sketch.preExport === 'function') {\n            this.sketch.preExport();\n        }\n        var exportOpts = objectAssign({\n            sequence: opt.sequence,\n            frame: opt.sequence ? this.props.frame : undefined,\n            file: this.settings.file,\n            name: this.settings.name,\n            prefix: this.settings.prefix,\n            suffix: this.settings.suffix,\n            encoding: this.settings.encoding,\n            encodingQuality: this.settings.encodingQuality,\n            timeStamp: getFileName(),\n            totalFrames: isFinite(this.props.totalFrames) ? Math.max(100, this.props.totalFrames) : 1000\n        });\n        var client = getClientAPI();\n        var p = Promise.resolve();\n        if (client && opt.commit && typeof client.commit === 'function') {\n            var commitOpts = objectAssign({}, exportOpts);\n            var hash = client.commit(commitOpts);\n            if (isPromise_1(hash)) \n                { p = hash; }\n             else \n                { p = Promise.resolve(hash); }\n        }\n        return p.then(function (hash) { return this$1._doExportFrame(objectAssign({}, exportOpts, {\n            hash: hash || ''\n        })); });\n    };\n    SketchManager.prototype._doExportFrame = function _doExportFrame (exportOpts) {\n            var this$1 = this;\n            if ( exportOpts === void 0 ) exportOpts = {};\n\n        this._props.exporting = true;\n        this.resize();\n        var drawResult = this.render();\n        var canvas = this.props.canvas;\n        if (typeof drawResult === 'undefined') {\n            drawResult = [canvas];\n        }\n        drawResult = [].concat(drawResult).filter(Boolean);\n        drawResult = drawResult.map(function (result) {\n            var hasDataObject = typeof result === 'object' && result && ('data' in result || 'dataURL' in result);\n            var data = hasDataObject ? result.data : result;\n            var opts = hasDataObject ? objectAssign({}, result, {\n                data: data\n            }) : {\n                data: data\n            };\n            if (isCanvas(data)) {\n                var encoding = opts.encoding || exportOpts.encoding;\n                var encodingQuality = defined(opts.encodingQuality, exportOpts.encodingQuality, 0.95);\n                var ref = exportCanvas(data, {\n                    encoding: encoding,\n                    encodingQuality: encodingQuality\n                });\n                    var dataURL = ref.dataURL;\n                    var extension = ref.extension;\n                    var type = ref.type;\n                return Object.assign(opts, {\n                    dataURL: dataURL,\n                    extension: extension,\n                    type: type\n                });\n            } else {\n                return opts;\n            }\n        });\n        this._props.exporting = false;\n        this.resize();\n        this.render();\n        return Promise.all(drawResult.map(function (result, i, layerList) {\n            var curOpt = objectAssign({}, exportOpts, result, {\n                layer: i,\n                totalLayers: layerList.length\n            });\n            var data = result.data;\n            if (result.dataURL) {\n                var dataURL = result.dataURL;\n                delete curOpt.dataURL;\n                return saveDataURL(dataURL, curOpt);\n            } else {\n                return saveFile(data, curOpt);\n            }\n        })).then(function (ev) {\n            if (ev.length > 0) {\n                var eventWithOutput = ev.find(function (e) { return e.outputName; });\n                var isClient = ev.some(function (e) { return e.client; });\n                var item;\n                if (ev.length > 1) \n                    { item = ev.length; }\n                 else if (eventWithOutput) \n                    { item = (eventWithOutput.outputName) + \"/\" + (ev[0].filename); }\n                 else \n                    { item = \"\" + (ev[0].filename); }\n                var ofSeq = '';\n                if (exportOpts.sequence) {\n                    var hasTotalFrames = isFinite(this$1.props.totalFrames);\n                    ofSeq = hasTotalFrames ? (\" (frame \" + (exportOpts.frame + 1) + \" / \" + (this$1.props.totalFrames) + \")\") : (\" (frame \" + (exportOpts.frame) + \")\");\n                } else if (ev.length > 1) {\n                    ofSeq = \" files\";\n                }\n                var client = isClient ? 'canvas-sketch-cli' : 'canvas-sketch';\n                console.log((\"%c[\" + client + \"]%c Exported %c\" + item + \"%c\" + ofSeq), 'color: #8e8e8e;', 'color: initial;', 'font-weight: bold;', 'font-weight: initial;');\n            }\n            if (typeof this$1.sketch.postExport === 'function') {\n                this$1.sketch.postExport();\n            }\n        });\n    };\n    SketchManager.prototype._wrapContextScale = function _wrapContextScale (cb) {\n        this._preRender();\n        cb(this.props);\n        this._postRender();\n    };\n    SketchManager.prototype._preRender = function _preRender () {\n        var props = this.props;\n        if (!this.props.gl && props.context && !props.p5) {\n            props.context.save();\n            if (this.settings.scaleContext !== false) {\n                props.context.scale(props.scaleX, props.scaleY);\n            }\n        } else if (props.p5) {\n            props.p5.scale(props.scaleX / props.pixelRatio, props.scaleY / props.pixelRatio);\n        }\n    };\n    SketchManager.prototype._postRender = function _postRender () {\n        var props = this.props;\n        if (!this.props.gl && props.context && !props.p5) {\n            props.context.restore();\n        }\n        if (props.gl && this.settings.flush !== false && !props.p5) {\n            props.gl.flush();\n        }\n    };\n    SketchManager.prototype.tick = function tick () {\n        if (this.sketch && typeof this.sketch.tick === 'function') {\n            this._preRender();\n            this.sketch.tick(this.props);\n            this._postRender();\n        }\n    };\n    SketchManager.prototype.render = function render () {\n        if (this.props.p5) {\n            this._lastRedrawResult = undefined;\n            this.props.p5.redraw();\n            return this._lastRedrawResult;\n        } else {\n            return this.submitDrawCall();\n        }\n    };\n    SketchManager.prototype.submitDrawCall = function submitDrawCall () {\n        if (!this.sketch) \n            { return; }\n        var props = this.props;\n        this._preRender();\n        var drawResult;\n        if (typeof this.sketch === 'function') {\n            drawResult = this.sketch(props);\n        } else if (typeof this.sketch.render === 'function') {\n            drawResult = this.sketch.render(props);\n        }\n        this._postRender();\n        return drawResult;\n    };\n    SketchManager.prototype.update = function update (opt) {\n            var this$1 = this;\n            if ( opt === void 0 ) opt = {};\n\n        var notYetSupported = ['animate'];\n        Object.keys(opt).forEach(function (key) {\n            if (notYetSupported.indexOf(key) >= 0) {\n                throw new Error((\"Sorry, the { \" + key + \" } option is not yet supported with update().\"));\n            }\n        });\n        var oldCanvas = this._settings.canvas;\n        var oldContext = this._settings.context;\n        for (var key in opt) {\n            var value = opt[key];\n            if (typeof value !== 'undefined') {\n                this$1._settings[key] = value;\n            }\n        }\n        var timeOpts = Object.assign({}, this._settings, opt);\n        if ('time' in opt && 'frame' in opt) \n            { throw new Error('You should specify { time } or { frame } but not both'); }\n         else if ('time' in opt) \n            { delete timeOpts.frame; }\n         else if ('frame' in opt) \n            { delete timeOpts.time; }\n        if ('duration' in opt && 'totalFrames' in opt) \n            { throw new Error('You should specify { duration } or { totalFrames } but not both'); }\n         else if ('duration' in opt) \n            { delete timeOpts.totalFrames; }\n         else if ('totalFrames' in opt) \n            { delete timeOpts.duration; }\n        if ('data' in opt) \n            { this._props.data = opt.data; }\n        var timeProps = this.getTimeProps(timeOpts);\n        Object.assign(this._props, timeProps);\n        if (oldCanvas !== this._settings.canvas || oldContext !== this._settings.context) {\n            var ref = createCanvas(this._settings);\n                var canvas = ref.canvas;\n                var context = ref.context;\n            this.props.canvas = canvas;\n            this.props.context = context;\n            this._setupGLKey();\n            this._appendCanvasIfNeeded();\n        }\n        if (opt.p5 && typeof opt.p5 !== 'function') {\n            this.props.p5 = opt.p5;\n            this.props.p5.draw = (function () {\n                if (this$1._isP5Resizing) \n                    { return; }\n                this$1._lastRedrawResult = this$1.submitDrawCall();\n            });\n        }\n        if ('playing' in opt) {\n            if (opt.playing) \n                { this.play(); }\n             else \n                { this.pause(); }\n        }\n        checkSettings(this._settings);\n        this.resize();\n        this.render();\n        return this.props;\n    };\n    SketchManager.prototype.resize = function resize () {\n        var oldSizes = this._getSizeProps();\n        var settings = this.settings;\n        var props = this.props;\n        var newProps = resizeCanvas(props, settings);\n        Object.assign(this._props, newProps);\n        var ref = this.props;\n            var pixelRatio = ref.pixelRatio;\n            var canvasWidth = ref.canvasWidth;\n            var canvasHeight = ref.canvasHeight;\n            var styleWidth = ref.styleWidth;\n            var styleHeight = ref.styleHeight;\n        var canvas = this.props.canvas;\n        if (canvas && settings.resizeCanvas !== false) {\n            if (props.p5) {\n                if (canvas.width !== canvasWidth || canvas.height !== canvasHeight) {\n                    this._isP5Resizing = true;\n                    props.p5.pixelDensity(pixelRatio);\n                    props.p5.resizeCanvas(canvasWidth / pixelRatio, canvasHeight / pixelRatio, false);\n                    this._isP5Resizing = false;\n                }\n            } else {\n                if (canvas.width !== canvasWidth) \n                    { canvas.width = canvasWidth; }\n                if (canvas.height !== canvasHeight) \n                    { canvas.height = canvasHeight; }\n            }\n            if (isBrowser() && settings.styleCanvas !== false) {\n                canvas.style.width = styleWidth + \"px\";\n                canvas.style.height = styleHeight + \"px\";\n            }\n        }\n        var newSizes = this._getSizeProps();\n        var changed = !deepEqual_1(oldSizes, newSizes);\n        if (changed) {\n            this._sizeChanged();\n        }\n        return changed;\n    };\n    SketchManager.prototype._sizeChanged = function _sizeChanged () {\n        if (this.sketch && typeof this.sketch.resize === 'function') {\n            this.sketch.resize(this.props);\n        }\n    };\n    SketchManager.prototype.animate = function animate () {\n        if (!this.props.playing) \n            { return; }\n        if (!isBrowser()) {\n            console.error('[canvas-sketch] WARN: Animation in Node.js is not yet supported');\n            return;\n        }\n        this._raf = window.requestAnimationFrame(this._animateHandler);\n        var now = browser();\n        var fps = this.props.fps;\n        var frameIntervalMS = 1000 / fps;\n        var deltaTimeMS = now - this._lastTime;\n        var duration = this.props.duration;\n        var hasDuration = typeof duration === 'number' && isFinite(duration);\n        var isNewFrame = true;\n        var playbackRate = this.settings.playbackRate;\n        if (playbackRate === 'fixed') {\n            deltaTimeMS = frameIntervalMS;\n        } else if (playbackRate === 'throttle') {\n            if (deltaTimeMS > frameIntervalMS) {\n                now = now - deltaTimeMS % frameIntervalMS;\n                this._lastTime = now;\n            } else {\n                isNewFrame = false;\n            }\n        } else {\n            this._lastTime = now;\n        }\n        var deltaTime = deltaTimeMS / 1000;\n        var newTime = this.props.time + deltaTime * this.props.timeScale;\n        if (newTime < 0 && hasDuration) {\n            newTime = duration + newTime;\n        }\n        var isFinished = false;\n        var isLoopStart = false;\n        var looping = this.settings.loop !== false;\n        if (hasDuration && newTime >= duration) {\n            if (looping) {\n                isNewFrame = true;\n                newTime = newTime % duration;\n                isLoopStart = true;\n            } else {\n                isNewFrame = false;\n                newTime = duration;\n                isFinished = true;\n            }\n            this._signalEnd();\n        }\n        if (isNewFrame) {\n            this.props.deltaTime = deltaTime;\n            this.props.time = newTime;\n            this.props.playhead = this._computePlayhead(newTime, duration);\n            var lastFrame = this.props.frame;\n            this.props.frame = this._computeCurrentFrame();\n            if (isLoopStart) \n                { this._signalBegin(); }\n            if (lastFrame !== this.props.frame) \n                { this.tick(); }\n            this.render();\n            this.props.deltaTime = 0;\n        }\n        if (isFinished) {\n            this.pause();\n        }\n    };\n    SketchManager.prototype.dispatch = function dispatch (cb) {\n        if (typeof cb !== 'function') \n            { throw new Error('must pass function into dispatch()'); }\n        cb(this.props);\n        this.render();\n    };\n    SketchManager.prototype.mount = function mount () {\n        this._appendCanvasIfNeeded();\n    };\n    SketchManager.prototype.unmount = function unmount () {\n        if (isBrowser()) {\n            window.removeEventListener('resize', this._resizeHandler);\n            this._keyboardShortcuts.detach();\n        }\n        if (this.props.canvas.parentElement) {\n            this.props.canvas.parentElement.removeChild(this.props.canvas);\n        }\n    };\n    SketchManager.prototype._appendCanvasIfNeeded = function _appendCanvasIfNeeded () {\n        if (!isBrowser()) \n            { return; }\n        if (this.settings.parent !== false && (this.props.canvas && !this.props.canvas.parentElement)) {\n            var defaultParent = this.settings.parent || document.body;\n            defaultParent.appendChild(this.props.canvas);\n        }\n    };\n    SketchManager.prototype._setupGLKey = function _setupGLKey () {\n        if (this.props.context) {\n            if (isWebGLContext(this.props.context)) {\n                this._props.gl = this.props.context;\n            } else {\n                delete this._props.gl;\n            }\n        }\n    };\n    SketchManager.prototype.getTimeProps = function getTimeProps (settings) {\n            if ( settings === void 0 ) settings = {};\n\n        var duration = settings.duration;\n        var totalFrames = settings.totalFrames;\n        var timeScale = defined(settings.timeScale, 1);\n        var fps = defined(settings.fps, 24);\n        var hasDuration = typeof duration === 'number' && isFinite(duration);\n        var hasTotalFrames = typeof totalFrames === 'number' && isFinite(totalFrames);\n        var totalFramesFromDuration = hasDuration ? Math.floor(fps * duration) : undefined;\n        var durationFromTotalFrames = hasTotalFrames ? totalFrames / fps : undefined;\n        if (hasDuration && hasTotalFrames && totalFramesFromDuration !== totalFrames) {\n            throw new Error('You should specify either duration or totalFrames, but not both. Or, they must match exactly.');\n        }\n        if (typeof settings.dimensions === 'undefined' && typeof settings.units !== 'undefined') {\n            console.warn(\"You've specified a { units } setting but no { dimension }, so the units will be ignored.\");\n        }\n        totalFrames = defined(totalFrames, totalFramesFromDuration, Infinity);\n        duration = defined(duration, durationFromTotalFrames, Infinity);\n        var startTime = settings.time;\n        var startFrame = settings.frame;\n        var hasStartTime = typeof startTime === 'number' && isFinite(startTime);\n        var hasStartFrame = typeof startFrame === 'number' && isFinite(startFrame);\n        var time = 0;\n        var frame = 0;\n        var playhead = 0;\n        if (hasStartTime && hasStartFrame) {\n            throw new Error('You should specify either start frame or time, but not both.');\n        } else if (hasStartTime) {\n            time = startTime;\n            playhead = this._computePlayhead(time, duration);\n            frame = this._computeFrame(playhead, time, totalFrames, fps);\n        } else if (hasStartFrame) {\n            frame = startFrame;\n            time = frame / fps;\n            playhead = this._computePlayhead(time, duration);\n        }\n        return {\n            playhead: playhead,\n            time: time,\n            frame: frame,\n            duration: duration,\n            totalFrames: totalFrames,\n            fps: fps,\n            timeScale: timeScale\n        };\n    };\n    SketchManager.prototype.setup = function setup (settings) {\n            var this$1 = this;\n            if ( settings === void 0 ) settings = {};\n\n        if (this.sketch) \n            { throw new Error('Multiple setup() calls not yet supported.'); }\n        this._settings = Object.assign({}, settings, this._settings);\n        checkSettings(this._settings);\n        var ref = createCanvas(this._settings);\n            var context = ref.context;\n            var canvas = ref.canvas;\n        var timeProps = this.getTimeProps(this._settings);\n        this._props = Object.assign({}, timeProps,\n            {canvas: canvas,\n            context: context,\n            deltaTime: 0,\n            started: false,\n            exporting: false,\n            playing: false,\n            recording: false,\n            settings: this.settings,\n            data: this.settings.data,\n            render: function () { return this$1.render(); },\n            togglePlay: function () { return this$1.togglePlay(); },\n            dispatch: function (cb) { return this$1.dispatch(cb); },\n            tick: function () { return this$1.tick(); },\n            resize: function () { return this$1.resize(); },\n            update: function (opt) { return this$1.update(opt); },\n            exportFrame: function (opt) { return this$1.exportFrame(opt); },\n            record: function () { return this$1.record(); },\n            play: function () { return this$1.play(); },\n            pause: function () { return this$1.pause(); },\n            stop: function () { return this$1.stop(); }});\n        this._setupGLKey();\n        this.resize();\n    };\n    SketchManager.prototype.loadAndRun = function loadAndRun (canvasSketch, newSettings) {\n            var this$1 = this;\n\n        return this.load(canvasSketch, newSettings).then(function () {\n            this$1.run();\n            return this$1;\n        });\n    };\n    SketchManager.prototype.unload = function unload () {\n            var this$1 = this;\n\n        this.pause();\n        if (!this.sketch) \n            { return; }\n        if (typeof this.sketch.unload === 'function') {\n            this._wrapContextScale(function (props) { return this$1.sketch.unload(props); });\n        }\n        this._sketch = null;\n    };\n    SketchManager.prototype.destroy = function destroy () {\n        this.unload();\n        this.unmount();\n    };\n    SketchManager.prototype.load = function load (createSketch, newSettings) {\n            var this$1 = this;\n\n        if (typeof createSketch !== 'function') {\n            throw new Error('The function must take in a function as the first parameter. Example:\\n  canvasSketcher(() => { ... }, settings)');\n        }\n        if (this.sketch) {\n            this.unload();\n        }\n        if (typeof newSettings !== 'undefined') {\n            this.update(newSettings);\n        }\n        this._preRender();\n        var preload = Promise.resolve();\n        if (this.settings.p5) {\n            if (!isBrowser()) {\n                throw new Error('[canvas-sketch] ERROR: Using p5.js in Node.js is not supported');\n            }\n            preload = new Promise(function (resolve) {\n                var P5Constructor = this$1.settings.p5;\n                var preload;\n                if (P5Constructor.p5) {\n                    preload = P5Constructor.preload;\n                    P5Constructor = P5Constructor.p5;\n                }\n                var p5Sketch = function (p5) {\n                    if (preload) \n                        { p5.preload = (function () { return preload(p5); }); }\n                    p5.setup = (function () {\n                        var props = this$1.props;\n                        var isGL = this$1.settings.context === 'webgl';\n                        var renderer = isGL ? p5.WEBGL : p5.P2D;\n                        p5.noLoop();\n                        p5.pixelDensity(props.pixelRatio);\n                        p5.createCanvas(props.viewportWidth, props.viewportHeight, renderer);\n                        if (isGL && this$1.settings.attributes) {\n                            p5.setAttributes(this$1.settings.attributes);\n                        }\n                        this$1.update({\n                            p5: p5,\n                            canvas: p5.canvas,\n                            context: p5._renderer.drawingContext\n                        });\n                        resolve();\n                    });\n                };\n                if (typeof P5Constructor === 'function') {\n                    new P5Constructor(p5Sketch);\n                } else {\n                    if (typeof window.createCanvas !== 'function') {\n                        throw new Error(\"{ p5 } setting is passed but can't find p5.js in global (window) scope. Maybe you did not create it globally?\\nnew p5(); // <-- attaches to global scope\");\n                    }\n                    p5Sketch(window);\n                }\n            });\n        }\n        return preload.then(function () {\n            var loader = createSketch(this$1.props);\n            if (!isPromise_1(loader)) {\n                loader = Promise.resolve(loader);\n            }\n            return loader;\n        }).then(function (sketch) {\n            if (!sketch) \n                { sketch = {}; }\n            this$1._sketch = sketch;\n            if (isBrowser()) {\n                this$1._keyboardShortcuts.attach();\n                window.addEventListener('resize', this$1._resizeHandler);\n            }\n            this$1._postRender();\n            this$1._sizeChanged();\n            return this$1;\n        }).catch(function (err) {\n            console.warn('Could not start sketch, the async loading function rejected with an error:\\n    Error: ' + err.message);\n            throw err;\n        });\n    };\n\n    Object.defineProperties( SketchManager.prototype, prototypeAccessors );\n\n    var CACHE = 'hot-id-cache';\n    var runtimeCollisions = [];\n    function isHotReload() {\n        var client = getClientAPI();\n        return client && client.hot;\n    }\n\n    function cacheGet(id) {\n        var client = getClientAPI();\n        if (!client) \n            { return undefined; }\n        client[CACHE] = client[CACHE] || {};\n        return client[CACHE][id];\n    }\n\n    function cachePut(id, data) {\n        var client = getClientAPI();\n        if (!client) \n            { return undefined; }\n        client[CACHE] = client[CACHE] || {};\n        client[CACHE][id] = data;\n    }\n\n    function getTimeProp(oldManager, newSettings) {\n        return newSettings.animate ? {\n            time: oldManager.props.time\n        } : undefined;\n    }\n\n    function canvasSketch(sketch, settings) {\n        if ( settings === void 0 ) settings = {};\n\n        if (settings.p5) {\n            if (settings.canvas || settings.context && typeof settings.context !== 'string') {\n                throw new Error(\"In { p5 } mode, you can't pass your own canvas or context, unless the context is a \\\"webgl\\\" or \\\"2d\\\" string\");\n            }\n            var context = typeof settings.context === 'string' ? settings.context : false;\n            settings = Object.assign({}, settings, {\n                canvas: false,\n                context: context\n            });\n        }\n        var isHot = isHotReload();\n        var hotID;\n        if (isHot) {\n            hotID = defined(settings.id, '$__DEFAULT_CANVAS_SKETCH_ID__$');\n        }\n        var isInjecting = isHot && typeof hotID === 'string';\n        if (isInjecting && runtimeCollisions.includes(hotID)) {\n            console.warn(\"Warning: You have multiple calls to canvasSketch() in --hot mode. You must pass unique { id } strings in settings to enable hot reload across multiple sketches. \", hotID);\n            isInjecting = false;\n        }\n        var preload = Promise.resolve();\n        if (isInjecting) {\n            runtimeCollisions.push(hotID);\n            var previousData = cacheGet(hotID);\n            if (previousData) {\n                var next = function () {\n                    var newProps = getTimeProp(previousData.manager, settings);\n                    previousData.manager.destroy();\n                    return newProps;\n                };\n                preload = previousData.load.then(next).catch(next);\n            }\n        }\n        return preload.then(function (newProps) {\n            var manager = new SketchManager();\n            var result;\n            if (sketch) {\n                settings = Object.assign({}, settings, newProps);\n                manager.setup(settings);\n                manager.mount();\n                result = manager.loadAndRun(sketch);\n            } else {\n                result = Promise.resolve(manager);\n            }\n            if (isInjecting) {\n                cachePut(hotID, {\n                    load: result,\n                    manager: manager\n                });\n            }\n            return result;\n        });\n    }\n\n    canvasSketch.canvasSketch = canvasSketch;\n    canvasSketch.PaperSizes = paperSizes;\n\n    return canvasSketch;\n\n})));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FudmFzLXNrZXRjaC51bWQuanMiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9kZWZpbmVkL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvcmlnaHQtbm93L2Jyb3dzZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvaXMtcHJvbWlzZS9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy9pcy1kb20vaW5kZXguanMiLCIuLi9saWIvdXRpbC5qcyIsIi4uL25vZGVfbW9kdWxlcy9kZWVwLWVxdWFsL2xpYi9rZXlzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2RlZXAtZXF1YWwvbGliL2lzX2FyZ3VtZW50cy5qcyIsIi4uL25vZGVfbW9kdWxlcy9kZWVwLWVxdWFsL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2RhdGVmb3JtYXQvbGliL2RhdGVmb3JtYXQuanMiLCIuLi9ub2RlX21vZHVsZXMvcmVwZWF0LXN0cmluZy9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy9wYWQtbGVmdC9pbmRleC5qcyIsIi4uL2xpYi9zYXZlLmpzIiwiLi4vbGliL2FjY2Vzc2liaWxpdHkuanMiLCIuLi9saWIvY29yZS9rZXlib2FyZFNob3J0Y3V0cy5qcyIsIi4uL2xpYi9wYXBlci1zaXplcy5qcyIsIi4uL2xpYi9kaXN0YW5jZXMuanMiLCIuLi9saWIvY29yZS9yZXNpemVDYW52YXMuanMiLCIuLi9ub2RlX21vZHVsZXMvZ2V0LWNhbnZhcy1jb250ZXh0L2luZGV4LmpzIiwiLi4vbGliL2NvcmUvY3JlYXRlQ2FudmFzLmpzIiwiLi4vbGliL2NvcmUvU2tldGNoTWFuYWdlci5qcyIsIi4uL2xpYi9jYW52YXMtc2tldGNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHNbaV0gIT09IHVuZGVmaW5lZCkgcmV0dXJuIGFyZ3VtZW50c1tpXTtcbiAgICB9XG59O1xuIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID1cbiAgZ2xvYmFsLnBlcmZvcm1hbmNlICYmXG4gIGdsb2JhbC5wZXJmb3JtYW5jZS5ub3cgPyBmdW5jdGlvbiBub3coKSB7XG4gICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpXG4gIH0gOiBEYXRlLm5vdyB8fCBmdW5jdGlvbiBub3coKSB7XG4gICAgcmV0dXJuICtuZXcgRGF0ZVxuICB9XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGlzUHJvbWlzZTtcblxuZnVuY3Rpb24gaXNQcm9taXNlKG9iaikge1xuICByZXR1cm4gISFvYmogJiYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnIHx8IHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpICYmIHR5cGVvZiBvYmoudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gaXNOb2RlXG5cbmZ1bmN0aW9uIGlzTm9kZSAodmFsKSB7XG4gIHJldHVybiAoIXZhbCB8fCB0eXBlb2YgdmFsICE9PSAnb2JqZWN0JylcbiAgICA/IGZhbHNlXG4gICAgOiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHdpbmRvdy5Ob2RlID09PSAnb2JqZWN0JylcbiAgICAgID8gKHZhbCBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlKVxuICAgICAgOiAodHlwZW9mIHZhbC5ub2RlVHlwZSA9PT0gJ251bWJlcicpICYmXG4gICAgICAgICh0eXBlb2YgdmFsLm5vZGVOYW1lID09PSAnc3RyaW5nJylcbn1cbiIsIi8vIFRPRE86IFdlIGNhbiByZW1vdmUgYSBodWdlIGNodW5rIG9mIGJ1bmRsZSBzaXplIGJ5IHVzaW5nIGEgc21hbGxlclxuLy8gdXRpbGl0eSBtb2R1bGUgZm9yIGNvbnZlcnRpbmcgdW5pdHMuXG5pbXBvcnQgaXNET00gZnJvbSAnaXMtZG9tJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldENsaWVudEFQSSAoKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3dbJ2NhbnZhcy1za2V0Y2gtY2xpJ107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Jyb3dzZXIgKCkge1xuICByZXR1cm4gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzV2ViR0xDb250ZXh0IChjdHgpIHtcbiAgcmV0dXJuIHR5cGVvZiBjdHguY2xlYXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGN0eC5jbGVhckNvbG9yID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBjdHguYnVmZmVyRGF0YSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2FudmFzIChlbGVtZW50KSB7XG4gIHJldHVybiBpc0RPTShlbGVtZW50KSAmJiAvY2FudmFzL2kudGVzdChlbGVtZW50Lm5vZGVOYW1lKSAmJiB0eXBlb2YgZWxlbWVudC5nZXRDb250ZXh0ID09PSAnZnVuY3Rpb24nO1xufVxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSAnZnVuY3Rpb24nXG4gID8gT2JqZWN0LmtleXMgOiBzaGltO1xuXG5leHBvcnRzLnNoaW0gPSBzaGltO1xuZnVuY3Rpb24gc2hpbSAob2JqKSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIGtleXMucHVzaChrZXkpO1xuICByZXR1cm4ga2V5cztcbn1cbiIsInZhciBzdXBwb3J0c0FyZ3VtZW50c0NsYXNzID0gKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnRzKVxufSkoKSA9PSAnW29iamVjdCBBcmd1bWVudHNdJztcblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gc3VwcG9ydHNBcmd1bWVudHNDbGFzcyA/IHN1cHBvcnRlZCA6IHVuc3VwcG9ydGVkO1xuXG5leHBvcnRzLnN1cHBvcnRlZCA9IHN1cHBvcnRlZDtcbmZ1bmN0aW9uIHN1cHBvcnRlZChvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xufTtcblxuZXhwb3J0cy51bnN1cHBvcnRlZCA9IHVuc3VwcG9ydGVkO1xuZnVuY3Rpb24gdW5zdXBwb3J0ZWQob2JqZWN0KXtcbiAgcmV0dXJuIG9iamVjdCAmJlxuICAgIHR5cGVvZiBvYmplY3QgPT0gJ29iamVjdCcgJiZcbiAgICB0eXBlb2Ygb2JqZWN0Lmxlbmd0aCA9PSAnbnVtYmVyJyAmJlxuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdjYWxsZWUnKSAmJlxuICAgICFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCAnY2FsbGVlJykgfHxcbiAgICBmYWxzZTtcbn07XG4iLCJ2YXIgcFNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xudmFyIG9iamVjdEtleXMgPSByZXF1aXJlKCcuL2xpYi9rZXlzLmpzJyk7XG52YXIgaXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL2xpYi9pc19hcmd1bWVudHMuanMnKTtcblxudmFyIGRlZXBFcXVhbCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFjdHVhbCwgZXhwZWN0ZWQsIG9wdHMpIHtcbiAgaWYgKCFvcHRzKSBvcHRzID0ge307XG4gIC8vIDcuMS4gQWxsIGlkZW50aWNhbCB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGFzIGRldGVybWluZWQgYnkgPT09LlxuICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkge1xuICAgIHJldHVybiB0cnVlO1xuXG4gIH0gZWxzZSBpZiAoYWN0dWFsIGluc3RhbmNlb2YgRGF0ZSAmJiBleHBlY3RlZCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gYWN0dWFsLmdldFRpbWUoKSA9PT0gZXhwZWN0ZWQuZ2V0VGltZSgpO1xuXG4gIC8vIDcuMy4gT3RoZXIgcGFpcnMgdGhhdCBkbyBub3QgYm90aCBwYXNzIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyxcbiAgLy8gZXF1aXZhbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSA9PS5cbiAgfSBlbHNlIGlmICghYWN0dWFsIHx8ICFleHBlY3RlZCB8fCB0eXBlb2YgYWN0dWFsICE9ICdvYmplY3QnICYmIHR5cGVvZiBleHBlY3RlZCAhPSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBvcHRzLnN0cmljdCA/IGFjdHVhbCA9PT0gZXhwZWN0ZWQgOiBhY3R1YWwgPT0gZXhwZWN0ZWQ7XG5cbiAgLy8gNy40LiBGb3IgYWxsIG90aGVyIE9iamVjdCBwYWlycywgaW5jbHVkaW5nIEFycmF5IG9iamVjdHMsIGVxdWl2YWxlbmNlIGlzXG4gIC8vIGRldGVybWluZWQgYnkgaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChhcyB2ZXJpZmllZFxuICAvLyB3aXRoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCksIHRoZSBzYW1lIHNldCBvZiBrZXlzXG4gIC8vIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLCBlcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnlcbiAgLy8gY29ycmVzcG9uZGluZyBrZXksIGFuZCBhbiBpZGVudGljYWwgJ3Byb3RvdHlwZScgcHJvcGVydHkuIE5vdGU6IHRoaXNcbiAgLy8gYWNjb3VudHMgZm9yIGJvdGggbmFtZWQgYW5kIGluZGV4ZWQgcHJvcGVydGllcyBvbiBBcnJheXMuXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9iakVxdWl2KGFjdHVhbCwgZXhwZWN0ZWQsIG9wdHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkT3JOdWxsKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc0J1ZmZlciAoeCkge1xuICBpZiAoIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnIHx8IHR5cGVvZiB4Lmxlbmd0aCAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcbiAgaWYgKHR5cGVvZiB4LmNvcHkgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHguc2xpY2UgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHgubGVuZ3RoID4gMCAmJiB0eXBlb2YgeFswXSAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIG9iakVxdWl2KGEsIGIsIG9wdHMpIHtcbiAgdmFyIGksIGtleTtcbiAgaWYgKGlzVW5kZWZpbmVkT3JOdWxsKGEpIHx8IGlzVW5kZWZpbmVkT3JOdWxsKGIpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy8gYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LlxuICBpZiAoYS5wcm90b3R5cGUgIT09IGIucHJvdG90eXBlKSByZXR1cm4gZmFsc2U7XG4gIC8vfn5+SSd2ZSBtYW5hZ2VkIHRvIGJyZWFrIE9iamVjdC5rZXlzIHRocm91Z2ggc2NyZXd5IGFyZ3VtZW50cyBwYXNzaW5nLlxuICAvLyAgIENvbnZlcnRpbmcgdG8gYXJyYXkgc29sdmVzIHRoZSBwcm9ibGVtLlxuICBpZiAoaXNBcmd1bWVudHMoYSkpIHtcbiAgICBpZiAoIWlzQXJndW1lbnRzKGIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGEgPSBwU2xpY2UuY2FsbChhKTtcbiAgICBiID0gcFNsaWNlLmNhbGwoYik7XG4gICAgcmV0dXJuIGRlZXBFcXVhbChhLCBiLCBvcHRzKTtcbiAgfVxuICBpZiAoaXNCdWZmZXIoYSkpIHtcbiAgICBpZiAoIWlzQnVmZmVyKGIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdHJ5IHtcbiAgICB2YXIga2EgPSBvYmplY3RLZXlzKGEpLFxuICAgICAgICBrYiA9IG9iamVjdEtleXMoYik7XG4gIH0gY2F0Y2ggKGUpIHsvL2hhcHBlbnMgd2hlbiBvbmUgaXMgYSBzdHJpbmcgbGl0ZXJhbCBhbmQgdGhlIG90aGVyIGlzbid0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoa2V5cyBpbmNvcnBvcmF0ZXNcbiAgLy8gaGFzT3duUHJvcGVydHkpXG4gIGlmIChrYS5sZW5ndGggIT0ga2IubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy90aGUgc2FtZSBzZXQgb2Yga2V5cyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSxcbiAga2Euc29ydCgpO1xuICBrYi5zb3J0KCk7XG4gIC8vfn5+Y2hlYXAga2V5IHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoa2FbaV0gIT0ga2JbaV0pXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy9lcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkgY29ycmVzcG9uZGluZyBrZXksIGFuZFxuICAvL35+fnBvc3NpYmx5IGV4cGVuc2l2ZSBkZWVwIHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBrZXkgPSBrYVtpXTtcbiAgICBpZiAoIWRlZXBFcXVhbChhW2tleV0sIGJba2V5XSwgb3B0cykpIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHlwZW9mIGEgPT09IHR5cGVvZiBiO1xufVxuIiwiLypcbiAqIERhdGUgRm9ybWF0IDEuMi4zXG4gKiAoYykgMjAwNy0yMDA5IFN0ZXZlbiBMZXZpdGhhbiA8c3RldmVubGV2aXRoYW4uY29tPlxuICogTUlUIGxpY2Vuc2VcbiAqXG4gKiBJbmNsdWRlcyBlbmhhbmNlbWVudHMgYnkgU2NvdHQgVHJlbmRhIDxzY290dC50cmVuZGEubmV0PlxuICogYW5kIEtyaXMgS293YWwgPGNpeGFyLmNvbS9+a3Jpcy5rb3dhbC8+XG4gKlxuICogQWNjZXB0cyBhIGRhdGUsIGEgbWFzaywgb3IgYSBkYXRlIGFuZCBhIG1hc2suXG4gKiBSZXR1cm5zIGEgZm9ybWF0dGVkIHZlcnNpb24gb2YgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgZGF0ZSBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkYXRlL3RpbWUuXG4gKiBUaGUgbWFzayBkZWZhdWx0cyB0byBkYXRlRm9ybWF0Lm1hc2tzLmRlZmF1bHQuXG4gKi9cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGRhdGVGb3JtYXQgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdG9rZW4gPSAvZHsxLDR9fG17MSw0fXx5eSg/Onl5KT98KFtIaE1zVHRdKVxcMT98W0xsb1NaV05dfFwiW15cIl0qXCJ8J1teJ10qJy9nO1xuICAgICAgdmFyIHRpbWV6b25lID0gL1xcYig/OltQTUNFQV1bU0RQXVR8KD86UGFjaWZpY3xNb3VudGFpbnxDZW50cmFsfEVhc3Rlcm58QXRsYW50aWMpICg/OlN0YW5kYXJkfERheWxpZ2h0fFByZXZhaWxpbmcpIFRpbWV8KD86R01UfFVUQykoPzpbLStdXFxkezR9KT8pXFxiL2c7XG4gICAgICB2YXIgdGltZXpvbmVDbGlwID0gL1teLStcXGRBLVpdL2c7XG4gIFxuICAgICAgLy8gUmVnZXhlcyBhbmQgc3VwcG9ydGluZyBmdW5jdGlvbnMgYXJlIGNhY2hlZCB0aHJvdWdoIGNsb3N1cmVcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZGF0ZSwgbWFzaywgdXRjLCBnbXQpIHtcbiAgXG4gICAgICAgIC8vIFlvdSBjYW4ndCBwcm92aWRlIHV0YyBpZiB5b3Ugc2tpcCBvdGhlciBhcmdzICh1c2UgdGhlICdVVEM6JyBtYXNrIHByZWZpeClcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYga2luZE9mKGRhdGUpID09PSAnc3RyaW5nJyAmJiAhL1xcZC8udGVzdChkYXRlKSkge1xuICAgICAgICAgIG1hc2sgPSBkYXRlO1xuICAgICAgICAgIGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIGRhdGUgPSBkYXRlIHx8IG5ldyBEYXRlO1xuICBcbiAgICAgICAgaWYoIShkYXRlIGluc3RhbmNlb2YgRGF0ZSkpIHtcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIGlmIChpc05hTihkYXRlKSkge1xuICAgICAgICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBkYXRlJyk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIG1hc2sgPSBTdHJpbmcoZGF0ZUZvcm1hdC5tYXNrc1ttYXNrXSB8fCBtYXNrIHx8IGRhdGVGb3JtYXQubWFza3NbJ2RlZmF1bHQnXSk7XG4gIFxuICAgICAgICAvLyBBbGxvdyBzZXR0aW5nIHRoZSB1dGMvZ210IGFyZ3VtZW50IHZpYSB0aGUgbWFza1xuICAgICAgICB2YXIgbWFza1NsaWNlID0gbWFzay5zbGljZSgwLCA0KTtcbiAgICAgICAgaWYgKG1hc2tTbGljZSA9PT0gJ1VUQzonIHx8IG1hc2tTbGljZSA9PT0gJ0dNVDonKSB7XG4gICAgICAgICAgbWFzayA9IG1hc2suc2xpY2UoNCk7XG4gICAgICAgICAgdXRjID0gdHJ1ZTtcbiAgICAgICAgICBpZiAobWFza1NsaWNlID09PSAnR01UOicpIHtcbiAgICAgICAgICAgIGdtdCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gIFxuICAgICAgICB2YXIgXyA9IHV0YyA/ICdnZXRVVEMnIDogJ2dldCc7XG4gICAgICAgIHZhciBkID0gZGF0ZVtfICsgJ0RhdGUnXSgpO1xuICAgICAgICB2YXIgRCA9IGRhdGVbXyArICdEYXknXSgpO1xuICAgICAgICB2YXIgbSA9IGRhdGVbXyArICdNb250aCddKCk7XG4gICAgICAgIHZhciB5ID0gZGF0ZVtfICsgJ0Z1bGxZZWFyJ10oKTtcbiAgICAgICAgdmFyIEggPSBkYXRlW18gKyAnSG91cnMnXSgpO1xuICAgICAgICB2YXIgTSA9IGRhdGVbXyArICdNaW51dGVzJ10oKTtcbiAgICAgICAgdmFyIHMgPSBkYXRlW18gKyAnU2Vjb25kcyddKCk7XG4gICAgICAgIHZhciBMID0gZGF0ZVtfICsgJ01pbGxpc2Vjb25kcyddKCk7XG4gICAgICAgIHZhciBvID0gdXRjID8gMCA6IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICAgICAgdmFyIFcgPSBnZXRXZWVrKGRhdGUpO1xuICAgICAgICB2YXIgTiA9IGdldERheU9mV2VlayhkYXRlKTtcbiAgICAgICAgdmFyIGZsYWdzID0ge1xuICAgICAgICAgIGQ6ICAgIGQsXG4gICAgICAgICAgZGQ6ICAgcGFkKGQpLFxuICAgICAgICAgIGRkZDogIGRhdGVGb3JtYXQuaTE4bi5kYXlOYW1lc1tEXSxcbiAgICAgICAgICBkZGRkOiBkYXRlRm9ybWF0LmkxOG4uZGF5TmFtZXNbRCArIDddLFxuICAgICAgICAgIG06ICAgIG0gKyAxLFxuICAgICAgICAgIG1tOiAgIHBhZChtICsgMSksXG4gICAgICAgICAgbW1tOiAgZGF0ZUZvcm1hdC5pMThuLm1vbnRoTmFtZXNbbV0sXG4gICAgICAgICAgbW1tbTogZGF0ZUZvcm1hdC5pMThuLm1vbnRoTmFtZXNbbSArIDEyXSxcbiAgICAgICAgICB5eTogICBTdHJpbmcoeSkuc2xpY2UoMiksXG4gICAgICAgICAgeXl5eTogeSxcbiAgICAgICAgICBoOiAgICBIICUgMTIgfHwgMTIsXG4gICAgICAgICAgaGg6ICAgcGFkKEggJSAxMiB8fCAxMiksXG4gICAgICAgICAgSDogICAgSCxcbiAgICAgICAgICBISDogICBwYWQoSCksXG4gICAgICAgICAgTTogICAgTSxcbiAgICAgICAgICBNTTogICBwYWQoTSksXG4gICAgICAgICAgczogICAgcyxcbiAgICAgICAgICBzczogICBwYWQocyksXG4gICAgICAgICAgbDogICAgcGFkKEwsIDMpLFxuICAgICAgICAgIEw6ICAgIHBhZChNYXRoLnJvdW5kKEwgLyAxMCkpLFxuICAgICAgICAgIHQ6ICAgIEggPCAxMiA/IGRhdGVGb3JtYXQuaTE4bi50aW1lTmFtZXNbMF0gOiBkYXRlRm9ybWF0LmkxOG4udGltZU5hbWVzWzFdLFxuICAgICAgICAgIHR0OiAgIEggPCAxMiA/IGRhdGVGb3JtYXQuaTE4bi50aW1lTmFtZXNbMl0gOiBkYXRlRm9ybWF0LmkxOG4udGltZU5hbWVzWzNdLFxuICAgICAgICAgIFQ6ICAgIEggPCAxMiA/IGRhdGVGb3JtYXQuaTE4bi50aW1lTmFtZXNbNF0gOiBkYXRlRm9ybWF0LmkxOG4udGltZU5hbWVzWzVdLFxuICAgICAgICAgIFRUOiAgIEggPCAxMiA/IGRhdGVGb3JtYXQuaTE4bi50aW1lTmFtZXNbNl0gOiBkYXRlRm9ybWF0LmkxOG4udGltZU5hbWVzWzddLFxuICAgICAgICAgIFo6ICAgIGdtdCA/ICdHTVQnIDogdXRjID8gJ1VUQycgOiAoU3RyaW5nKGRhdGUpLm1hdGNoKHRpbWV6b25lKSB8fCBbJyddKS5wb3AoKS5yZXBsYWNlKHRpbWV6b25lQ2xpcCwgJycpLFxuICAgICAgICAgIG86ICAgIChvID4gMCA/ICctJyA6ICcrJykgKyBwYWQoTWF0aC5mbG9vcihNYXRoLmFicyhvKSAvIDYwKSAqIDEwMCArIE1hdGguYWJzKG8pICUgNjAsIDQpLFxuICAgICAgICAgIFM6ICAgIFsndGgnLCAnc3QnLCAnbmQnLCAncmQnXVtkICUgMTAgPiAzID8gMCA6IChkICUgMTAwIC0gZCAlIDEwICE9IDEwKSAqIGQgJSAxMF0sXG4gICAgICAgICAgVzogICAgVyxcbiAgICAgICAgICBOOiAgICBOXG4gICAgICAgIH07XG4gIFxuICAgICAgICByZXR1cm4gbWFzay5yZXBsYWNlKHRva2VuLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICBpZiAobWF0Y2ggaW4gZmxhZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBmbGFnc1ttYXRjaF07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBtYXRjaC5zbGljZSgxLCBtYXRjaC5sZW5ndGggLSAxKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pKCk7XG5cbiAgZGF0ZUZvcm1hdC5tYXNrcyA9IHtcbiAgICAnZGVmYXVsdCc6ICAgICAgICAgICAgICAgJ2RkZCBtbW0gZGQgeXl5eSBISDpNTTpzcycsXG4gICAgJ3Nob3J0RGF0ZSc6ICAgICAgICAgICAgICdtL2QveXknLFxuICAgICdtZWRpdW1EYXRlJzogICAgICAgICAgICAnbW1tIGQsIHl5eXknLFxuICAgICdsb25nRGF0ZSc6ICAgICAgICAgICAgICAnbW1tbSBkLCB5eXl5JyxcbiAgICAnZnVsbERhdGUnOiAgICAgICAgICAgICAgJ2RkZGQsIG1tbW0gZCwgeXl5eScsXG4gICAgJ3Nob3J0VGltZSc6ICAgICAgICAgICAgICdoOk1NIFRUJyxcbiAgICAnbWVkaXVtVGltZSc6ICAgICAgICAgICAgJ2g6TU06c3MgVFQnLFxuICAgICdsb25nVGltZSc6ICAgICAgICAgICAgICAnaDpNTTpzcyBUVCBaJyxcbiAgICAnaXNvRGF0ZSc6ICAgICAgICAgICAgICAgJ3l5eXktbW0tZGQnLFxuICAgICdpc29UaW1lJzogICAgICAgICAgICAgICAnSEg6TU06c3MnLFxuICAgICdpc29EYXRlVGltZSc6ICAgICAgICAgICAneXl5eS1tbS1kZFxcJ1RcXCdISDpNTTpzc28nLFxuICAgICdpc29VdGNEYXRlVGltZSc6ICAgICAgICAnVVRDOnl5eXktbW0tZGRcXCdUXFwnSEg6TU06c3NcXCdaXFwnJyxcbiAgICAnZXhwaXJlc0hlYWRlckZvcm1hdCc6ICAgJ2RkZCwgZGQgbW1tIHl5eXkgSEg6TU06c3MgWidcbiAgfTtcblxuICAvLyBJbnRlcm5hdGlvbmFsaXphdGlvbiBzdHJpbmdzXG4gIGRhdGVGb3JtYXQuaTE4biA9IHtcbiAgICBkYXlOYW1lczogW1xuICAgICAgJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCcsXG4gICAgICAnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXG4gICAgXSxcbiAgICBtb250aE5hbWVzOiBbXG4gICAgICAnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnLFxuICAgICAgJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXG4gICAgXSxcbiAgICB0aW1lTmFtZXM6IFtcbiAgICAgICdhJywgJ3AnLCAnYW0nLCAncG0nLCAnQScsICdQJywgJ0FNJywgJ1BNJ1xuICAgIF1cbiAgfTtcblxuZnVuY3Rpb24gcGFkKHZhbCwgbGVuKSB7XG4gIHZhbCA9IFN0cmluZyh2YWwpO1xuICBsZW4gPSBsZW4gfHwgMjtcbiAgd2hpbGUgKHZhbC5sZW5ndGggPCBsZW4pIHtcbiAgICB2YWwgPSAnMCcgKyB2YWw7XG4gIH1cbiAgcmV0dXJuIHZhbDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIElTTyA4NjAxIHdlZWsgbnVtYmVyXG4gKiBCYXNlZCBvbiBjb21tZW50cyBmcm9tXG4gKiBodHRwOi8vdGVjaGJsb2cucHJvY3VyaW9zLm5sL2svbjYxOC9uZXdzL3ZpZXcvMzM3OTYvMTQ4NjMvQ2FsY3VsYXRlLUlTTy04NjAxLXdlZWstYW5kLXllYXItaW4tamF2YXNjcmlwdC5odG1sXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBgZGF0ZWBcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gZ2V0V2VlayhkYXRlKSB7XG4gIC8vIFJlbW92ZSB0aW1lIGNvbXBvbmVudHMgb2YgZGF0ZVxuICB2YXIgdGFyZ2V0VGh1cnNkYXkgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpO1xuXG4gIC8vIENoYW5nZSBkYXRlIHRvIFRodXJzZGF5IHNhbWUgd2Vla1xuICB0YXJnZXRUaHVyc2RheS5zZXREYXRlKHRhcmdldFRodXJzZGF5LmdldERhdGUoKSAtICgodGFyZ2V0VGh1cnNkYXkuZ2V0RGF5KCkgKyA2KSAlIDcpICsgMyk7XG5cbiAgLy8gVGFrZSBKYW51YXJ5IDR0aCBhcyBpdCBpcyBhbHdheXMgaW4gd2VlayAxIChzZWUgSVNPIDg2MDEpXG4gIHZhciBmaXJzdFRodXJzZGF5ID0gbmV3IERhdGUodGFyZ2V0VGh1cnNkYXkuZ2V0RnVsbFllYXIoKSwgMCwgNCk7XG5cbiAgLy8gQ2hhbmdlIGRhdGUgdG8gVGh1cnNkYXkgc2FtZSB3ZWVrXG4gIGZpcnN0VGh1cnNkYXkuc2V0RGF0ZShmaXJzdFRodXJzZGF5LmdldERhdGUoKSAtICgoZmlyc3RUaHVyc2RheS5nZXREYXkoKSArIDYpICUgNykgKyAzKTtcblxuICAvLyBDaGVjayBpZiBkYXlsaWdodC1zYXZpbmctdGltZS1zd2l0Y2ggb2NjdXJyZWQgYW5kIGNvcnJlY3QgZm9yIGl0XG4gIHZhciBkcyA9IHRhcmdldFRodXJzZGF5LmdldFRpbWV6b25lT2Zmc2V0KCkgLSBmaXJzdFRodXJzZGF5LmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gIHRhcmdldFRodXJzZGF5LnNldEhvdXJzKHRhcmdldFRodXJzZGF5LmdldEhvdXJzKCkgLSBkcyk7XG5cbiAgLy8gTnVtYmVyIG9mIHdlZWtzIGJldHdlZW4gdGFyZ2V0IFRodXJzZGF5IGFuZCBmaXJzdCBUaHVyc2RheVxuICB2YXIgd2Vla0RpZmYgPSAodGFyZ2V0VGh1cnNkYXkgLSBmaXJzdFRodXJzZGF5KSAvICg4NjQwMDAwMCo3KTtcbiAgcmV0dXJuIDEgKyBNYXRoLmZsb29yKHdlZWtEaWZmKTtcbn1cblxuLyoqXG4gKiBHZXQgSVNPLTg2MDEgbnVtZXJpYyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZGF5IG9mIHRoZSB3ZWVrXG4gKiAxIChmb3IgTW9uZGF5KSB0aHJvdWdoIDcgKGZvciBTdW5kYXkpXG4gKiBcbiAqIEBwYXJhbSAge09iamVjdH0gYGRhdGVgXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldERheU9mV2VlayhkYXRlKSB7XG4gIHZhciBkb3cgPSBkYXRlLmdldERheSgpO1xuICBpZihkb3cgPT09IDApIHtcbiAgICBkb3cgPSA3O1xuICB9XG4gIHJldHVybiBkb3c7XG59XG5cbi8qKlxuICoga2luZC1vZiBzaG9ydGN1dFxuICogQHBhcmFtICB7Kn0gdmFsXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGtpbmRPZih2YWwpIHtcbiAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgIHJldHVybiAnbnVsbCc7XG4gIH1cblxuICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbCAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbDtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICByZXR1cm4gJ2FycmF5JztcbiAgfVxuXG4gIHJldHVybiB7fS50b1N0cmluZy5jYWxsKHZhbClcbiAgICAuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCk7XG59O1xuXG5cblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBkYXRlRm9ybWF0O1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZGF0ZUZvcm1hdDtcbiAgfSBlbHNlIHtcbiAgICBnbG9iYWwuZGF0ZUZvcm1hdCA9IGRhdGVGb3JtYXQ7XG4gIH1cbn0pKHRoaXMpO1xuIiwiLyohXG4gKiByZXBlYXQtc3RyaW5nIDxodHRwczovL2dpdGh1Yi5jb20vam9uc2NobGlua2VydC9yZXBlYXQtc3RyaW5nPlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBKb24gU2NobGlua2VydC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogUmVzdWx0cyBjYWNoZVxuICovXG5cbnZhciByZXMgPSAnJztcbnZhciBjYWNoZTtcblxuLyoqXG4gKiBFeHBvc2UgYHJlcGVhdGBcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcGVhdDtcblxuLyoqXG4gKiBSZXBlYXQgdGhlIGdpdmVuIGBzdHJpbmdgIHRoZSBzcGVjaWZpZWQgYG51bWJlcmBcbiAqIG9mIHRpbWVzLlxuICpcbiAqICoqRXhhbXBsZToqKlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVwZWF0ID0gcmVxdWlyZSgncmVwZWF0LXN0cmluZycpO1xuICogcmVwZWF0KCdBJywgNSk7XG4gKiAvLz0+IEFBQUFBXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYHN0cmluZ2AgVGhlIHN0cmluZyB0byByZXBlYXRcbiAqIEBwYXJhbSB7TnVtYmVyfSBgbnVtYmVyYCBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nXG4gKiBAcmV0dXJuIHtTdHJpbmd9IFJlcGVhdGVkIHN0cmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiByZXBlYXQoc3RyLCBudW0pIHtcbiAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhwZWN0ZWQgYSBzdHJpbmcnKTtcbiAgfVxuXG4gIC8vIGNvdmVyIGNvbW1vbiwgcXVpY2sgdXNlIGNhc2VzXG4gIGlmIChudW0gPT09IDEpIHJldHVybiBzdHI7XG4gIGlmIChudW0gPT09IDIpIHJldHVybiBzdHIgKyBzdHI7XG5cbiAgdmFyIG1heCA9IHN0ci5sZW5ndGggKiBudW07XG4gIGlmIChjYWNoZSAhPT0gc3RyIHx8IHR5cGVvZiBjYWNoZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjYWNoZSA9IHN0cjtcbiAgICByZXMgPSAnJztcbiAgfSBlbHNlIGlmIChyZXMubGVuZ3RoID49IG1heCkge1xuICAgIHJldHVybiByZXMuc3Vic3RyKDAsIG1heCk7XG4gIH1cblxuICB3aGlsZSAobWF4ID4gcmVzLmxlbmd0aCAmJiBudW0gPiAxKSB7XG4gICAgaWYgKG51bSAmIDEpIHtcbiAgICAgIHJlcyArPSBzdHI7XG4gICAgfVxuXG4gICAgbnVtID4+PSAxO1xuICAgIHN0ciArPSBzdHI7XG4gIH1cblxuICByZXMgKz0gc3RyO1xuICByZXMgPSByZXMuc3Vic3RyKDAsIG1heCk7XG4gIHJldHVybiByZXM7XG59XG4iLCIvKiFcbiAqIHBhZC1sZWZ0IDxodHRwczovL2dpdGh1Yi5jb20vam9uc2NobGlua2VydC9wYWQtbGVmdD5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNSwgSm9uIFNjaGxpbmtlcnQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmVwZWF0ID0gcmVxdWlyZSgncmVwZWF0LXN0cmluZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhZExlZnQoc3RyLCBudW0sIGNoKSB7XG4gIHN0ciA9IHN0ci50b1N0cmluZygpO1xuXG4gIGlmICh0eXBlb2YgbnVtID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICBpZiAoY2ggPT09IDApIHtcbiAgICBjaCA9ICcwJztcbiAgfSBlbHNlIGlmIChjaCkge1xuICAgIGNoID0gY2gudG9TdHJpbmcoKTtcbiAgfSBlbHNlIHtcbiAgICBjaCA9ICcgJztcbiAgfVxuXG4gIHJldHVybiByZXBlYXQoY2gsIG51bSAtIHN0ci5sZW5ndGgpICsgc3RyO1xufTtcbiIsImltcG9ydCBkYXRlZm9ybWF0IGZyb20gJ2RhdGVmb3JtYXQnO1xuaW1wb3J0IGFzc2lnbiBmcm9tICdvYmplY3QtYXNzaWduJztcbmltcG9ydCBwYWRMZWZ0IGZyb20gJ3BhZC1sZWZ0JztcbmltcG9ydCB7IGdldENsaWVudEFQSSB9IGZyb20gJy4vdXRpbCc7XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcbmxldCBsaW5rO1xuXG4vLyBBbHRlcm5hdGl2ZSBzb2x1dGlvbiBmb3Igc2F2aW5nIGZpbGVzLFxuLy8gYSBiaXQgc2xvd2VyIGFuZCBkb2VzIG5vdCB3b3JrIGluIFNhZmFyaVxuLy8gZnVuY3Rpb24gZmV0Y2hCbG9iRnJvbURhdGFVUkwgKGRhdGFVUkwpIHtcbi8vICAgcmV0dXJuIHdpbmRvdy5mZXRjaChkYXRhVVJMKS50aGVuKHJlcyA9PiByZXMuYmxvYigpKTtcbi8vIH1cblxuY29uc3Qgc3VwcG9ydGVkRW5jb2RpbmdzID0gW1xuICAnaW1hZ2UvcG5nJyxcbiAgJ2ltYWdlL2pwZWcnLFxuICAnaW1hZ2Uvd2VicCdcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBleHBvcnRDYW52YXMgKGNhbnZhcywgb3B0ID0ge30pIHtcbiAgY29uc3QgZW5jb2RpbmcgPSBvcHQuZW5jb2RpbmcgfHwgJ2ltYWdlL3BuZyc7XG4gIGlmICghc3VwcG9ydGVkRW5jb2RpbmdzLmluY2x1ZGVzKGVuY29kaW5nKSkgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNhbnZhcyBlbmNvZGluZyAke2VuY29kaW5nfWApO1xuICBsZXQgZXh0ZW5zaW9uID0gKGVuY29kaW5nLnNwbGl0KCcvJylbMV0gfHwgJycpLnJlcGxhY2UoL2pwZWcvaSwgJ2pwZycpO1xuICBpZiAoZXh0ZW5zaW9uKSBleHRlbnNpb24gPSBgLiR7ZXh0ZW5zaW9ufWAudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIHtcbiAgICBleHRlbnNpb24sXG4gICAgdHlwZTogZW5jb2RpbmcsXG4gICAgZGF0YVVSTDogY2FudmFzLnRvRGF0YVVSTChlbmNvZGluZywgb3B0LmVuY29kaW5nUXVhbGl0eSlcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQmxvYkZyb21EYXRhVVJMIChkYXRhVVJMKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGNvbnN0IHNwbGl0SW5kZXggPSBkYXRhVVJMLmluZGV4T2YoJywnKTtcbiAgICBpZiAoc3BsaXRJbmRleCA9PT0gLTEpIHtcbiAgICAgIHJlc29sdmUobmV3IHdpbmRvdy5CbG9iKCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBiYXNlNjQgPSBkYXRhVVJMLnNsaWNlKHNwbGl0SW5kZXggKyAxKTtcbiAgICBjb25zdCBieXRlU3RyaW5nID0gd2luZG93LmF0b2IoYmFzZTY0KTtcbiAgICBjb25zdCBtaW1lTWF0Y2ggPSAvZGF0YTooW147K10pOy8uZXhlYyhkYXRhVVJMKTtcbiAgICBjb25zdCBtaW1lID0gKG1pbWVNYXRjaCA/IG1pbWVNYXRjaFsxXSA6ICcnKSB8fCB1bmRlZmluZWQ7XG4gICAgY29uc3QgYWIgPSBuZXcgQXJyYXlCdWZmZXIoYnl0ZVN0cmluZy5sZW5ndGgpO1xuICAgIGNvbnN0IGlhID0gbmV3IFVpbnQ4QXJyYXkoYWIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZVN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgaWFbaV0gPSBieXRlU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJlc29sdmUobmV3IHdpbmRvdy5CbG9iKFsgYWIgXSwgeyB0eXBlOiBtaW1lIH0pKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlRGF0YVVSTCAoZGF0YVVSTCwgb3B0cyA9IHt9KSB7XG4gIHJldHVybiBjcmVhdGVCbG9iRnJvbURhdGFVUkwoZGF0YVVSTClcbiAgICAudGhlbihibG9iID0+IHNhdmVCbG9iKGJsb2IsIG9wdHMpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVCbG9iIChibG9iLCBvcHRzID0ge30pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIG9wdHMgPSBhc3NpZ24oeyBleHRlbnNpb246ICcnLCBwcmVmaXg6ICcnLCBzdWZmaXg6ICcnIH0sIG9wdHMpO1xuICAgIGNvbnN0IGZpbGVuYW1lID0gcmVzb2x2ZUZpbGVuYW1lKG9wdHMpO1xuXG4gICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50QVBJKCk7XG4gICAgaWYgKGNsaWVudCAmJiB0eXBlb2YgY2xpZW50LnNhdmVCbG9iID09PSAnZnVuY3Rpb24nICYmIGNsaWVudC5vdXRwdXQpIHtcbiAgICAgIC8vIG5hdGl2ZSBzYXZpbmcgdXNpbmcgYSBDTEkgdG9vbFxuICAgICAgcmV0dXJuIGNsaWVudC5zYXZlQmxvYihibG9iLCBhc3NpZ24oe30sIG9wdHMsIHsgZmlsZW5hbWUgfSkpXG4gICAgICAgIC50aGVuKGV2ID0+IHJlc29sdmUoZXYpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZm9yY2UgZG93bmxvYWRcbiAgICAgIGlmICghbGluaykge1xuICAgICAgICBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBsaW5rLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgbGluay50YXJnZXQgPSAnX2JsYW5rJztcbiAgICAgIH1cbiAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlbmFtZTtcbiAgICAgIGxpbmsuaHJlZiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgIGxpbmsub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgbGluay5vbmNsaWNrID0gbm9vcDtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcbiAgICAgICAgICBsaW5rLnJlbW92ZUF0dHJpYnV0ZSgnaHJlZicpO1xuICAgICAgICAgIHJlc29sdmUoeyBmaWxlbmFtZSwgY2xpZW50OiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgbGluay5jbGljaygpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlRmlsZSAoZGF0YSwgb3B0cyA9IHt9KSB7XG4gIGNvbnN0IHBhcnRzID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbIGRhdGEgXTtcbiAgY29uc3QgYmxvYiA9IG5ldyB3aW5kb3cuQmxvYihwYXJ0cywgeyB0eXBlOiBvcHRzLnR5cGUgfHwgJycgfSk7XG4gIHJldHVybiBzYXZlQmxvYihibG9iLCBvcHRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVOYW1lICgpIHtcbiAgY29uc3QgZGF0ZUZvcm1hdFN0ciA9IGB5eXl5Lm1tLmRkLUhILk1NLnNzYDtcbiAgcmV0dXJuIGRhdGVmb3JtYXQobmV3IERhdGUoKSwgZGF0ZUZvcm1hdFN0cik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0RmlsZSAocHJlZml4ID0gJycsIHN1ZmZpeCA9ICcnLCBleHQpIHtcbiAgLy8gY29uc3QgZGF0ZUZvcm1hdFN0ciA9IGB5eXl5Lm1tLmRkLUhILk1NLnNzYDtcbiAgY29uc3QgZGF0ZUZvcm1hdFN0ciA9IGB5eXl5LW1tLWRkICdhdCcgaC5NTS5zcyBUVGA7XG4gIHJldHVybiBgJHtwcmVmaXh9JHtkYXRlZm9ybWF0KG5ldyBEYXRlKCksIGRhdGVGb3JtYXRTdHIpfSR7c3VmZml4fSR7ZXh0fWA7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVGaWxlbmFtZSAob3B0ID0ge30pIHtcbiAgb3B0ID0gYXNzaWduKHt9LCBvcHQpO1xuXG4gIC8vIEN1c3RvbSBmaWxlbmFtZSBmdW5jdGlvblxuICBpZiAodHlwZW9mIG9wdC5maWxlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG9wdC5maWxlKG9wdCk7XG4gIH0gZWxzZSBpZiAob3B0LmZpbGUpIHtcbiAgICByZXR1cm4gb3B0LmZpbGU7XG4gIH1cblxuICBsZXQgZnJhbWUgPSBudWxsO1xuICBsZXQgZXh0ZW5zaW9uID0gJyc7XG4gIGlmICh0eXBlb2Ygb3B0LmV4dGVuc2lvbiA9PT0gJ3N0cmluZycpIGV4dGVuc2lvbiA9IG9wdC5leHRlbnNpb247XG5cbiAgaWYgKHR5cGVvZiBvcHQuZnJhbWUgPT09ICdudW1iZXInKSB7XG4gICAgbGV0IHRvdGFsRnJhbWVzO1xuICAgIGlmICh0eXBlb2Ygb3B0LnRvdGFsRnJhbWVzID09PSAnbnVtYmVyJykge1xuICAgICAgdG90YWxGcmFtZXMgPSBvcHQudG90YWxGcmFtZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvdGFsRnJhbWVzID0gTWF0aC5tYXgoMTAwMCwgb3B0LmZyYW1lKTtcbiAgICB9XG4gICAgZnJhbWUgPSBwYWRMZWZ0KFN0cmluZyhvcHQuZnJhbWUpLCBTdHJpbmcodG90YWxGcmFtZXMpLmxlbmd0aCwgJzAnKTtcbiAgfVxuXG4gIGNvbnN0IGxheWVyU3RyID0gaXNGaW5pdGUob3B0LnRvdGFsTGF5ZXJzKSAmJiBpc0Zpbml0ZShvcHQubGF5ZXIpICYmIG9wdC50b3RhbExheWVycyA+IDEgPyBgJHtvcHQubGF5ZXJ9YCA6ICcnO1xuICBpZiAoZnJhbWUgIT0gbnVsbCkge1xuICAgIHJldHVybiBbIGxheWVyU3RyLCBmcmFtZSBdLmZpbHRlcihCb29sZWFuKS5qb2luKCctJykgKyBleHRlbnNpb247XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZGVmYXVsdEZpbGVOYW1lID0gb3B0LnRpbWVTdGFtcDtcbiAgICByZXR1cm4gWyBvcHQucHJlZml4LCBvcHQubmFtZSB8fCBkZWZhdWx0RmlsZU5hbWUsIGxheWVyU3RyLCBvcHQuaGFzaCwgb3B0LnN1ZmZpeCBdLmZpbHRlcihCb29sZWFuKS5qb2luKCctJykgKyBleHRlbnNpb247XG4gIH1cbn1cbiIsIi8vIEhhbmRsZSBzb21lIGNvbW1vbiB0eXBvc1xuY29uc3QgY29tbW9uVHlwb3MgPSB7XG4gIGRpbWVuc2lvbjogJ2RpbWVuc2lvbnMnLFxuICBhbmltYXRlZDogJ2FuaW1hdGUnLFxuICBhbmltYXRpbmc6ICdhbmltYXRlJyxcbiAgdW5pdDogJ3VuaXRzJyxcbiAgUDU6ICdwNScsXG4gIHBpeGVsbGF0ZWQ6ICdwaXhlbGF0ZWQnLFxuICBsb29waW5nOiAnbG9vcCcsXG4gIHBpeGVsUGVySW5jaDogJ3BpeGVscydcbn07XG5cbi8vIEhhbmRsZSBhbGwgb3RoZXIgdHlwb3NcbmNvbnN0IGFsbEtleXMgPSBbXG4gICdkaW1lbnNpb25zJywgJ3VuaXRzJywgJ3BpeGVsc1BlckluY2gnLCAnb3JpZW50YXRpb24nLFxuICAnc2NhbGVUb0ZpdCcsICdzY2FsZVRvVmlldycsICdibGVlZCcsICdwaXhlbFJhdGlvJyxcbiAgJ2V4cG9ydFBpeGVsUmF0aW8nLCAnbWF4UGl4ZWxSYXRpbycsICdzY2FsZUNvbnRleHQnLFxuICAncmVzaXplQ2FudmFzJywgJ3N0eWxlQ2FudmFzJywgJ2NhbnZhcycsICdjb250ZXh0JywgJ2F0dHJpYnV0ZXMnLFxuICAncGFyZW50JywgJ2ZpbGUnLCAnbmFtZScsICdwcmVmaXgnLCAnc3VmZml4JywgJ2FuaW1hdGUnLCAncGxheWluZycsXG4gICdsb29wJywgJ2R1cmF0aW9uJywgJ3RvdGFsRnJhbWVzJywgJ2ZwcycsICdwbGF5YmFja1JhdGUnLCAndGltZVNjYWxlJyxcbiAgJ2ZyYW1lJywgJ3RpbWUnLCAnZmx1c2gnLCAncGl4ZWxhdGVkJywgJ2hvdGtleXMnLCAncDUnLCAnaWQnLFxuICAnc2NhbGVUb0ZpdFBhZGRpbmcnLCAnZGF0YScsICdwYXJhbXMnLCAnZW5jb2RpbmcnLCAnZW5jb2RpbmdRdWFsaXR5J1xuXTtcblxuLy8gVGhpcyBpcyBmYWlybHkgb3BpbmlvbmF0ZWQgYW5kIGZvcmNlcyB1c2VycyB0byB1c2UgdGhlICdkYXRhJyBwYXJhbWV0ZXJcbi8vIGlmIHRoZXkgd2FudCB0byBwYXNzIGFsb25nIG5vbi1zZXR0aW5nIG9iamVjdHMuLi5cbmV4cG9ydCBjb25zdCBjaGVja1NldHRpbmdzID0gKHNldHRpbmdzKSA9PiB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzZXR0aW5ncyk7XG4gIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgIGlmIChrZXkgaW4gY29tbW9uVHlwb3MpIHtcbiAgICAgIGNvbnN0IGFjdHVhbCA9IGNvbW1vblR5cG9zW2tleV07XG4gICAgICBjb25zb2xlLndhcm4oYFtjYW52YXMtc2tldGNoXSBDb3VsZCBub3QgcmVjb2duaXplIHRoZSBzZXR0aW5nIFwiJHtrZXl9XCIsIGRpZCB5b3UgbWVhbiBcIiR7YWN0dWFsfVwiP2ApO1xuICAgIH0gZWxzZSBpZiAoIWFsbEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgY29uc29sZS53YXJuKGBbY2FudmFzLXNrZXRjaF0gQ291bGQgbm90IHJlY29nbml6ZSB0aGUgc2V0dGluZyBcIiR7a2V5fVwiYCk7XG4gICAgfVxuICB9KTtcbn07XG4iLCJpbXBvcnQgeyBnZXRDbGllbnRBUEkgfSBmcm9tICcuLi91dGlsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG9wdCA9IHt9KSB7XG4gIGNvbnN0IGhhbmRsZXIgPSBldiA9PiB7XG4gICAgaWYgKCFvcHQuZW5hYmxlZCgpKSByZXR1cm47XG5cbiAgICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnRBUEkoKTtcbiAgICBpZiAoZXYua2V5Q29kZSA9PT0gODMgJiYgIWV2LmFsdEtleSAmJiAoZXYubWV0YUtleSB8fCBldi5jdHJsS2V5KSkge1xuICAgICAgLy8gQ21kICsgU1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG9wdC5zYXZlKGV2KTtcbiAgICB9IGVsc2UgaWYgKGV2LmtleUNvZGUgPT09IDMyKSB7XG4gICAgICAvLyBTcGFjZVxuICAgICAgLy8gVE9ETzogd2hhdCB0byBkbyB3aXRoIHRoaXM/IGtlZXAgaXQsIG9yIHJlbW92ZSBpdD9cbiAgICAgIG9wdC50b2dnbGVQbGF5KGV2KTtcbiAgICB9IGVsc2UgaWYgKGNsaWVudCAmJiAhZXYuYWx0S2V5ICYmIGV2LmtleUNvZGUgPT09IDc1ICYmIChldi5tZXRhS2V5IHx8IGV2LmN0cmxLZXkpKSB7XG4gICAgICAvLyBDbWQgKyBLLCBvbmx5IHdoZW4gY2FudmFzLXNrZXRjaC1jbGkgaXMgdXNlZFxuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG9wdC5jb21taXQoZXYpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBhdHRhY2ggPSAoKSA9PiB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVyKTtcbiAgfTtcblxuICBjb25zdCBkZXRhY2ggPSAoKSA9PiB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVyKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGF0dGFjaCxcbiAgICBkZXRhY2hcbiAgfTtcbn1cbiIsImNvbnN0IGRlZmF1bHRVbml0cyA9ICdtbSc7XG5cbmNvbnN0IGRhdGEgPSBbXG4gIC8vIENvbW1vbiBQYXBlciBTaXplc1xuICAvLyAoTW9zdGx5IE5vcnRoLUFtZXJpY2FuIGJhc2VkKVxuICBbICdwb3N0Y2FyZCcsIDEwMS42LCAxNTIuNCBdLFxuICBbICdwb3N0ZXItc21hbGwnLCAyODAsIDQzMCBdLFxuICBbICdwb3N0ZXInLCA0NjAsIDYxMCBdLFxuICBbICdwb3N0ZXItbGFyZ2UnLCA2MTAsIDkxMCBdLFxuICBbICdidXNpbmVzcy1jYXJkJywgNTAuOCwgODguOSBdLFxuXG4gIC8vIFBob3RvZ3JhcGhpYyBQcmludCBQYXBlciBTaXplc1xuICBbICcycicsIDY0LCA4OSBdLFxuICBbICczcicsIDg5LCAxMjcgXSxcbiAgWyAnNHInLCAxMDIsIDE1MiBdLFxuICBbICc1cicsIDEyNywgMTc4IF0sIC8vIDXigLN4N+KAs1xuICBbICc2cicsIDE1MiwgMjAzIF0sIC8vIDbigLN4OOKAs1xuICBbICc4cicsIDIwMywgMjU0IF0sIC8vIDjigLN4MTDigLNcbiAgWyAnMTByJywgMjU0LCAzMDUgXSwgLy8gMTDigLN4MTLigLNcbiAgWyAnMTFyJywgMjc5LCAzNTYgXSwgLy8gMTHigLN4MTTigLNcbiAgWyAnMTJyJywgMzA1LCAzODEgXSxcblxuICAvLyBTdGFuZGFyZCBQYXBlciBTaXplc1xuICBbICdhMCcsIDg0MSwgMTE4OSBdLFxuICBbICdhMScsIDU5NCwgODQxIF0sXG4gIFsgJ2EyJywgNDIwLCA1OTQgXSxcbiAgWyAnYTMnLCAyOTcsIDQyMCBdLFxuICBbICdhNCcsIDIxMCwgMjk3IF0sXG4gIFsgJ2E1JywgMTQ4LCAyMTAgXSxcbiAgWyAnYTYnLCAxMDUsIDE0OCBdLFxuICBbICdhNycsIDc0LCAxMDUgXSxcbiAgWyAnYTgnLCA1MiwgNzQgXSxcbiAgWyAnYTknLCAzNywgNTIgXSxcbiAgWyAnYTEwJywgMjYsIDM3IF0sXG4gIFsgJzJhMCcsIDExODksIDE2ODIgXSxcbiAgWyAnNGEwJywgMTY4MiwgMjM3OCBdLFxuICBbICdiMCcsIDEwMDAsIDE0MTQgXSxcbiAgWyAnYjEnLCA3MDcsIDEwMDAgXSxcbiAgWyAnYjErJywgNzIwLCAxMDIwIF0sXG4gIFsgJ2IyJywgNTAwLCA3MDcgXSxcbiAgWyAnYjIrJywgNTIwLCA3MjAgXSxcbiAgWyAnYjMnLCAzNTMsIDUwMCBdLFxuICBbICdiNCcsIDI1MCwgMzUzIF0sXG4gIFsgJ2I1JywgMTc2LCAyNTAgXSxcbiAgWyAnYjYnLCAxMjUsIDE3NiBdLFxuICBbICdiNycsIDg4LCAxMjUgXSxcbiAgWyAnYjgnLCA2MiwgODggXSxcbiAgWyAnYjknLCA0NCwgNjIgXSxcbiAgWyAnYjEwJywgMzEsIDQ0IF0sXG4gIFsgJ2IxMScsIDIyLCAzMiBdLFxuICBbICdiMTInLCAxNiwgMjIgXSxcbiAgWyAnYzAnLCA5MTcsIDEyOTcgXSxcbiAgWyAnYzEnLCA2NDgsIDkxNyBdLFxuICBbICdjMicsIDQ1OCwgNjQ4IF0sXG4gIFsgJ2MzJywgMzI0LCA0NTggXSxcbiAgWyAnYzQnLCAyMjksIDMyNCBdLFxuICBbICdjNScsIDE2MiwgMjI5IF0sXG4gIFsgJ2M2JywgMTE0LCAxNjIgXSxcbiAgWyAnYzcnLCA4MSwgMTE0IF0sXG4gIFsgJ2M4JywgNTcsIDgxIF0sXG4gIFsgJ2M5JywgNDAsIDU3IF0sXG4gIFsgJ2MxMCcsIDI4LCA0MCBdLFxuICBbICdjMTEnLCAyMiwgMzIgXSxcbiAgWyAnYzEyJywgMTYsIDIyIF0sXG5cbiAgLy8gVXNlIGluY2hlcyBmb3IgTm9ydGggQW1lcmljYW4gc2l6ZXMsXG4gIC8vIGFzIGl0IHByb2R1Y2VzIGxlc3MgZmxvYXQgcHJlY2lzaW9uIGVycm9yc1xuICBbICdoYWxmLWxldHRlcicsIDUuNSwgOC41LCAnaW4nIF0sXG4gIFsgJ2xldHRlcicsIDguNSwgMTEsICdpbicgXSxcbiAgWyAnbGVnYWwnLCA4LjUsIDE0LCAnaW4nIF0sXG4gIFsgJ2p1bmlvci1sZWdhbCcsIDUsIDgsICdpbicgXSxcbiAgWyAnbGVkZ2VyJywgMTEsIDE3LCAnaW4nIF0sXG4gIFsgJ3RhYmxvaWQnLCAxMSwgMTcsICdpbicgXSxcbiAgWyAnYW5zaS1hJywgOC41LCAxMS4wLCAnaW4nIF0sXG4gIFsgJ2Fuc2ktYicsIDExLjAsIDE3LjAsICdpbicgXSxcbiAgWyAnYW5zaS1jJywgMTcuMCwgMjIuMCwgJ2luJyBdLFxuICBbICdhbnNpLWQnLCAyMi4wLCAzNC4wLCAnaW4nIF0sXG4gIFsgJ2Fuc2ktZScsIDM0LjAsIDQ0LjAsICdpbicgXSxcbiAgWyAnYXJjaC1hJywgOSwgMTIsICdpbicgXSxcbiAgWyAnYXJjaC1iJywgMTIsIDE4LCAnaW4nIF0sXG4gIFsgJ2FyY2gtYycsIDE4LCAyNCwgJ2luJyBdLFxuICBbICdhcmNoLWQnLCAyNCwgMzYsICdpbicgXSxcbiAgWyAnYXJjaC1lJywgMzYsIDQ4LCAnaW4nIF0sXG4gIFsgJ2FyY2gtZTEnLCAzMCwgNDIsICdpbicgXSxcbiAgWyAnYXJjaC1lMicsIDI2LCAzOCwgJ2luJyBdLFxuICBbICdhcmNoLWUzJywgMjcsIDM5LCAnaW4nIF1cbl07XG5cbmV4cG9ydCBkZWZhdWx0IGRhdGEucmVkdWNlKChkaWN0LCBwcmVzZXQpID0+IHtcbiAgY29uc3QgaXRlbSA9IHtcbiAgICB1bml0czogcHJlc2V0WzNdIHx8IGRlZmF1bHRVbml0cyxcbiAgICBkaW1lbnNpb25zOiBbIHByZXNldFsxXSwgcHJlc2V0WzJdIF1cbiAgfTtcbiAgZGljdFtwcmVzZXRbMF1dID0gaXRlbTtcbiAgZGljdFtwcmVzZXRbMF0ucmVwbGFjZSgvLS9nLCAnICcpXSA9IGl0ZW07XG4gIHJldHVybiBkaWN0O1xufSwge30pO1xuIiwiaW1wb3J0IHBhcGVyU2l6ZXMgZnJvbSAnLi9wYXBlci1zaXplcyc7XG5pbXBvcnQgY29udmVydExlbmd0aCBmcm9tICdjb252ZXJ0LWxlbmd0aCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREaW1lbnNpb25zRnJvbVByZXNldCAoZGltZW5zaW9ucywgdW5pdHNUbyA9ICdweCcsIHBpeGVsc1BlckluY2ggPSA3Mikge1xuICBpZiAodHlwZW9mIGRpbWVuc2lvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uc3Qga2V5ID0gZGltZW5zaW9ucy50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghKGtleSBpbiBwYXBlclNpemVzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgZGltZW5zaW9uIHByZXNldCBcIiR7ZGltZW5zaW9uc31cIiBpcyBub3Qgc3VwcG9ydGVkIG9yIGNvdWxkIG5vdCBiZSBmb3VuZDsgdHJ5IHVzaW5nIGE0LCBhMywgcG9zdGNhcmQsIGxldHRlciwgZXRjLmApXG4gICAgfVxuICAgIGNvbnN0IHByZXNldCA9IHBhcGVyU2l6ZXNba2V5XTtcbiAgICByZXR1cm4gcHJlc2V0LmRpbWVuc2lvbnMubWFwKGQgPT4ge1xuICAgICAgcmV0dXJuIGNvbnZlcnREaXN0YW5jZShkLCBwcmVzZXQudW5pdHMsIHVuaXRzVG8sIHBpeGVsc1BlckluY2gpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBkaW1lbnNpb25zO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0RGlzdGFuY2UgKGRpbWVuc2lvbiwgdW5pdHNGcm9tID0gJ3B4JywgdW5pdHNUbyA9ICdweCcsIHBpeGVsc1BlckluY2ggPSA3Mikge1xuICByZXR1cm4gY29udmVydExlbmd0aChkaW1lbnNpb24sIHVuaXRzRnJvbSwgdW5pdHNUbywge1xuICAgIHBpeGVsc1BlckluY2gsXG4gICAgcHJlY2lzaW9uOiA0LFxuICAgIHJvdW5kUGl4ZWw6IHRydWVcbiAgfSk7XG59XG4iLCJpbXBvcnQgZGVmaW5lZCBmcm9tICdkZWZpbmVkJztcbmltcG9ydCB7IGdldERpbWVuc2lvbnNGcm9tUHJlc2V0LCBjb252ZXJ0RGlzdGFuY2UgfSBmcm9tICcuLi9kaXN0YW5jZXMnO1xuaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmZ1bmN0aW9uIGNoZWNrSWZIYXNEaW1lbnNpb25zIChzZXR0aW5ncykge1xuICBpZiAoIXNldHRpbmdzLmRpbWVuc2lvbnMpIHJldHVybiBmYWxzZTtcbiAgaWYgKHR5cGVvZiBzZXR0aW5ncy5kaW1lbnNpb25zID09PSAnc3RyaW5nJykgcmV0dXJuIHRydWU7XG4gIGlmIChBcnJheS5pc0FycmF5KHNldHRpbmdzLmRpbWVuc2lvbnMpICYmIHNldHRpbmdzLmRpbWVuc2lvbnMubGVuZ3RoID49IDIpIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFBhcmVudFNpemUgKHByb3BzLCBzZXR0aW5ncykge1xuICAvLyBXaGVuIG5vIHsgZGltZW5zaW9uIH0gaXMgcGFzc2VkIGluIG5vZGUsIHdlIGRlZmF1bHQgdG8gSFRNTCBjYW52YXMgc2l6ZVxuICBpZiAoIWlzQnJvd3NlcigpKSB7XG4gICAgcmV0dXJuIFsgMzAwLCAxNTAgXTtcbiAgfVxuXG4gIGxldCBlbGVtZW50ID0gc2V0dGluZ3MucGFyZW50IHx8IHdpbmRvdztcblxuICBpZiAoZWxlbWVudCA9PT0gd2luZG93IHx8XG4gICAgICBlbGVtZW50ID09PSBkb2N1bWVudCB8fFxuICAgICAgZWxlbWVudCA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgIHJldHVybiBbIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQgXTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIFsgd2lkdGgsIGhlaWdodCBdO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc2l6ZUNhbnZhcyAocHJvcHMsIHNldHRpbmdzKSB7XG4gIGxldCB3aWR0aCwgaGVpZ2h0O1xuICBsZXQgc3R5bGVXaWR0aCwgc3R5bGVIZWlnaHQ7XG4gIGxldCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0O1xuXG4gIGNvbnN0IGJyb3dzZXIgPSBpc0Jyb3dzZXIoKTtcbiAgY29uc3QgZGltZW5zaW9ucyA9IHNldHRpbmdzLmRpbWVuc2lvbnM7XG4gIGNvbnN0IGhhc0RpbWVuc2lvbnMgPSBjaGVja0lmSGFzRGltZW5zaW9ucyhzZXR0aW5ncyk7XG4gIGNvbnN0IGV4cG9ydGluZyA9IHByb3BzLmV4cG9ydGluZztcbiAgbGV0IHNjYWxlVG9GaXQgPSBoYXNEaW1lbnNpb25zID8gc2V0dGluZ3Muc2NhbGVUb0ZpdCAhPT0gZmFsc2UgOiBmYWxzZTtcbiAgbGV0IHNjYWxlVG9WaWV3ID0gKCFleHBvcnRpbmcgJiYgaGFzRGltZW5zaW9ucykgPyBzZXR0aW5ncy5zY2FsZVRvVmlldyA6IHRydWU7XG4gIC8vIGluIG5vZGUsIGNhbmNlbCBib3RoIG9mIHRoZXNlIG9wdGlvbnNcbiAgaWYgKCFicm93c2VyKSBzY2FsZVRvRml0ID0gc2NhbGVUb1ZpZXcgPSBmYWxzZTtcbiAgY29uc3QgdW5pdHMgPSBzZXR0aW5ncy51bml0cztcbiAgY29uc3QgcGl4ZWxzUGVySW5jaCA9ICh0eXBlb2Ygc2V0dGluZ3MucGl4ZWxzUGVySW5jaCA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUoc2V0dGluZ3MucGl4ZWxzUGVySW5jaCkpID8gc2V0dGluZ3MucGl4ZWxzUGVySW5jaCA6IDcyO1xuICBjb25zdCBibGVlZCA9IGRlZmluZWQoc2V0dGluZ3MuYmxlZWQsIDApO1xuXG4gIGNvbnN0IGRldmljZVBpeGVsUmF0aW8gPSBicm93c2VyID8gd2luZG93LmRldmljZVBpeGVsUmF0aW8gOiAxO1xuICBjb25zdCBiYXNlUGl4ZWxSYXRpbyA9IHNjYWxlVG9WaWV3ID8gZGV2aWNlUGl4ZWxSYXRpbyA6IDE7XG5cbiAgbGV0IHBpeGVsUmF0aW8sIGV4cG9ydFBpeGVsUmF0aW87XG5cbiAgLy8gSWYgYSBwaXhlbCByYXRpbyBpcyBzcGVjaWZpZWQsIHdlIHdpbGwgdXNlIGl0LlxuICAvLyBPdGhlcndpc2U6XG4gIC8vICAtPiBJZiBkaW1lbnNpb24gaXMgc3BlY2lmaWVkLCB1c2UgYmFzZSByYXRpbyAoaS5lLiBzaXplIGZvciBleHBvcnQpXG4gIC8vICAtPiBJZiBubyBkaW1lbnNpb24gaXMgc3BlY2lmaWVkLCB1c2UgZGV2aWNlIHJhdGlvIChpLmUuIHNpemUgZm9yIHNjcmVlbilcbiAgaWYgKHR5cGVvZiBzZXR0aW5ncy5waXhlbFJhdGlvID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZShzZXR0aW5ncy5waXhlbFJhdGlvKSkge1xuICAgIC8vIFdoZW4geyBwaXhlbFJhdGlvIH0gaXMgc3BlY2lmaWVkLCBpdCdzIGFsc28gdXNlZCBhcyBkZWZhdWx0IGV4cG9ydFBpeGVsUmF0aW8uXG4gICAgcGl4ZWxSYXRpbyA9IHNldHRpbmdzLnBpeGVsUmF0aW87XG4gICAgZXhwb3J0UGl4ZWxSYXRpbyA9IGRlZmluZWQoc2V0dGluZ3MuZXhwb3J0UGl4ZWxSYXRpbywgcGl4ZWxSYXRpbyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGhhc0RpbWVuc2lvbnMpIHtcbiAgICAgIC8vIFdoZW4gYSBkaW1lbnNpb24gaXMgc3BlY2lmaWVkLCB1c2UgdGhlIGJhc2UgcmF0aW8gcmF0aGVyIHRoYW4gc2NyZWVuIHJhdGlvXG4gICAgICBwaXhlbFJhdGlvID0gYmFzZVBpeGVsUmF0aW87XG4gICAgICAvLyBEZWZhdWx0IHRvIGEgcGl4ZWwgcmF0aW8gb2YgMSBzbyB0aGF0IHlvdSBlbmQgdXAgd2l0aCB0aGUgc2FtZSBkaW1lbnNpb25cbiAgICAgIC8vIHlvdSBzcGVjaWZpZWQsIGkuZS4gWyA1MDAsIDUwMCBdIGlzIGV4cG9ydGVkIGFzIDUwMHg1MDAgcHhcbiAgICAgIGV4cG9ydFBpeGVsUmF0aW8gPSBkZWZpbmVkKHNldHRpbmdzLmV4cG9ydFBpeGVsUmF0aW8sIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBkaW1lbnNpb24gaXMgc3BlY2lmaWVkLCBhc3N1bWUgZnVsbC1zY3JlZW4gc2l6aW5nXG4gICAgICBwaXhlbFJhdGlvID0gZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgIC8vIERlZmF1bHQgdG8gc2NyZWVuIHBpeGVsIHJhdGlvLCBzbyB0aGF0IGl0J3MgbGlrZSB0YWtpbmcgYSBkZXZpY2Ugc2NyZWVuc2hvdFxuICAgICAgZXhwb3J0UGl4ZWxSYXRpbyA9IGRlZmluZWQoc2V0dGluZ3MuZXhwb3J0UGl4ZWxSYXRpbywgcGl4ZWxSYXRpbyk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2xhbXAgcGl4ZWwgcmF0aW9cbiAgaWYgKHR5cGVvZiBzZXR0aW5ncy5tYXhQaXhlbFJhdGlvID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZShzZXR0aW5ncy5tYXhQaXhlbFJhdGlvKSkge1xuICAgIHBpeGVsUmF0aW8gPSBNYXRoLm1pbihzZXR0aW5ncy5tYXhQaXhlbFJhdGlvLCBwaXhlbFJhdGlvKTtcbiAgICBleHBvcnRQaXhlbFJhdGlvID0gTWF0aC5taW4oc2V0dGluZ3MubWF4UGl4ZWxSYXRpbywgZXhwb3J0UGl4ZWxSYXRpbyk7XG4gIH1cblxuICAvLyBIYW5kbGUgZXhwb3J0IHBpeGVsIHJhdGlvXG4gIGlmIChleHBvcnRpbmcpIHtcbiAgICBwaXhlbFJhdGlvID0gZXhwb3J0UGl4ZWxSYXRpbztcbiAgfVxuXG4gIC8vIHBhcmVudFdpZHRoID0gdHlwZW9mIHBhcmVudFdpZHRoID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHROb2RlU2l6ZVswXSA6IHBhcmVudFdpZHRoO1xuICAvLyBwYXJlbnRIZWlnaHQgPSB0eXBlb2YgcGFyZW50SGVpZ2h0ID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHROb2RlU2l6ZVsxXSA6IHBhcmVudEhlaWdodDtcblxuICBsZXQgWyBwYXJlbnRXaWR0aCwgcGFyZW50SGVpZ2h0IF0gPSBnZXRQYXJlbnRTaXplKHByb3BzLCBzZXR0aW5ncyk7XG4gIGxldCB0cmltV2lkdGgsIHRyaW1IZWlnaHQ7XG5cbiAgLy8gWW91IGNhbiBzcGVjaWZ5IGEgZGltZW5zaW9ucyBpbiBwaXhlbHMgb3IgY20vbS9pbi9ldGNcbiAgaWYgKGhhc0RpbWVuc2lvbnMpIHtcbiAgICBjb25zdCByZXN1bHQgPSBnZXREaW1lbnNpb25zRnJvbVByZXNldChkaW1lbnNpb25zLCB1bml0cywgcGl4ZWxzUGVySW5jaCk7XG4gICAgY29uc3QgaGlnaGVzdCA9IE1hdGgubWF4KHJlc3VsdFswXSwgcmVzdWx0WzFdKTtcbiAgICBjb25zdCBsb3dlc3QgPSBNYXRoLm1pbihyZXN1bHRbMF0sIHJlc3VsdFsxXSk7XG4gICAgaWYgKHNldHRpbmdzLm9yaWVudGF0aW9uKSB7XG4gICAgICBjb25zdCBsYW5kc2NhcGUgPSBzZXR0aW5ncy5vcmllbnRhdGlvbiA9PT0gJ2xhbmRzY2FwZSc7XG4gICAgICB3aWR0aCA9IGxhbmRzY2FwZSA/IGhpZ2hlc3QgOiBsb3dlc3Q7XG4gICAgICBoZWlnaHQgPSBsYW5kc2NhcGUgPyBsb3dlc3QgOiBoaWdoZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IHJlc3VsdFswXTtcbiAgICAgIGhlaWdodCA9IHJlc3VsdFsxXTtcbiAgICB9XG5cbiAgICB0cmltV2lkdGggPSB3aWR0aDtcbiAgICB0cmltSGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgLy8gQXBwbHkgYmxlZWQgd2hpY2ggaXMgYXNzdW1lZCB0byBiZSBpbiB0aGUgc2FtZSB1bml0c1xuICAgIHdpZHRoICs9IGJsZWVkICogMjtcbiAgICBoZWlnaHQgKz0gYmxlZWQgKiAyO1xuICB9IGVsc2Uge1xuICAgIHdpZHRoID0gcGFyZW50V2lkdGg7XG4gICAgaGVpZ2h0ID0gcGFyZW50SGVpZ2h0O1xuICAgIHRyaW1XaWR0aCA9IHdpZHRoO1xuICAgIHRyaW1IZWlnaHQgPSBoZWlnaHQ7XG4gIH1cblxuICAvLyBSZWFsIHNpemUgaW4gcGl4ZWxzIGFmdGVyIFBQSSBpcyB0YWtlbiBpbnRvIGFjY291bnRcbiAgbGV0IHJlYWxXaWR0aCA9IHdpZHRoO1xuICBsZXQgcmVhbEhlaWdodCA9IGhlaWdodDtcbiAgaWYgKGhhc0RpbWVuc2lvbnMgJiYgdW5pdHMpIHtcbiAgICAvLyBDb252ZXJ0IHRvIGRpZ2l0YWwvcGl4ZWwgdW5pdHMgaWYgbmVjZXNzYXJ5XG4gICAgcmVhbFdpZHRoID0gY29udmVydERpc3RhbmNlKHdpZHRoLCB1bml0cywgJ3B4JywgcGl4ZWxzUGVySW5jaCk7XG4gICAgcmVhbEhlaWdodCA9IGNvbnZlcnREaXN0YW5jZShoZWlnaHQsIHVuaXRzLCAncHgnLCBwaXhlbHNQZXJJbmNoKTtcbiAgfVxuXG4gIC8vIEhvdyBiaWcgdG8gc2V0IHRoZSAndmlldycgb2YgdGhlIGNhbnZhcyBpbiB0aGUgYnJvd3NlciAoaS5lLiBzdHlsZSlcbiAgc3R5bGVXaWR0aCA9IE1hdGgucm91bmQocmVhbFdpZHRoKTtcbiAgc3R5bGVIZWlnaHQgPSBNYXRoLnJvdW5kKHJlYWxIZWlnaHQpO1xuXG4gIC8vIElmIHdlIHdpc2ggdG8gc2NhbGUgdGhlIHZpZXcgdG8gdGhlIGJyb3dzZXIgd2luZG93XG4gIGlmIChzY2FsZVRvRml0ICYmICFleHBvcnRpbmcgJiYgaGFzRGltZW5zaW9ucykge1xuICAgIGNvbnN0IGFzcGVjdCA9IHdpZHRoIC8gaGVpZ2h0O1xuICAgIGNvbnN0IHdpbmRvd0FzcGVjdCA9IHBhcmVudFdpZHRoIC8gcGFyZW50SGVpZ2h0O1xuICAgIGNvbnN0IHNjYWxlVG9GaXRQYWRkaW5nID0gZGVmaW5lZChzZXR0aW5ncy5zY2FsZVRvRml0UGFkZGluZywgNDApO1xuICAgIGNvbnN0IG1heFdpZHRoID0gTWF0aC5yb3VuZChwYXJlbnRXaWR0aCAtIHNjYWxlVG9GaXRQYWRkaW5nICogMik7XG4gICAgY29uc3QgbWF4SGVpZ2h0ID0gTWF0aC5yb3VuZChwYXJlbnRIZWlnaHQgLSBzY2FsZVRvRml0UGFkZGluZyAqIDIpO1xuICAgIGlmIChzdHlsZVdpZHRoID4gbWF4V2lkdGggfHwgc3R5bGVIZWlnaHQgPiBtYXhIZWlnaHQpIHtcbiAgICAgIGlmICh3aW5kb3dBc3BlY3QgPiBhc3BlY3QpIHtcbiAgICAgICAgc3R5bGVIZWlnaHQgPSBtYXhIZWlnaHQ7XG4gICAgICAgIHN0eWxlV2lkdGggPSBNYXRoLnJvdW5kKHN0eWxlSGVpZ2h0ICogYXNwZWN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlV2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgc3R5bGVIZWlnaHQgPSBNYXRoLnJvdW5kKHN0eWxlV2lkdGggLyBhc3BlY3QpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNhbnZhc1dpZHRoID0gc2NhbGVUb1ZpZXcgPyBNYXRoLnJvdW5kKHBpeGVsUmF0aW8gKiBzdHlsZVdpZHRoKSA6IE1hdGgucm91bmQocGl4ZWxSYXRpbyAqIHJlYWxXaWR0aCk7XG4gIGNhbnZhc0hlaWdodCA9IHNjYWxlVG9WaWV3ID8gTWF0aC5yb3VuZChwaXhlbFJhdGlvICogc3R5bGVIZWlnaHQpIDogTWF0aC5yb3VuZChwaXhlbFJhdGlvICogcmVhbEhlaWdodCk7XG5cbiAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IHNjYWxlVG9WaWV3ID8gTWF0aC5yb3VuZChzdHlsZVdpZHRoKSA6IE1hdGgucm91bmQocmVhbFdpZHRoKTtcbiAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSBzY2FsZVRvVmlldyA/IE1hdGgucm91bmQoc3R5bGVIZWlnaHQpIDogTWF0aC5yb3VuZChyZWFsSGVpZ2h0KTtcblxuICBjb25zdCBzY2FsZVggPSBjYW52YXNXaWR0aCAvIHdpZHRoO1xuICBjb25zdCBzY2FsZVkgPSBjYW52YXNIZWlnaHQgLyBoZWlnaHQ7XG5cbiAgLy8gQXNzaWduIHRvIGN1cnJlbnQgcHJvcHNcbiAgcmV0dXJuIHtcbiAgICBibGVlZCxcbiAgICBwaXhlbFJhdGlvLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBkaW1lbnNpb25zOiBbIHdpZHRoLCBoZWlnaHQgXSxcbiAgICB1bml0czogdW5pdHMgfHwgJ3B4JyxcbiAgICBzY2FsZVgsXG4gICAgc2NhbGVZLFxuICAgIHZpZXdwb3J0V2lkdGgsXG4gICAgdmlld3BvcnRIZWlnaHQsXG4gICAgY2FudmFzV2lkdGgsXG4gICAgY2FudmFzSGVpZ2h0LFxuICAgIHRyaW1XaWR0aCxcbiAgICB0cmltSGVpZ2h0LFxuICAgIHN0eWxlV2lkdGgsXG4gICAgc3R5bGVIZWlnaHRcbiAgfTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZ2V0Q2FudmFzQ29udGV4dFxuZnVuY3Rpb24gZ2V0Q2FudmFzQ29udGV4dCAodHlwZSwgb3B0cykge1xuICBpZiAodHlwZW9mIHR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbXVzdCBzcGVjaWZ5IHR5cGUgc3RyaW5nJylcbiAgfVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9XG5cbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgJiYgIW9wdHMuY2FudmFzKSB7XG4gICAgcmV0dXJuIG51bGwgLy8gY2hlY2sgZm9yIE5vZGVcbiAgfVxuXG4gIHZhciBjYW52YXMgPSBvcHRzLmNhbnZhcyB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICBpZiAodHlwZW9mIG9wdHMud2lkdGggPT09ICdudW1iZXInKSB7XG4gICAgY2FudmFzLndpZHRoID0gb3B0cy53aWR0aFxuICB9XG4gIGlmICh0eXBlb2Ygb3B0cy5oZWlnaHQgPT09ICdudW1iZXInKSB7XG4gICAgY2FudmFzLmhlaWdodCA9IG9wdHMuaGVpZ2h0XG4gIH1cblxuICB2YXIgYXR0cmlicyA9IG9wdHNcbiAgdmFyIGdsXG4gIHRyeSB7XG4gICAgdmFyIG5hbWVzID0gWyB0eXBlIF1cbiAgICAvLyBwcmVmaXggR0wgY29udGV4dHNcbiAgICBpZiAodHlwZS5pbmRleE9mKCd3ZWJnbCcpID09PSAwKSB7XG4gICAgICBuYW1lcy5wdXNoKCdleHBlcmltZW50YWwtJyArIHR5cGUpXG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dChuYW1lc1tpXSwgYXR0cmlicylcbiAgICAgIGlmIChnbCkgcmV0dXJuIGdsXG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgZ2wgPSBudWxsXG4gIH1cbiAgcmV0dXJuIChnbCB8fCBudWxsKSAvLyBlbnN1cmUgbnVsbCBvbiBmYWlsXG59XG4iLCJpbXBvcnQgYXNzaWduIGZyb20gJ29iamVjdC1hc3NpZ24nO1xuaW1wb3J0IGdldENhbnZhc0NvbnRleHQgZnJvbSAnZ2V0LWNhbnZhcy1jb250ZXh0JztcbmltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gJy4uL3V0aWwnO1xuXG5mdW5jdGlvbiBjcmVhdGVDYW52YXNFbGVtZW50ICgpIHtcbiAgaWYgKCFpc0Jyb3dzZXIoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignSXQgYXBwZWFycyB5b3UgYXJlIHJ1bmluZyBmcm9tIE5vZGUuanMgb3IgYSBub24tYnJvd3NlciBlbnZpcm9ubWVudC4gVHJ5IHBhc3NpbmcgaW4gYW4gZXhpc3RpbmcgeyBjYW52YXMgfSBpbnRlcmZhY2UgaW5zdGVhZC4nKTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUNhbnZhcyAoc2V0dGluZ3MgPSB7fSkge1xuICBsZXQgY29udGV4dCwgY2FudmFzO1xuICBsZXQgb3duc0NhbnZhcyA9IGZhbHNlO1xuICBpZiAoc2V0dGluZ3MuY2FudmFzICE9PSBmYWxzZSkge1xuICAgIC8vIERldGVybWluZSB0aGUgY2FudmFzIGFuZCBjb250ZXh0IHRvIGNyZWF0ZVxuICAgIGNvbnRleHQgPSBzZXR0aW5ncy5jb250ZXh0O1xuICAgIGlmICghY29udGV4dCB8fCB0eXBlb2YgY29udGV4dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxldCBuZXdDYW52YXMgPSBzZXR0aW5ncy5jYW52YXM7XG4gICAgICBpZiAoIW5ld0NhbnZhcykge1xuICAgICAgICBuZXdDYW52YXMgPSBjcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICAgIG93bnNDYW52YXMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgdHlwZSA9IGNvbnRleHQgfHwgJzJkJztcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2FudmFzLmdldENvbnRleHQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgc3BlY2lmaWVkIHsgY2FudmFzIH0gZWxlbWVudCBkb2VzIG5vdCBoYXZlIGEgZ2V0Q29udGV4dCgpIGZ1bmN0aW9uLCBtYXliZSBpdCBpcyBub3QgYSA8Y2FudmFzPiB0YWc/YCk7XG4gICAgICB9XG4gICAgICBjb250ZXh0ID0gZ2V0Q2FudmFzQ29udGV4dCh0eXBlLCBhc3NpZ24oe30sIHNldHRpbmdzLmF0dHJpYnV0ZXMsIHsgY2FudmFzOiBuZXdDYW52YXMgfSkpO1xuICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIGF0IGNhbnZhcy5nZXRDb250ZXh0KCcke3R5cGV9JykgLSB0aGUgYnJvd3NlciBtYXkgbm90IHN1cHBvcnQgdGhpcyBjb250ZXh0LCBvciBhIGRpZmZlcmVudCBjb250ZXh0IG1heSBhbHJlYWR5IGJlIGluIHVzZSB3aXRoIHRoaXMgY2FudmFzLmApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuICAgIC8vIEVuc3VyZSBjb250ZXh0IG1hdGNoZXMgdXNlcidzIGNhbnZhcyBleHBlY3RhdGlvbnNcbiAgICBpZiAoc2V0dGluZ3MuY2FudmFzICYmIGNhbnZhcyAhPT0gc2V0dGluZ3MuY2FudmFzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSB7IGNhbnZhcyB9IGFuZCB7IGNvbnRleHQgfSBzZXR0aW5ncyBtdXN0IHBvaW50IHRvIHRoZSBzYW1lIHVuZGVybHlpbmcgY2FudmFzIGVsZW1lbnQnKTtcbiAgICB9XG5cbiAgICAvLyBBcHBseSBwaXhlbGF0aW9uIHRvIGNhbnZhcyBpZiBuZWNlc3NhcnksIHRoaXMgaXMgbW9zdGx5IGEgY29udmVuaWVuY2UgdXRpbGl0eVxuICAgIGlmIChzZXR0aW5ncy5waXhlbGF0ZWQpIHtcbiAgICAgIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gICAgICBjb250ZXh0Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgY29udGV4dC5vSW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gICAgICBjb250ZXh0LndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgY29udGV4dC5tc0ltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgY2FudmFzLnN0eWxlWydpbWFnZS1yZW5kZXJpbmcnXSA9ICdwaXhlbGF0ZWQnO1xuICAgIH1cbiAgfVxuICByZXR1cm4geyBjYW52YXMsIGNvbnRleHQsIG93bnNDYW52YXMgfTtcbn1cbiIsImltcG9ydCBkZWZpbmVkIGZyb20gJ2RlZmluZWQnO1xuaW1wb3J0IGFzc2lnbiBmcm9tICdvYmplY3QtYXNzaWduJztcbmltcG9ydCByaWdodE5vdyBmcm9tICdyaWdodC1ub3cnO1xuaW1wb3J0IGlzUHJvbWlzZSBmcm9tICdpcy1wcm9taXNlJztcbmltcG9ydCB7IGlzQnJvd3NlciwgaXNXZWJHTENvbnRleHQsIGlzQ2FudmFzLCBnZXRDbGllbnRBUEkgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCBkZWVwRXF1YWwgZnJvbSAnZGVlcC1lcXVhbCc7XG5pbXBvcnQgeyBzYXZlRmlsZSwgc2F2ZURhdGFVUkwsIGdldEZpbGVOYW1lLCBleHBvcnRDYW52YXMgfSBmcm9tICcuLi9zYXZlJztcbmltcG9ydCB7IGNoZWNrU2V0dGluZ3MgfSBmcm9tICcuLi9hY2Nlc3NpYmlsaXR5JztcblxuaW1wb3J0IGtleWJvYXJkU2hvcnRjdXRzIGZyb20gJy4va2V5Ym9hcmRTaG9ydGN1dHMnO1xuaW1wb3J0IHJlc2l6ZUNhbnZhcyBmcm9tICcuL3Jlc2l6ZUNhbnZhcyc7XG5pbXBvcnQgY3JlYXRlQ2FudmFzIGZyb20gJy4vY3JlYXRlQ2FudmFzJztcblxuY2xhc3MgU2tldGNoTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHt9O1xuICAgIHRoaXMuX3Byb3BzID0ge307XG4gICAgdGhpcy5fc2tldGNoID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3JhZiA9IG51bGw7XG5cbiAgICAvLyBTb21lIGhhY2t5IHRoaW5ncyByZXF1aXJlZCB0byBnZXQgYXJvdW5kIHA1LmpzIHN0cnVjdHVyZVxuICAgIHRoaXMuX2xhc3RSZWRyYXdSZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5faXNQNVJlc2l6aW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLl9rZXlib2FyZFNob3J0Y3V0cyA9IGtleWJvYXJkU2hvcnRjdXRzKHtcbiAgICAgIGVuYWJsZWQ6ICgpID0+IHRoaXMuc2V0dGluZ3MuaG90a2V5cyAhPT0gZmFsc2UsXG4gICAgICBzYXZlOiAoZXYpID0+IHtcbiAgICAgICAgaWYgKGV2LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgaWYgKHRoaXMucHJvcHMucmVjb3JkaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmVuZFJlY29yZCgpO1xuICAgICAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgICB9IGVsc2UgdGhpcy5yZWNvcmQoKTtcbiAgICAgICAgfSBlbHNlIHRoaXMuZXhwb3J0RnJhbWUoKTtcbiAgICAgIH0sXG4gICAgICB0b2dnbGVQbGF5OiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnBsYXlpbmcpIHRoaXMucGF1c2UoKTtcbiAgICAgICAgZWxzZSB0aGlzLnBsYXkoKTtcbiAgICAgIH0sXG4gICAgICBjb21taXQ6IChldikgPT4ge1xuICAgICAgICB0aGlzLmV4cG9ydEZyYW1lKHsgY29tbWl0OiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5fYW5pbWF0ZUhhbmRsZXIgPSAoKSA9PiB0aGlzLmFuaW1hdGUoKTtcblxuICAgIHRoaXMuX3Jlc2l6ZUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjaGFuZ2VkID0gdGhpcy5yZXNpemUoKTtcbiAgICAgIC8vIE9ubHkgcmUtcmVuZGVyIHdoZW4gc2l6ZSBhY3R1YWxseSBjaGFuZ2VzXG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBnZXQgc2tldGNoICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2tldGNoO1xuICB9XG5cbiAgZ2V0IHNldHRpbmdzICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3M7XG4gIH1cblxuICBnZXQgcHJvcHMgKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm9wcztcbiAgfVxuXG4gIF9jb21wdXRlUGxheWhlYWQgKGN1cnJlbnRUaW1lLCBkdXJhdGlvbikge1xuICAgIGNvbnN0IGhhc0R1cmF0aW9uID0gdHlwZW9mIGR1cmF0aW9uID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZShkdXJhdGlvbik7XG4gICAgcmV0dXJuIGhhc0R1cmF0aW9uID8gY3VycmVudFRpbWUgLyBkdXJhdGlvbiA6IDA7XG4gIH1cblxuICBfY29tcHV0ZUZyYW1lIChwbGF5aGVhZCwgdGltZSwgdG90YWxGcmFtZXMsIGZwcykge1xuICAgIHJldHVybiAoaXNGaW5pdGUodG90YWxGcmFtZXMpICYmIHRvdGFsRnJhbWVzID4gMSlcbiAgICAgID8gTWF0aC5mbG9vcihwbGF5aGVhZCAqICh0b3RhbEZyYW1lcyAtIDEpKVxuICAgICAgOiBNYXRoLmZsb29yKGZwcyAqIHRpbWUpO1xuICB9XG5cbiAgX2NvbXB1dGVDdXJyZW50RnJhbWUgKCkge1xuICAgIHJldHVybiB0aGlzLl9jb21wdXRlRnJhbWUoXG4gICAgICB0aGlzLnByb3BzLnBsYXloZWFkLCB0aGlzLnByb3BzLnRpbWUsXG4gICAgICB0aGlzLnByb3BzLnRvdGFsRnJhbWVzLCB0aGlzLnByb3BzLmZwc1xuICAgICk7XG4gIH1cblxuICBfZ2V0U2l6ZVByb3BzICgpIHtcbiAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiBwcm9wcy53aWR0aCxcbiAgICAgIGhlaWdodDogcHJvcHMuaGVpZ2h0LFxuICAgICAgcGl4ZWxSYXRpbzogcHJvcHMucGl4ZWxSYXRpbyxcbiAgICAgIGNhbnZhc1dpZHRoOiBwcm9wcy5jYW52YXNXaWR0aCxcbiAgICAgIGNhbnZhc0hlaWdodDogcHJvcHMuY2FudmFzSGVpZ2h0LFxuICAgICAgdmlld3BvcnRXaWR0aDogcHJvcHMudmlld3BvcnRXaWR0aCxcbiAgICAgIHZpZXdwb3J0SGVpZ2h0OiBwcm9wcy52aWV3cG9ydEhlaWdodFxuICAgIH07XG4gIH1cblxuICBydW4gKCkge1xuICAgIGlmICghdGhpcy5za2V0Y2gpIHRocm93IG5ldyBFcnJvcignc2hvdWxkIHdhaXQgdW50aWwgc2tldGNoIGlzIGxvYWRlZCBiZWZvcmUgdHJ5aW5nIHRvIHBsYXkoKScpO1xuXG4gICAgLy8gU3RhcnQgYW4gYW5pbWF0aW9uIGZyYW1lIGxvb3AgaWYgbmVjZXNzYXJ5XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MucGxheWluZyAhPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMucGxheSgpO1xuICAgIH1cblxuICAgIC8vIExldCdzIGxldCB0aGlzIHdhcm5pbmcgaGFuZyBhcm91bmQgZm9yIGEgZmV3IHZlcnNpb25zLi4uXG4gICAgaWYgKHR5cGVvZiB0aGlzLnNrZXRjaC5kaXNwb3NlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0luIGNhbnZhcy1za2V0Y2hAMC4wLjIzIHRoZSBkaXNwb3NlKCkgZXZlbnQgaGFzIGJlZW4gcmVuYW1lZCB0byB1bmxvYWQoKScpO1xuICAgIH1cblxuICAgIC8vIEluIGNhc2Ugd2UgYXJlbid0IHBsYXlpbmcgb3IgYW5pbWF0ZWQsIG1ha2Ugc3VyZSB3ZSBzdGlsbCB0cmlnZ2VyIGJlZ2luIG1lc3NhZ2UuLi5cbiAgICBpZiAoIXRoaXMucHJvcHMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5fc2lnbmFsQmVnaW4oKTtcbiAgICAgIHRoaXMucHJvcHMuc3RhcnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gUmVuZGVyIGFuIGluaXRpYWwgZnJhbWVcbiAgICB0aGlzLnRpY2soKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcGxheSAoKSB7XG4gICAgbGV0IGFuaW1hdGUgPSB0aGlzLnNldHRpbmdzLmFuaW1hdGU7XG4gICAgaWYgKCdhbmltYXRpb24nIGluIHRoaXMuc2V0dGluZ3MpIHtcbiAgICAgIGFuaW1hdGUgPSB0cnVlO1xuICAgICAgY29uc29sZS53YXJuKCdbY2FudmFzLXNrZXRjaF0geyBhbmltYXRpb24gfSBoYXMgYmVlbiByZW5hbWVkIHRvIHsgYW5pbWF0ZSB9Jyk7XG4gICAgfVxuICAgIGlmICghYW5pbWF0ZSkgcmV0dXJuO1xuICAgIGlmICghaXNCcm93c2VyKCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjYW52YXMtc2tldGNoXSBXQVJOOiBVc2luZyB7IGFuaW1hdGUgfSBpbiBOb2RlLmpzIGlzIG5vdCB5ZXQgc3VwcG9ydGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLnBsYXlpbmcpIHJldHVybjtcbiAgICBpZiAoIXRoaXMucHJvcHMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5fc2lnbmFsQmVnaW4oKTtcbiAgICAgIHRoaXMucHJvcHMuc3RhcnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gY29uc29sZS5sb2coJ3BsYXknLCB0aGlzLnByb3BzLnRpbWUpXG5cbiAgICAvLyBTdGFydCBhIHJlbmRlciBsb29wXG4gICAgdGhpcy5wcm9wcy5wbGF5aW5nID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5fcmFmICE9IG51bGwpIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yYWYpO1xuICAgIHRoaXMuX2xhc3RUaW1lID0gcmlnaHROb3coKTtcbiAgICB0aGlzLl9yYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1hdGVIYW5kbGVyKTtcbiAgfVxuXG4gIHBhdXNlICgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yZWNvcmRpbmcpIHRoaXMuZW5kUmVjb3JkKCk7XG4gICAgdGhpcy5wcm9wcy5wbGF5aW5nID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5fcmFmICE9IG51bGwgJiYgaXNCcm93c2VyKCkpIHtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yYWYpO1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZVBsYXkgKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBsYXlpbmcpIHRoaXMucGF1c2UoKTtcbiAgICBlbHNlIHRoaXMucGxheSgpO1xuICB9XG5cbiAgLy8gU3RvcCBhbmQgcmVzZXQgdG8gZnJhbWUgemVyb1xuICBzdG9wICgpIHtcbiAgICB0aGlzLnBhdXNlKCk7XG4gICAgdGhpcy5wcm9wcy5mcmFtZSA9IDA7XG4gICAgdGhpcy5wcm9wcy5wbGF5aGVhZCA9IDA7XG4gICAgdGhpcy5wcm9wcy50aW1lID0gMDtcbiAgICB0aGlzLnByb3BzLmRlbHRhVGltZSA9IDA7XG4gICAgdGhpcy5wcm9wcy5zdGFydGVkID0gZmFsc2U7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHJlY29yZCAoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucmVjb3JkaW5nKSByZXR1cm47XG4gICAgaWYgKCFpc0Jyb3dzZXIoKSkge1xuICAgICAgY29uc29sZS5lcnJvcignW2NhbnZhcy1za2V0Y2hdIFdBUk46IFJlY29yZGluZyBmcm9tIE5vZGUuanMgaXMgbm90IHlldCBzdXBwb3J0ZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnN0b3AoKTtcbiAgICB0aGlzLnByb3BzLnBsYXlpbmcgPSB0cnVlO1xuICAgIHRoaXMucHJvcHMucmVjb3JkaW5nID0gdHJ1ZTtcblxuICAgIGNvbnN0IGZyYW1lSW50ZXJ2YWwgPSAxIC8gdGhpcy5wcm9wcy5mcHM7XG4gICAgLy8gUmVuZGVyIGVhY2ggZnJhbWUgaW4gdGhlIHNlcXVlbmNlXG4gICAgaWYgKHRoaXMuX3JhZiAhPSBudWxsKSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmFmKTtcbiAgICBjb25zdCB0aWNrID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnByb3BzLnJlY29yZGluZykgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgdGhpcy5wcm9wcy5kZWx0YVRpbWUgPSBmcmFtZUludGVydmFsO1xuICAgICAgdGhpcy50aWNrKCk7XG4gICAgICByZXR1cm4gdGhpcy5leHBvcnRGcmFtZSh7IHNlcXVlbmNlOiB0cnVlIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMucHJvcHMucmVjb3JkaW5nKSByZXR1cm47IC8vIHdhcyBjYW5jZWxsZWQgYmVmb3JlXG4gICAgICAgICAgdGhpcy5wcm9wcy5kZWx0YVRpbWUgPSAwO1xuICAgICAgICAgIHRoaXMucHJvcHMuZnJhbWUrKztcbiAgICAgICAgICBpZiAodGhpcy5wcm9wcy5mcmFtZSA8IHRoaXMucHJvcHMudG90YWxGcmFtZXMpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMudGltZSArPSBmcmFtZUludGVydmFsO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5wbGF5aGVhZCA9IHRoaXMuX2NvbXB1dGVQbGF5aGVhZCh0aGlzLnByb3BzLnRpbWUsIHRoaXMucHJvcHMuZHVyYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5fcmFmID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZpbmlzaGVkIHJlY29yZGluZycpO1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsRW5kKCk7XG4gICAgICAgICAgICB0aGlzLmVuZFJlY29yZCgpO1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIFRyaWdnZXIgYSBzdGFydCBldmVudCBiZWZvcmUgd2UgYmVnaW4gcmVjb3JkaW5nXG4gICAgaWYgKCF0aGlzLnByb3BzLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuX3NpZ25hbEJlZ2luKCk7XG4gICAgICB0aGlzLnByb3BzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuX3JhZiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG4gIH1cblxuICBfc2lnbmFsQmVnaW4gKCkge1xuICAgIGlmICh0aGlzLnNrZXRjaCAmJiB0eXBlb2YgdGhpcy5za2V0Y2guYmVnaW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX3dyYXBDb250ZXh0U2NhbGUocHJvcHMgPT4gdGhpcy5za2V0Y2guYmVnaW4ocHJvcHMpKTtcbiAgICB9XG4gIH1cblxuICBfc2lnbmFsRW5kICgpIHtcbiAgICBpZiAodGhpcy5za2V0Y2ggJiYgdHlwZW9mIHRoaXMuc2tldGNoLmVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fd3JhcENvbnRleHRTY2FsZShwcm9wcyA9PiB0aGlzLnNrZXRjaC5lbmQocHJvcHMpKTtcbiAgICB9XG4gIH1cblxuICBlbmRSZWNvcmQgKCkge1xuICAgIGlmICh0aGlzLl9yYWYgIT0gbnVsbCAmJiBpc0Jyb3dzZXIoKSkgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JhZik7XG4gICAgdGhpcy5wcm9wcy5yZWNvcmRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnByb3BzLmRlbHRhVGltZSA9IDA7XG4gICAgdGhpcy5wcm9wcy5wbGF5aW5nID0gZmFsc2U7XG4gIH1cblxuICBleHBvcnRGcmFtZSAob3B0ID0ge30pIHtcbiAgICBpZiAoIXRoaXMuc2tldGNoKSByZXR1cm4gUHJvbWlzZS5hbGwoW10pO1xuICAgIGlmICh0eXBlb2YgdGhpcy5za2V0Y2gucHJlRXhwb3J0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLnNrZXRjaC5wcmVFeHBvcnQoKTtcbiAgICB9XG5cbiAgICAvLyBPcHRpb25zIGZvciBleHBvcnQgZnVuY3Rpb25cbiAgICBsZXQgZXhwb3J0T3B0cyA9IGFzc2lnbih7XG4gICAgICBzZXF1ZW5jZTogb3B0LnNlcXVlbmNlLFxuICAgICAgZnJhbWU6IG9wdC5zZXF1ZW5jZSA/IHRoaXMucHJvcHMuZnJhbWUgOiB1bmRlZmluZWQsXG4gICAgICBmaWxlOiB0aGlzLnNldHRpbmdzLmZpbGUsXG4gICAgICBuYW1lOiB0aGlzLnNldHRpbmdzLm5hbWUsXG4gICAgICBwcmVmaXg6IHRoaXMuc2V0dGluZ3MucHJlZml4LFxuICAgICAgc3VmZml4OiB0aGlzLnNldHRpbmdzLnN1ZmZpeCxcbiAgICAgIGVuY29kaW5nOiB0aGlzLnNldHRpbmdzLmVuY29kaW5nLFxuICAgICAgZW5jb2RpbmdRdWFsaXR5OiB0aGlzLnNldHRpbmdzLmVuY29kaW5nUXVhbGl0eSxcbiAgICAgIHRpbWVTdGFtcDogZ2V0RmlsZU5hbWUoKSxcbiAgICAgIHRvdGFsRnJhbWVzOiBpc0Zpbml0ZSh0aGlzLnByb3BzLnRvdGFsRnJhbWVzKSA/IE1hdGgubWF4KDEwMCwgdGhpcy5wcm9wcy50b3RhbEZyYW1lcykgOiAxMDAwXG4gICAgfSk7XG5cbiAgICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnRBUEkoKTtcbiAgICBsZXQgcCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIGlmIChjbGllbnQgJiYgb3B0LmNvbW1pdCAmJiB0eXBlb2YgY2xpZW50LmNvbW1pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc3QgY29tbWl0T3B0cyA9IGFzc2lnbih7fSwgZXhwb3J0T3B0cyk7XG4gICAgICBjb25zdCBoYXNoID0gY2xpZW50LmNvbW1pdChjb21taXRPcHRzKTtcbiAgICAgIGlmIChpc1Byb21pc2UoaGFzaCkpIHAgPSBoYXNoO1xuICAgICAgZWxzZSBwID0gUHJvbWlzZS5yZXNvbHZlKGhhc2gpO1xuICAgIH1cblxuICAgIHJldHVybiBwLnRoZW4oaGFzaCA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5fZG9FeHBvcnRGcmFtZShhc3NpZ24oe30sIGV4cG9ydE9wdHMsIHsgaGFzaDogaGFzaCB8fCAnJyB9KSk7XG4gICAgfSk7XG4gIH1cblxuICBfZG9FeHBvcnRGcmFtZSAoZXhwb3J0T3B0cyA9IHt9KSB7XG4gICAgdGhpcy5fcHJvcHMuZXhwb3J0aW5nID0gdHJ1ZTtcblxuICAgIC8vIFJlc2l6ZSB0byBvdXRwdXQgcmVzb2x1dGlvblxuICAgIHRoaXMucmVzaXplKCk7XG5cbiAgICAvLyBEcmF3IGF0IHRoaXMgb3V0cHV0IHJlc29sdXRpb25cbiAgICBsZXQgZHJhd1Jlc3VsdCA9IHRoaXMucmVuZGVyKCk7XG5cbiAgICAvLyBUaGUgc2VsZiBvd25lZCBjYW52YXMgKG1heSBiZSB1bmRlZmluZWQuLi4hKVxuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMucHJvcHMuY2FudmFzO1xuXG4gICAgLy8gR2V0IGxpc3Qgb2YgcmVzdWx0cyBmcm9tIHJlbmRlclxuICAgIGlmICh0eXBlb2YgZHJhd1Jlc3VsdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRyYXdSZXN1bHQgPSBbIGNhbnZhcyBdO1xuICAgIH1cbiAgICBkcmF3UmVzdWx0ID0gW10uY29uY2F0KGRyYXdSZXN1bHQpLmZpbHRlcihCb29sZWFuKTtcblxuICAgIC8vIFRyYW5zZm9ybSB0aGUgY2FudmFzL2ZpbGUgZGVzY3JpcHRvcnMgaW50byBhIGNvbnNpc3RlbnQgZm9ybWF0LFxuICAgIC8vIGFuZCBwdWxsIG91dCBhbnkgZGF0YSBVUkxzIGZyb20gY2FudmFzIGVsZW1lbnRzXG4gICAgZHJhd1Jlc3VsdCA9IGRyYXdSZXN1bHQubWFwKHJlc3VsdCA9PiB7XG4gICAgICBjb25zdCBoYXNEYXRhT2JqZWN0ID0gdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgcmVzdWx0ICYmICgnZGF0YScgaW4gcmVzdWx0IHx8ICdkYXRhVVJMJyBpbiByZXN1bHQpO1xuICAgICAgY29uc3QgZGF0YSA9IGhhc0RhdGFPYmplY3QgPyByZXN1bHQuZGF0YSA6IHJlc3VsdDtcbiAgICAgIGNvbnN0IG9wdHMgPSBoYXNEYXRhT2JqZWN0ID8gYXNzaWduKHt9LCByZXN1bHQsIHsgZGF0YSB9KSA6IHsgZGF0YSB9O1xuICAgICAgaWYgKGlzQ2FudmFzKGRhdGEpKSB7XG4gICAgICAgIGNvbnN0IGVuY29kaW5nID0gb3B0cy5lbmNvZGluZyB8fCBleHBvcnRPcHRzLmVuY29kaW5nO1xuICAgICAgICBjb25zdCBlbmNvZGluZ1F1YWxpdHkgPSBkZWZpbmVkKG9wdHMuZW5jb2RpbmdRdWFsaXR5LCBleHBvcnRPcHRzLmVuY29kaW5nUXVhbGl0eSwgMC45NSk7XG4gICAgICAgIGNvbnN0IHsgZGF0YVVSTCwgZXh0ZW5zaW9uLCB0eXBlIH0gPSBleHBvcnRDYW52YXMoZGF0YSwgeyBlbmNvZGluZywgZW5jb2RpbmdRdWFsaXR5IH0pO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvcHRzLCB7IGRhdGFVUkwsIGV4dGVuc2lvbiwgdHlwZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBvcHRzO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTm93IHJldHVybiB0byByZWd1bGFyIHJlbmRlcmluZyBtb2RlXG4gICAgdGhpcy5fcHJvcHMuZXhwb3J0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5yZXNpemUoKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgLy8gQW5kIG5vdyB3ZSBjYW4gc2F2ZSBlYWNoIHJlc3VsdFxuICAgIHJldHVybiBQcm9taXNlLmFsbChkcmF3UmVzdWx0Lm1hcCgocmVzdWx0LCBpLCBsYXllckxpc3QpID0+IHtcbiAgICAgIC8vIEJ5IGRlZmF1bHQsIGlmIHJlbmRlcmluZyBtdWx0aXBsZSBsYXllcnMgd2Ugd2lsbCBnaXZlIHRoZW0gaW5kaWNlc1xuICAgICAgY29uc3QgY3VyT3B0ID0gYXNzaWduKHt9LCBleHBvcnRPcHRzLCByZXN1bHQsIHsgbGF5ZXI6IGksIHRvdGFsTGF5ZXJzOiBsYXllckxpc3QubGVuZ3RoIH0pO1xuICAgICAgY29uc3QgZGF0YSA9IHJlc3VsdC5kYXRhO1xuICAgICAgaWYgKHJlc3VsdC5kYXRhVVJMKSB7XG4gICAgICAgIGNvbnN0IGRhdGFVUkwgPSByZXN1bHQuZGF0YVVSTDtcbiAgICAgICAgZGVsZXRlIGN1ck9wdC5kYXRhVVJMOyAvLyBhdm9pZCBzZW5kaW5nIGVudGlyZSBiYXNlNjQgZGF0YSBhcm91bmRcbiAgICAgICAgcmV0dXJuIHNhdmVEYXRhVVJMKGRhdGFVUkwsIGN1ck9wdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2F2ZUZpbGUoZGF0YSwgY3VyT3B0KTtcbiAgICAgIH1cbiAgICB9KSkudGhlbihldiA9PiB7XG4gICAgICBpZiAoZXYubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBldmVudFdpdGhPdXRwdXQgPSBldi5maW5kKGUgPT4gZS5vdXRwdXROYW1lKTtcbiAgICAgICAgY29uc3QgaXNDbGllbnQgPSBldi5zb21lKGUgPT4gZS5jbGllbnQpO1xuICAgICAgICBsZXQgaXRlbTtcbiAgICAgICAgLy8gbWFueSBmaWxlcywganVzdCBsb2cgaG93IG1hbnkgd2VyZSBleHBvcnRlZFxuICAgICAgICBpZiAoZXYubGVuZ3RoID4gMSkgaXRlbSA9IGV2Lmxlbmd0aDtcbiAgICAgICAgLy8gaW4gQ0xJLCB3ZSBrbm93IGV4YWN0IHBhdGggZGlybmFtZVxuICAgICAgICBlbHNlIGlmIChldmVudFdpdGhPdXRwdXQpIGl0ZW0gPSBgJHtldmVudFdpdGhPdXRwdXQub3V0cHV0TmFtZX0vJHtldlswXS5maWxlbmFtZX1gO1xuICAgICAgICAvLyBpbiBicm93c2VyLCB3ZSBjYW4gb25seSBrbm93IGl0IHdlbnQgdG8gXCJicm93c2VyIGRvd25sb2FkIGZvbGRlclwiXG4gICAgICAgIGVsc2UgaXRlbSA9IGAke2V2WzBdLmZpbGVuYW1lfWA7XG4gICAgICAgIGxldCBvZlNlcSA9ICcnO1xuICAgICAgICBpZiAoZXhwb3J0T3B0cy5zZXF1ZW5jZSkge1xuICAgICAgICAgIGNvbnN0IGhhc1RvdGFsRnJhbWVzID0gaXNGaW5pdGUodGhpcy5wcm9wcy50b3RhbEZyYW1lcyk7XG4gICAgICAgICAgb2ZTZXEgPSBoYXNUb3RhbEZyYW1lcyA/IGAgKGZyYW1lICR7ZXhwb3J0T3B0cy5mcmFtZSArIDF9IC8gJHt0aGlzLnByb3BzLnRvdGFsRnJhbWVzfSlgIDogYCAoZnJhbWUgJHtleHBvcnRPcHRzLmZyYW1lfSlgO1xuICAgICAgICB9IGVsc2UgaWYgKGV2Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBvZlNlcSA9IGAgZmlsZXNgO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGlzQ2xpZW50ID8gJ2NhbnZhcy1za2V0Y2gtY2xpJyA6ICdjYW52YXMtc2tldGNoJztcbiAgICAgICAgY29uc29sZS5sb2coYCVjWyR7Y2xpZW50fV0lYyBFeHBvcnRlZCAlYyR7aXRlbX0lYyR7b2ZTZXF9YCwgJ2NvbG9yOiAjOGU4ZThlOycsICdjb2xvcjogaW5pdGlhbDsnLCAnZm9udC13ZWlnaHQ6IGJvbGQ7JywgJ2ZvbnQtd2VpZ2h0OiBpbml0aWFsOycpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB0aGlzLnNrZXRjaC5wb3N0RXhwb3J0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuc2tldGNoLnBvc3RFeHBvcnQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF93cmFwQ29udGV4dFNjYWxlIChjYikge1xuICAgIHRoaXMuX3ByZVJlbmRlcigpO1xuICAgIGNiKHRoaXMucHJvcHMpO1xuICAgIHRoaXMuX3Bvc3RSZW5kZXIoKTtcbiAgfVxuXG4gIF9wcmVSZW5kZXIgKCkge1xuICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcztcblxuICAgIC8vIFNjYWxlIGNvbnRleHQgZm9yIHVuaXQgc2l6aW5nXG4gICAgaWYgKCF0aGlzLnByb3BzLmdsICYmIHByb3BzLmNvbnRleHQgJiYgIXByb3BzLnA1KSB7XG4gICAgICBwcm9wcy5jb250ZXh0LnNhdmUoKTtcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLnNjYWxlQ29udGV4dCAhPT0gZmFsc2UpIHtcbiAgICAgICAgcHJvcHMuY29udGV4dC5zY2FsZShwcm9wcy5zY2FsZVgsIHByb3BzLnNjYWxlWSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9wcy5wNSkge1xuICAgICAgcHJvcHMucDUuc2NhbGUocHJvcHMuc2NhbGVYIC8gcHJvcHMucGl4ZWxSYXRpbywgcHJvcHMuc2NhbGVZIC8gcHJvcHMucGl4ZWxSYXRpbyk7XG4gICAgfVxuICB9XG5cbiAgX3Bvc3RSZW5kZXIgKCkge1xuICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcztcblxuICAgIGlmICghdGhpcy5wcm9wcy5nbCAmJiBwcm9wcy5jb250ZXh0ICYmICFwcm9wcy5wNSkge1xuICAgICAgcHJvcHMuY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgLy8gRmx1c2ggYnkgZGVmYXVsdCwgdGhpcyBtYXkgYmUgcmV2aXNpdGVkIGF0IGEgbGF0ZXIgcG9pbnQuXG4gICAgLy8gV2UgZG8gdGhpcyB0byBlbnN1cmUgdG9EYXRhVVJMIGNhbiBiZSBjYWxsZWQgaW1tZWRpYXRlbHkgYWZ0ZXIuXG4gICAgLy8gTW9zdCBsaWtlbHkgYnJvd3NlcnMgYWxyZWFkeSBoYW5kbGUgdGhpcywgc28gd2UgbWF5IHJldmlzaXQgdGhpcyBhbmRcbiAgICAvLyByZW1vdmUgaXQgaWYgaXQgaW1wcm92ZXMgcGVyZm9ybWFuY2Ugd2l0aG91dCBhbnkgdXNhYmlsaXR5IGlzc3Vlcy5cbiAgICBpZiAocHJvcHMuZ2wgJiYgdGhpcy5zZXR0aW5ncy5mbHVzaCAhPT0gZmFsc2UgJiYgIXByb3BzLnA1KSB7XG4gICAgICBwcm9wcy5nbC5mbHVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIHRpY2sgKCkge1xuICAgIGlmICh0aGlzLnNrZXRjaCAmJiB0eXBlb2YgdGhpcy5za2V0Y2gudGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fcHJlUmVuZGVyKCk7XG4gICAgICB0aGlzLnNrZXRjaC50aWNrKHRoaXMucHJvcHMpO1xuICAgICAgdGhpcy5fcG9zdFJlbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucDUpIHtcbiAgICAgIHRoaXMuX2xhc3RSZWRyYXdSZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnByb3BzLnA1LnJlZHJhdygpO1xuICAgICAgcmV0dXJuIHRoaXMuX2xhc3RSZWRyYXdSZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnN1Ym1pdERyYXdDYWxsKCk7XG4gICAgfVxuICB9XG5cbiAgc3VibWl0RHJhd0NhbGwgKCkge1xuICAgIGlmICghdGhpcy5za2V0Y2gpIHJldHVybjtcblxuICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB0aGlzLl9wcmVSZW5kZXIoKTtcblxuICAgIGxldCBkcmF3UmVzdWx0O1xuXG4gICAgaWYgKHR5cGVvZiB0aGlzLnNrZXRjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZHJhd1Jlc3VsdCA9IHRoaXMuc2tldGNoKHByb3BzKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLnNrZXRjaC5yZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGRyYXdSZXN1bHQgPSB0aGlzLnNrZXRjaC5yZW5kZXIocHJvcHMpO1xuICAgIH1cblxuICAgIHRoaXMuX3Bvc3RSZW5kZXIoKTtcblxuICAgIHJldHVybiBkcmF3UmVzdWx0O1xuICB9XG5cbiAgdXBkYXRlIChvcHQgPSB7fSkge1xuICAgIC8vIEN1cnJlbnRseSB1cGRhdGUoKSBpcyBvbmx5IGZvY3VzZWQgb24gcmVzaXppbmcsXG4gICAgLy8gYnV0IGxhdGVyIHdlIHdpbGwgc3VwcG9ydCBvdGhlciBvcHRpb25zIGxpa2Ugc3dpdGNoaW5nXG4gICAgLy8gZnJhbWVzIGFuZCBzdWNoLlxuICAgIGNvbnN0IG5vdFlldFN1cHBvcnRlZCA9IFtcbiAgICAgICdhbmltYXRlJ1xuICAgIF07XG5cbiAgICBPYmplY3Qua2V5cyhvcHQpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGlmIChub3RZZXRTdXBwb3J0ZWQuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTb3JyeSwgdGhlIHsgJHtrZXl9IH0gb3B0aW9uIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIHdpdGggdXBkYXRlKCkuYCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBvbGRDYW52YXMgPSB0aGlzLl9zZXR0aW5ncy5jYW52YXM7XG4gICAgY29uc3Qgb2xkQ29udGV4dCA9IHRoaXMuX3NldHRpbmdzLmNvbnRleHQ7XG5cbiAgICAvLyBNZXJnZSBuZXcgb3B0aW9ucyBpbnRvIHNldHRpbmdzXG4gICAgZm9yIChsZXQga2V5IGluIG9wdCkge1xuICAgICAgY29uc3QgdmFsdWUgPSBvcHRba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7IC8vIGlnbm9yZSB1bmRlZmluZWRcbiAgICAgICAgdGhpcy5fc2V0dGluZ3Nba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1lcmdlIGluIHRpbWUgcHJvcHNcbiAgICBjb25zdCB0aW1lT3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX3NldHRpbmdzLCBvcHQpO1xuICAgIGlmICgndGltZScgaW4gb3B0ICYmICdmcmFtZScgaW4gb3B0KSB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBzaG91bGQgc3BlY2lmeSB7IHRpbWUgfSBvciB7IGZyYW1lIH0gYnV0IG5vdCBib3RoJyk7XG4gICAgZWxzZSBpZiAoJ3RpbWUnIGluIG9wdCkgZGVsZXRlIHRpbWVPcHRzLmZyYW1lO1xuICAgIGVsc2UgaWYgKCdmcmFtZScgaW4gb3B0KSBkZWxldGUgdGltZU9wdHMudGltZTtcbiAgICBpZiAoJ2R1cmF0aW9uJyBpbiBvcHQgJiYgJ3RvdGFsRnJhbWVzJyBpbiBvcHQpIHRocm93IG5ldyBFcnJvcignWW91IHNob3VsZCBzcGVjaWZ5IHsgZHVyYXRpb24gfSBvciB7IHRvdGFsRnJhbWVzIH0gYnV0IG5vdCBib3RoJyk7XG4gICAgZWxzZSBpZiAoJ2R1cmF0aW9uJyBpbiBvcHQpIGRlbGV0ZSB0aW1lT3B0cy50b3RhbEZyYW1lcztcbiAgICBlbHNlIGlmICgndG90YWxGcmFtZXMnIGluIG9wdCkgZGVsZXRlIHRpbWVPcHRzLmR1cmF0aW9uO1xuXG4gICAgLy8gTWVyZ2UgaW4gdXNlciBkYXRhIHdpdGhvdXQgY29weWluZ1xuICAgIGlmICgnZGF0YScgaW4gb3B0KSB0aGlzLl9wcm9wcy5kYXRhID0gb3B0LmRhdGE7XG5cbiAgICBjb25zdCB0aW1lUHJvcHMgPSB0aGlzLmdldFRpbWVQcm9wcyh0aW1lT3B0cyk7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLl9wcm9wcywgdGltZVByb3BzKTtcblxuICAgIC8vIElmIGVpdGhlciBjYW52YXMgb3IgY29udGV4dCBpcyBjaGFuZ2VkLCB3ZSBzaG91bGQgcmUtdXBkYXRlXG4gICAgaWYgKG9sZENhbnZhcyAhPT0gdGhpcy5fc2V0dGluZ3MuY2FudmFzIHx8IG9sZENvbnRleHQgIT09IHRoaXMuX3NldHRpbmdzLmNvbnRleHQpIHtcbiAgICAgIGNvbnN0IHsgY2FudmFzLCBjb250ZXh0IH0gPSBjcmVhdGVDYW52YXModGhpcy5fc2V0dGluZ3MpO1xuXG4gICAgICB0aGlzLnByb3BzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgIHRoaXMucHJvcHMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICAgIC8vIERlbGV0ZSBvciBhZGQgYSAnZ2wnIHByb3AgZm9yIGNvbnZlbmllbmNlXG4gICAgICB0aGlzLl9zZXR1cEdMS2V5KCk7XG5cbiAgICAgIC8vIFJlLW1vdW50IHRoZSBuZXcgY2FudmFzIGlmIGl0IGhhcyBubyBwYXJlbnRcbiAgICAgIHRoaXMuX2FwcGVuZENhbnZhc0lmTmVlZGVkKCk7XG4gICAgfVxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHN1cHBvcnQgUDUuanNcbiAgICBpZiAob3B0LnA1ICYmIHR5cGVvZiBvcHQucDUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMucHJvcHMucDUgPSBvcHQucDU7XG4gICAgICB0aGlzLnByb3BzLnA1LmRyYXcgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLl9pc1A1UmVzaXppbmcpIHJldHVybjtcbiAgICAgICAgdGhpcy5fbGFzdFJlZHJhd1Jlc3VsdCA9IHRoaXMuc3VibWl0RHJhd0NhbGwoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHBsYXlpbmcgc3RhdGUgaWYgbmVjZXNzYXJ5XG4gICAgaWYgKCdwbGF5aW5nJyBpbiBvcHQpIHtcbiAgICAgIGlmIChvcHQucGxheWluZykgdGhpcy5wbGF5KCk7XG4gICAgICBlbHNlIHRoaXMucGF1c2UoKTtcbiAgICB9XG5cbiAgICBjaGVja1NldHRpbmdzKHRoaXMuX3NldHRpbmdzKTtcblxuICAgIC8vIERyYXcgbmV3IGZyYW1lXG4gICAgdGhpcy5yZXNpemUoKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICAgIHJldHVybiB0aGlzLnByb3BzO1xuICB9XG5cbiAgcmVzaXplICgpIHtcbiAgICBjb25zdCBvbGRTaXplcyA9IHRoaXMuX2dldFNpemVQcm9wcygpO1xuXG4gICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzO1xuICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcztcblxuICAgIC8vIFJlY29tcHV0ZSBuZXcgcHJvcGVydGllcyBiYXNlZCBvbiBjdXJyZW50IHNldHVwXG4gICAgY29uc3QgbmV3UHJvcHMgPSByZXNpemVDYW52YXMocHJvcHMsIHNldHRpbmdzKTtcblxuICAgIC8vIEFzc2lnbiB0byBjdXJyZW50IHByb3BzXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLl9wcm9wcywgbmV3UHJvcHMpO1xuXG4gICAgLy8gTm93IHdlIGFjdHVhbGx5IHVwZGF0ZSB0aGUgY2FudmFzIHdpZHRoL2hlaWdodCBhbmQgc3R5bGUgcHJvcHNcbiAgICBjb25zdCB7XG4gICAgICBwaXhlbFJhdGlvLFxuICAgICAgY2FudmFzV2lkdGgsXG4gICAgICBjYW52YXNIZWlnaHQsXG4gICAgICBzdHlsZVdpZHRoLFxuICAgICAgc3R5bGVIZWlnaHRcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIC8vIFVwZGF0ZSBjYW52YXMgc2V0dGluZ3NcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLnByb3BzLmNhbnZhcztcbiAgICBpZiAoY2FudmFzICYmIHNldHRpbmdzLnJlc2l6ZUNhbnZhcyAhPT0gZmFsc2UpIHtcbiAgICAgIGlmIChwcm9wcy5wNSkge1xuICAgICAgICAvLyBQNS5qcyBzcGVjaWZpYyBlZGdlIGNhc2VcbiAgICAgICAgaWYgKGNhbnZhcy53aWR0aCAhPT0gY2FudmFzV2lkdGggfHwgY2FudmFzLmhlaWdodCAhPT0gY2FudmFzSGVpZ2h0KSB7XG4gICAgICAgICAgdGhpcy5faXNQNVJlc2l6aW5nID0gdHJ1ZTtcbiAgICAgICAgICAvLyBUaGlzIGNhdXNlcyBhIHJlLWRyYXcgOlxcIHNvIHdlIGlnbm9yZSBkcmF3cyBpbiB0aGUgbWVhbiB0aW1lLi4uIHNvcnRhIGhhY2t5XG4gICAgICAgICAgcHJvcHMucDUucGl4ZWxEZW5zaXR5KHBpeGVsUmF0aW8pO1xuICAgICAgICAgIHByb3BzLnA1LnJlc2l6ZUNhbnZhcyhjYW52YXNXaWR0aCAvIHBpeGVsUmF0aW8sIGNhbnZhc0hlaWdodCAvIHBpeGVsUmF0aW8sIGZhbHNlKTtcbiAgICAgICAgICB0aGlzLl9pc1A1UmVzaXppbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yY2UgY2FudmFzIHNpemVcbiAgICAgICAgaWYgKGNhbnZhcy53aWR0aCAhPT0gY2FudmFzV2lkdGgpIGNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xuICAgICAgICBpZiAoY2FudmFzLmhlaWdodCAhPT0gY2FudmFzSGVpZ2h0KSBjYW52YXMuaGVpZ2h0ID0gY2FudmFzSGVpZ2h0O1xuICAgICAgfVxuICAgICAgLy8gVXBkYXRlIGNhbnZhcyBzdHlsZVxuICAgICAgaWYgKGlzQnJvd3NlcigpICYmIHNldHRpbmdzLnN0eWxlQ2FudmFzICE9PSBmYWxzZSkge1xuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBgJHtzdHlsZVdpZHRofXB4YDtcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGAke3N0eWxlSGVpZ2h0fXB4YDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBuZXdTaXplcyA9IHRoaXMuX2dldFNpemVQcm9wcygpO1xuICAgIGxldCBjaGFuZ2VkID0gIWRlZXBFcXVhbChvbGRTaXplcywgbmV3U2l6ZXMpO1xuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICB0aGlzLl9zaXplQ2hhbmdlZCgpO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlZDtcbiAgfVxuXG4gIF9zaXplQ2hhbmdlZCAoKSB7XG4gICAgLy8gU2VuZCByZXNpemUgZXZlbnQgdG8gc2tldGNoXG4gICAgaWYgKHRoaXMuc2tldGNoICYmIHR5cGVvZiB0aGlzLnNrZXRjaC5yZXNpemUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuc2tldGNoLnJlc2l6ZSh0aGlzLnByb3BzKTtcbiAgICB9XG4gIH1cblxuICBhbmltYXRlICgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucGxheWluZykgcmV0dXJuO1xuICAgIGlmICghaXNCcm93c2VyKCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjYW52YXMtc2tldGNoXSBXQVJOOiBBbmltYXRpb24gaW4gTm9kZS5qcyBpcyBub3QgeWV0IHN1cHBvcnRlZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9yYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1hdGVIYW5kbGVyKTtcblxuICAgIGxldCBub3cgPSByaWdodE5vdygpO1xuXG4gICAgY29uc3QgZnBzID0gdGhpcy5wcm9wcy5mcHM7XG4gICAgY29uc3QgZnJhbWVJbnRlcnZhbE1TID0gMTAwMCAvIGZwcztcbiAgICBsZXQgZGVsdGFUaW1lTVMgPSBub3cgLSB0aGlzLl9sYXN0VGltZTtcblxuICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5wcm9wcy5kdXJhdGlvbjtcbiAgICBjb25zdCBoYXNEdXJhdGlvbiA9IHR5cGVvZiBkdXJhdGlvbiA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUoZHVyYXRpb24pO1xuXG4gICAgbGV0IGlzTmV3RnJhbWUgPSB0cnVlO1xuICAgIGNvbnN0IHBsYXliYWNrUmF0ZSA9IHRoaXMuc2V0dGluZ3MucGxheWJhY2tSYXRlO1xuICAgIGlmIChwbGF5YmFja1JhdGUgPT09ICdmaXhlZCcpIHtcbiAgICAgIGRlbHRhVGltZU1TID0gZnJhbWVJbnRlcnZhbE1TO1xuICAgIH0gZWxzZSBpZiAocGxheWJhY2tSYXRlID09PSAndGhyb3R0bGUnKSB7XG4gICAgICBpZiAoZGVsdGFUaW1lTVMgPiBmcmFtZUludGVydmFsTVMpIHtcbiAgICAgICAgbm93ID0gbm93IC0gKGRlbHRhVGltZU1TICUgZnJhbWVJbnRlcnZhbE1TKTtcbiAgICAgICAgdGhpcy5fbGFzdFRpbWUgPSBub3c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc05ld0ZyYW1lID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xhc3RUaW1lID0gbm93O1xuICAgIH1cblxuICAgIGNvbnN0IGRlbHRhVGltZSA9IGRlbHRhVGltZU1TIC8gMTAwMDtcbiAgICBsZXQgbmV3VGltZSA9IHRoaXMucHJvcHMudGltZSArIGRlbHRhVGltZSAqIHRoaXMucHJvcHMudGltZVNjYWxlO1xuXG4gICAgLy8gSGFuZGxlIHJldmVyc2UgdGltZSBzY2FsZVxuICAgIGlmIChuZXdUaW1lIDwgMCAmJiBoYXNEdXJhdGlvbikge1xuICAgICAgbmV3VGltZSA9IGR1cmF0aW9uICsgbmV3VGltZTtcbiAgICB9XG5cbiAgICAvLyBSZS1zdGFydCBhbmltYXRpb25cbiAgICBsZXQgaXNGaW5pc2hlZCA9IGZhbHNlO1xuICAgIGxldCBpc0xvb3BTdGFydCA9IGZhbHNlO1xuXG4gICAgY29uc3QgbG9vcGluZyA9IHRoaXMuc2V0dGluZ3MubG9vcCAhPT0gZmFsc2U7XG5cbiAgICBpZiAoaGFzRHVyYXRpb24gJiYgbmV3VGltZSA+PSBkdXJhdGlvbikge1xuICAgICAgLy8gUmUtc3RhcnQgYW5pbWF0aW9uXG4gICAgICBpZiAobG9vcGluZykge1xuICAgICAgICBpc05ld0ZyYW1lID0gdHJ1ZTtcbiAgICAgICAgbmV3VGltZSA9IG5ld1RpbWUgJSBkdXJhdGlvbjtcbiAgICAgICAgaXNMb29wU3RhcnQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXNOZXdGcmFtZSA9IGZhbHNlO1xuICAgICAgICBuZXdUaW1lID0gZHVyYXRpb247XG4gICAgICAgIGlzRmluaXNoZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zaWduYWxFbmQoKTtcbiAgICB9XG5cbiAgICBpZiAoaXNOZXdGcmFtZSkge1xuICAgICAgdGhpcy5wcm9wcy5kZWx0YVRpbWUgPSBkZWx0YVRpbWU7XG4gICAgICB0aGlzLnByb3BzLnRpbWUgPSBuZXdUaW1lO1xuICAgICAgdGhpcy5wcm9wcy5wbGF5aGVhZCA9IHRoaXMuX2NvbXB1dGVQbGF5aGVhZChuZXdUaW1lLCBkdXJhdGlvbik7XG4gICAgICBjb25zdCBsYXN0RnJhbWUgPSB0aGlzLnByb3BzLmZyYW1lO1xuICAgICAgdGhpcy5wcm9wcy5mcmFtZSA9IHRoaXMuX2NvbXB1dGVDdXJyZW50RnJhbWUoKTtcbiAgICAgIGlmIChpc0xvb3BTdGFydCkgdGhpcy5fc2lnbmFsQmVnaW4oKTtcbiAgICAgIGlmIChsYXN0RnJhbWUgIT09IHRoaXMucHJvcHMuZnJhbWUpIHRoaXMudGljaygpO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIHRoaXMucHJvcHMuZGVsdGFUaW1lID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaXNGaW5pc2hlZCkge1xuICAgICAgdGhpcy5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gIGRpc3BhdGNoIChjYikge1xuICAgIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBFcnJvcignbXVzdCBwYXNzIGZ1bmN0aW9uIGludG8gZGlzcGF0Y2goKScpO1xuICAgIGNiKHRoaXMucHJvcHMpO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICBtb3VudCAoKSB7XG4gICAgdGhpcy5fYXBwZW5kQ2FudmFzSWZOZWVkZWQoKTtcbiAgfVxuXG4gIHVubW91bnQgKCkge1xuICAgIGlmIChpc0Jyb3dzZXIoKSkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX3Jlc2l6ZUhhbmRsZXIpO1xuICAgICAgdGhpcy5fa2V5Ym9hcmRTaG9ydGN1dHMuZGV0YWNoKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmNhbnZhcy5wYXJlbnRFbGVtZW50KSB7XG4gICAgICB0aGlzLnByb3BzLmNhbnZhcy5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMucHJvcHMuY2FudmFzKTtcbiAgICB9XG4gIH1cblxuICBfYXBwZW5kQ2FudmFzSWZOZWVkZWQgKCkge1xuICAgIGlmICghaXNCcm93c2VyKCkpIHJldHVybjtcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5wYXJlbnQgIT09IGZhbHNlICYmICh0aGlzLnByb3BzLmNhbnZhcyAmJiAhdGhpcy5wcm9wcy5jYW52YXMucGFyZW50RWxlbWVudCkpIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRQYXJlbnQgPSB0aGlzLnNldHRpbmdzLnBhcmVudCB8fCBkb2N1bWVudC5ib2R5O1xuICAgICAgZGVmYXVsdFBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLnByb3BzLmNhbnZhcyk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwR0xLZXkgKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNvbnRleHQpIHtcbiAgICAgIGlmIChpc1dlYkdMQ29udGV4dCh0aGlzLnByb3BzLmNvbnRleHQpKSB7XG4gICAgICAgIHRoaXMuX3Byb3BzLmdsID0gdGhpcy5wcm9wcy5jb250ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3Byb3BzLmdsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldFRpbWVQcm9wcyAoc2V0dGluZ3MgPSB7fSkge1xuICAgIC8vIEdldCB0aW1pbmcgZGF0YVxuICAgIGxldCBkdXJhdGlvbiA9IHNldHRpbmdzLmR1cmF0aW9uO1xuICAgIGxldCB0b3RhbEZyYW1lcyA9IHNldHRpbmdzLnRvdGFsRnJhbWVzO1xuICAgIGNvbnN0IHRpbWVTY2FsZSA9IGRlZmluZWQoc2V0dGluZ3MudGltZVNjYWxlLCAxKTtcbiAgICBjb25zdCBmcHMgPSBkZWZpbmVkKHNldHRpbmdzLmZwcywgMjQpO1xuICAgIGNvbnN0IGhhc0R1cmF0aW9uID0gdHlwZW9mIGR1cmF0aW9uID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZShkdXJhdGlvbik7XG4gICAgY29uc3QgaGFzVG90YWxGcmFtZXMgPSB0eXBlb2YgdG90YWxGcmFtZXMgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHRvdGFsRnJhbWVzKTtcblxuICAgIGNvbnN0IHRvdGFsRnJhbWVzRnJvbUR1cmF0aW9uID0gaGFzRHVyYXRpb24gPyBNYXRoLmZsb29yKGZwcyAqIGR1cmF0aW9uKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBkdXJhdGlvbkZyb21Ub3RhbEZyYW1lcyA9IGhhc1RvdGFsRnJhbWVzID8gKHRvdGFsRnJhbWVzIC8gZnBzKSA6IHVuZGVmaW5lZDtcbiAgICBpZiAoaGFzRHVyYXRpb24gJiYgaGFzVG90YWxGcmFtZXMgJiYgdG90YWxGcmFtZXNGcm9tRHVyYXRpb24gIT09IHRvdGFsRnJhbWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBzaG91bGQgc3BlY2lmeSBlaXRoZXIgZHVyYXRpb24gb3IgdG90YWxGcmFtZXMsIGJ1dCBub3QgYm90aC4gT3IsIHRoZXkgbXVzdCBtYXRjaCBleGFjdGx5LicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MuZGltZW5zaW9ucyA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHNldHRpbmdzLnVuaXRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS53YXJuKGBZb3UndmUgc3BlY2lmaWVkIGEgeyB1bml0cyB9IHNldHRpbmcgYnV0IG5vIHsgZGltZW5zaW9uIH0sIHNvIHRoZSB1bml0cyB3aWxsIGJlIGlnbm9yZWQuYCk7XG4gICAgfVxuXG4gICAgdG90YWxGcmFtZXMgPSBkZWZpbmVkKHRvdGFsRnJhbWVzLCB0b3RhbEZyYW1lc0Zyb21EdXJhdGlvbiwgSW5maW5pdHkpO1xuICAgIGR1cmF0aW9uID0gZGVmaW5lZChkdXJhdGlvbiwgZHVyYXRpb25Gcm9tVG90YWxGcmFtZXMsIEluZmluaXR5KTtcblxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IHNldHRpbmdzLnRpbWU7XG4gICAgY29uc3Qgc3RhcnRGcmFtZSA9IHNldHRpbmdzLmZyYW1lO1xuICAgIGNvbnN0IGhhc1N0YXJ0VGltZSA9IHR5cGVvZiBzdGFydFRpbWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHN0YXJ0VGltZSk7XG4gICAgY29uc3QgaGFzU3RhcnRGcmFtZSA9IHR5cGVvZiBzdGFydEZyYW1lID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZShzdGFydEZyYW1lKTtcblxuICAgIC8vIHN0YXJ0IGF0IHplcm8gdW5sZXNzIHVzZXIgc3BlY2lmaWVzIGZyYW1lIG9yIHRpbWUgKGJ1dCBub3QgYm90aCBtaXNtYXRjaGVkKVxuICAgIGxldCB0aW1lID0gMDtcbiAgICBsZXQgZnJhbWUgPSAwO1xuICAgIGxldCBwbGF5aGVhZCA9IDA7XG4gICAgaWYgKGhhc1N0YXJ0VGltZSAmJiBoYXNTdGFydEZyYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBzaG91bGQgc3BlY2lmeSBlaXRoZXIgc3RhcnQgZnJhbWUgb3IgdGltZSwgYnV0IG5vdCBib3RoLicpO1xuICAgIH0gZWxzZSBpZiAoaGFzU3RhcnRUaW1lKSB7XG4gICAgICAvLyBVc2VyIHNwZWNpZmllcyB0aW1lLCB3ZSBpbmZlciBmcmFtZXMgZnJvbSBGUFNcbiAgICAgIHRpbWUgPSBzdGFydFRpbWU7XG4gICAgICBwbGF5aGVhZCA9IHRoaXMuX2NvbXB1dGVQbGF5aGVhZCh0aW1lLCBkdXJhdGlvbik7XG4gICAgICBmcmFtZSA9IHRoaXMuX2NvbXB1dGVGcmFtZShcbiAgICAgICAgcGxheWhlYWQsIHRpbWUsXG4gICAgICAgIHRvdGFsRnJhbWVzLCBmcHNcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChoYXNTdGFydEZyYW1lKSB7XG4gICAgICAvLyBVc2VyIHNwZWNpZmllcyBmcmFtZSBudW1iZXIsIHdlIGluZmVyIHRpbWUgZnJvbSBGUFNcbiAgICAgIGZyYW1lID0gc3RhcnRGcmFtZTtcbiAgICAgIHRpbWUgPSBmcmFtZSAvIGZwcztcbiAgICAgIHBsYXloZWFkID0gdGhpcy5fY29tcHV0ZVBsYXloZWFkKHRpbWUsIGR1cmF0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGxheWhlYWQsXG4gICAgICB0aW1lLFxuICAgICAgZnJhbWUsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIHRvdGFsRnJhbWVzLFxuICAgICAgZnBzLFxuICAgICAgdGltZVNjYWxlXG4gICAgfTtcbiAgfVxuXG4gIHNldHVwIChzZXR0aW5ncyA9IHt9KSB7XG4gICAgaWYgKHRoaXMuc2tldGNoKSB0aHJvdyBuZXcgRXJyb3IoJ011bHRpcGxlIHNldHVwKCkgY2FsbHMgbm90IHlldCBzdXBwb3J0ZWQuJyk7XG5cbiAgICB0aGlzLl9zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIHNldHRpbmdzLCB0aGlzLl9zZXR0aW5ncyk7XG5cbiAgICBjaGVja1NldHRpbmdzKHRoaXMuX3NldHRpbmdzKTtcblxuICAgIC8vIEdldCBpbml0aWFsIGNhbnZhcyAmIGNvbnRleHRcbiAgICBjb25zdCB7IGNvbnRleHQsIGNhbnZhcyB9ID0gY3JlYXRlQ2FudmFzKHRoaXMuX3NldHRpbmdzKTtcblxuICAgIGNvbnN0IHRpbWVQcm9wcyA9IHRoaXMuZ2V0VGltZVByb3BzKHRoaXMuX3NldHRpbmdzKTtcblxuICAgIC8vIEluaXRpYWwgcmVuZGVyIHN0YXRlIGZlYXR1cmVzXG4gICAgdGhpcy5fcHJvcHMgPSB7XG4gICAgICAuLi50aW1lUHJvcHMsXG4gICAgICBjYW52YXMsXG4gICAgICBjb250ZXh0LFxuICAgICAgZGVsdGFUaW1lOiAwLFxuICAgICAgc3RhcnRlZDogZmFsc2UsXG4gICAgICBleHBvcnRpbmc6IGZhbHNlLFxuICAgICAgcGxheWluZzogZmFsc2UsXG4gICAgICByZWNvcmRpbmc6IGZhbHNlLFxuICAgICAgc2V0dGluZ3M6IHRoaXMuc2V0dGluZ3MsXG4gICAgICBkYXRhOiB0aGlzLnNldHRpbmdzLmRhdGEsXG5cbiAgICAgIC8vIEV4cG9ydCBzb21lIHNwZWNpZmljIGFjdGlvbnMgdG8gdGhlIHNrZXRjaFxuICAgICAgcmVuZGVyOiAoKSA9PiB0aGlzLnJlbmRlcigpLFxuICAgICAgdG9nZ2xlUGxheTogKCkgPT4gdGhpcy50b2dnbGVQbGF5KCksXG4gICAgICBkaXNwYXRjaDogKGNiKSA9PiB0aGlzLmRpc3BhdGNoKGNiKSxcbiAgICAgIHRpY2s6ICgpID0+IHRoaXMudGljaygpLFxuICAgICAgcmVzaXplOiAoKSA9PiB0aGlzLnJlc2l6ZSgpLFxuICAgICAgdXBkYXRlOiAob3B0KSA9PiB0aGlzLnVwZGF0ZShvcHQpLFxuICAgICAgZXhwb3J0RnJhbWU6IG9wdCA9PiB0aGlzLmV4cG9ydEZyYW1lKG9wdCksXG4gICAgICByZWNvcmQ6ICgpID0+IHRoaXMucmVjb3JkKCksXG4gICAgICBwbGF5OiAoKSA9PiB0aGlzLnBsYXkoKSxcbiAgICAgIHBhdXNlOiAoKSA9PiB0aGlzLnBhdXNlKCksXG4gICAgICBzdG9wOiAoKSA9PiB0aGlzLnN0b3AoKVxuICAgIH07XG5cbiAgICAvLyBGb3IgV2ViR0wgc2tldGNoZXMsIGEgZ2wgdmFyaWFibGUgcmVhZHMgYSBiaXQgYmV0dGVyXG4gICAgdGhpcy5fc2V0dXBHTEtleSgpO1xuXG4gICAgLy8gVHJpZ2dlciBpbml0aWFsIHJlc2l6ZSBub3cgc28gdGhhdCBjYW52YXMgaXMgYWxyZWFkeSBzaXplZFxuICAgIC8vIGJ5IHRoZSB0aW1lIHdlIGxvYWQgdGhlIHNrZXRjaFxuICAgIHRoaXMucmVzaXplKCk7XG4gIH1cblxuICBsb2FkQW5kUnVuIChjYW52YXNTa2V0Y2gsIG5ld1NldHRpbmdzKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZChjYW52YXNTa2V0Y2gsIG5ld1NldHRpbmdzKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMucnVuKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KTtcbiAgfVxuXG4gIHVubG9hZCAoKSB7XG4gICAgdGhpcy5wYXVzZSgpO1xuICAgIGlmICghdGhpcy5za2V0Y2gpIHJldHVybjtcbiAgICBpZiAodHlwZW9mIHRoaXMuc2tldGNoLnVubG9hZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fd3JhcENvbnRleHRTY2FsZShwcm9wcyA9PiB0aGlzLnNrZXRjaC51bmxvYWQocHJvcHMpKTtcbiAgICB9XG4gICAgdGhpcy5fc2tldGNoID0gbnVsbDtcbiAgfVxuXG4gIGRlc3Ryb3kgKCkge1xuICAgIHRoaXMudW5sb2FkKCk7XG4gICAgdGhpcy51bm1vdW50KCk7XG4gIH1cblxuICBsb2FkIChjcmVhdGVTa2V0Y2gsIG5ld1NldHRpbmdzKSB7XG4gICAgLy8gVXNlciBkaWRuJ3Qgc3BlY2lmeSBhIGZ1bmN0aW9uXG4gICAgaWYgKHR5cGVvZiBjcmVhdGVTa2V0Y2ggIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZ1bmN0aW9uIG11c3QgdGFrZSBpbiBhIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIuIEV4YW1wbGU6XFxuICBjYW52YXNTa2V0Y2hlcigoKSA9PiB7IC4uLiB9LCBzZXR0aW5ncyknKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5za2V0Y2gpIHtcbiAgICAgIHRoaXMudW5sb2FkKCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdTZXR0aW5ncyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMudXBkYXRlKG5ld1NldHRpbmdzKTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGlzIGEgYml0IG9mIGEgdHJpY2t5IGNhc2U7IHdlIHNldCB1cCB0aGUgYXV0by1zY2FsaW5nIGhlcmVcbiAgICAvLyBpbiBjYXNlIHRoZSB1c2VyIGRlY2lkZXMgdG8gcmVuZGVyIGFueXRoaW5nIHRvIHRoZSBjb250ZXh0ICpiZWZvcmUqIHRoZVxuICAgIC8vIHJlbmRlcigpIGZ1bmN0aW9uLi4uIEhvd2V2ZXIsIHVzZXJzIHNob3VsZCBpbnN0ZWFkIHVzZSBiZWdpbigpIGZ1bmN0aW9uIGZvciB0aGF0LlxuICAgIHRoaXMuX3ByZVJlbmRlcigpO1xuXG4gICAgbGV0IHByZWxvYWQgPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICAgIC8vIEJlY2F1c2Ugb2YgUDUuanMncyB1bnVzdWFsIHN0cnVjdHVyZSwgd2UgaGF2ZSB0byBkbyBhIGJpdCBvZlxuICAgIC8vIGxpYnJhcnktc3BlY2lmaWMgY2hhbmdlcyB0byBzdXBwb3J0IGl0IHByb3Blcmx5LlxuICAgIGlmICh0aGlzLnNldHRpbmdzLnA1KSB7XG4gICAgICBpZiAoIWlzQnJvd3NlcigpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW2NhbnZhcy1za2V0Y2hdIEVSUk9SOiBVc2luZyBwNS5qcyBpbiBOb2RlLmpzIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgIH1cbiAgICAgIHByZWxvYWQgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgbGV0IFA1Q29uc3RydWN0b3IgPSB0aGlzLnNldHRpbmdzLnA1O1xuICAgICAgICBsZXQgcHJlbG9hZDtcbiAgICAgICAgaWYgKFA1Q29uc3RydWN0b3IucDUpIHtcbiAgICAgICAgICBwcmVsb2FkID0gUDVDb25zdHJ1Y3Rvci5wcmVsb2FkO1xuICAgICAgICAgIFA1Q29uc3RydWN0b3IgPSBQNUNvbnN0cnVjdG9yLnA1O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHNrZXRjaCBzZXR1cDsgZGlzYWJsZSBsb29wLCBzZXQgc2l6aW5nLCBldGMuXG4gICAgICAgIGNvbnN0IHA1U2tldGNoID0gcDUgPT4ge1xuICAgICAgICAgIC8vIEhvb2sgaW4gcHJlbG9hZCBpZiBuZWNlc3NhcnlcbiAgICAgICAgICBpZiAocHJlbG9hZCkgcDUucHJlbG9hZCA9ICgpID0+IHByZWxvYWQocDUpO1xuICAgICAgICAgIHA1LnNldHVwID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICAgICAgY29uc3QgaXNHTCA9IHRoaXMuc2V0dGluZ3MuY29udGV4dCA9PT0gJ3dlYmdsJztcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVyID0gaXNHTCA/IHA1LldFQkdMIDogcDUuUDJEO1xuICAgICAgICAgICAgcDUubm9Mb29wKCk7XG4gICAgICAgICAgICBwNS5waXhlbERlbnNpdHkocHJvcHMucGl4ZWxSYXRpbyk7XG4gICAgICAgICAgICBwNS5jcmVhdGVDYW52YXMocHJvcHMudmlld3BvcnRXaWR0aCwgcHJvcHMudmlld3BvcnRIZWlnaHQsIHJlbmRlcmVyKTtcbiAgICAgICAgICAgIGlmIChpc0dMICYmIHRoaXMuc2V0dGluZ3MuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICBwNS5zZXRBdHRyaWJ1dGVzKHRoaXMuc2V0dGluZ3MuYXR0cmlidXRlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHsgcDUsIGNhbnZhczogcDUuY2FudmFzLCBjb250ZXh0OiBwNS5fcmVuZGVyZXIuZHJhd2luZ0NvbnRleHQgfSk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTdXBwb3J0IGdsb2JhbCBhbmQgaW5zdGFuY2UgUDUuanMgbW9kZXNcbiAgICAgICAgaWYgKHR5cGVvZiBQNUNvbnN0cnVjdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgbmV3IFA1Q29uc3RydWN0b3IocDVTa2V0Y2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93LmNyZWF0ZUNhbnZhcyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwieyBwNSB9IHNldHRpbmcgaXMgcGFzc2VkIGJ1dCBjYW4ndCBmaW5kIHA1LmpzIGluIGdsb2JhbCAod2luZG93KSBzY29wZS4gTWF5YmUgeW91IGRpZCBub3QgY3JlYXRlIGl0IGdsb2JhbGx5P1xcbm5ldyBwNSgpOyAvLyA8LS0gYXR0YWNoZXMgdG8gZ2xvYmFsIHNjb3BlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwNVNrZXRjaCh3aW5kb3cpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJlbG9hZC50aGVuKCgpID0+IHtcbiAgICAgIC8vIExvYWQgdGhlIHVzZXIncyBza2V0Y2hcbiAgICAgIGxldCBsb2FkZXIgPSBjcmVhdGVTa2V0Y2godGhpcy5wcm9wcyk7XG4gICAgICBpZiAoIWlzUHJvbWlzZShsb2FkZXIpKSB7XG4gICAgICAgIGxvYWRlciA9IFByb21pc2UucmVzb2x2ZShsb2FkZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxvYWRlcjtcbiAgICB9KS50aGVuKHNrZXRjaCA9PiB7XG4gICAgICBpZiAoIXNrZXRjaCkgc2tldGNoID0ge307XG4gICAgICB0aGlzLl9za2V0Y2ggPSBza2V0Y2g7XG5cbiAgICAgIC8vIE9uY2UgdGhlIHNrZXRjaCBpcyBsb2FkZWQgd2UgY2FuIGFkZCB0aGUgZXZlbnRzXG4gICAgICBpZiAoaXNCcm93c2VyKCkpIHtcbiAgICAgICAgdGhpcy5fa2V5Ym9hcmRTaG9ydGN1dHMuYXR0YWNoKCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9yZXNpemVIYW5kbGVyKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcG9zdFJlbmRlcigpO1xuXG4gICAgICAvLyBUaGUgaW5pdGlhbCByZXNpemUoKSBpbiB0aGUgY29uc3RydWN0b3Igd2lsbCBub3QgaGF2ZVxuICAgICAgLy8gdHJpZ2dlcmVkIGEgcmVzaXplKCkgZXZlbnQgb24gdGhlIHNrZXRjaCwgc2luY2UgaXQgd2FzIGJlZm9yZVxuICAgICAgLy8gdGhlIHNrZXRjaCB3YXMgbG9hZGVkLiBTbyB3ZSBzZW5kIHRoZSBzaWduYWwgaGVyZSwgYWxsb3dpbmdcbiAgICAgIC8vIHVzZXJzIHRvIHJlYWN0IHRvIHRoZSBpbml0aWFsIHNpemUgYmVmb3JlIGZpcnN0IHJlbmRlci5cbiAgICAgIHRoaXMuX3NpemVDaGFuZ2VkKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS53YXJuKCdDb3VsZCBub3Qgc3RhcnQgc2tldGNoLCB0aGUgYXN5bmMgbG9hZGluZyBmdW5jdGlvbiByZWplY3RlZCB3aXRoIGFuIGVycm9yOlxcbiAgICBFcnJvcjogJyArIGVyci5tZXNzYWdlKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTa2V0Y2hNYW5hZ2VyO1xuIiwiaW1wb3J0IFNrZXRjaE1hbmFnZXIgZnJvbSAnLi9jb3JlL1NrZXRjaE1hbmFnZXInO1xuaW1wb3J0IFBhcGVyU2l6ZXMgZnJvbSAnLi9wYXBlci1zaXplcyc7XG5pbXBvcnQgeyBnZXRDbGllbnRBUEkgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IGRlZmluZWQgZnJvbSAnZGVmaW5lZCc7XG5cbmNvbnN0IENBQ0hFID0gJ2hvdC1pZC1jYWNoZSc7XG5jb25zdCBydW50aW1lQ29sbGlzaW9ucyA9IFtdO1xuXG5mdW5jdGlvbiBpc0hvdFJlbG9hZCAoKSB7XG4gIGNvbnN0IGNsaWVudCA9IGdldENsaWVudEFQSSgpO1xuICByZXR1cm4gY2xpZW50ICYmIGNsaWVudC5ob3Q7XG59XG5cbmZ1bmN0aW9uIGNhY2hlR2V0IChpZCkge1xuICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnRBUEkoKTtcbiAgaWYgKCFjbGllbnQpIHJldHVybiB1bmRlZmluZWQ7XG4gIGNsaWVudFtDQUNIRV0gPSBjbGllbnRbQ0FDSEVdIHx8IHt9O1xuICByZXR1cm4gY2xpZW50W0NBQ0hFXVtpZF07XG59XG5cbmZ1bmN0aW9uIGNhY2hlUHV0IChpZCwgZGF0YSkge1xuICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnRBUEkoKTtcbiAgaWYgKCFjbGllbnQpIHJldHVybiB1bmRlZmluZWQ7XG4gIGNsaWVudFtDQUNIRV0gPSBjbGllbnRbQ0FDSEVdIHx8IHt9O1xuICBjbGllbnRbQ0FDSEVdW2lkXSA9IGRhdGE7XG59XG5cbmZ1bmN0aW9uIGdldFRpbWVQcm9wIChvbGRNYW5hZ2VyLCBuZXdTZXR0aW5ncykge1xuICAvLyBTdGF0aWMgc2tldGNoZXMgaWdub3JlIHRoZSB0aW1lIHBlcnNpc3RlbmN5XG4gIHJldHVybiBuZXdTZXR0aW5ncy5hbmltYXRlID8geyB0aW1lOiBvbGRNYW5hZ2VyLnByb3BzLnRpbWUgfSA6IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gY2FudmFzU2tldGNoIChza2V0Y2gsIHNldHRpbmdzID0ge30pIHtcbiAgaWYgKHNldHRpbmdzLnA1KSB7XG4gICAgaWYgKHNldHRpbmdzLmNhbnZhcyB8fCAoc2V0dGluZ3MuY29udGV4dCAmJiB0eXBlb2Ygc2V0dGluZ3MuY29udGV4dCAhPT0gJ3N0cmluZycpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEluIHsgcDUgfSBtb2RlLCB5b3UgY2FuJ3QgcGFzcyB5b3VyIG93biBjYW52YXMgb3IgY29udGV4dCwgdW5sZXNzIHRoZSBjb250ZXh0IGlzIGEgXCJ3ZWJnbFwiIG9yIFwiMmRcIiBzdHJpbmdgKTtcbiAgICB9XG5cbiAgICAvLyBEbyBub3QgY3JlYXRlIGEgY2FudmFzIG9uIHN0YXJ0dXAsIHNpbmNlIFA1LmpzIGRvZXMgdGhhdCBmb3IgdXNcbiAgICBjb25zdCBjb250ZXh0ID0gdHlwZW9mIHNldHRpbmdzLmNvbnRleHQgPT09ICdzdHJpbmcnID8gc2V0dGluZ3MuY29udGV4dCA6IGZhbHNlO1xuICAgIHNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgc2V0dGluZ3MsIHsgY2FudmFzOiBmYWxzZSwgY29udGV4dCB9KTtcbiAgfVxuXG4gIGNvbnN0IGlzSG90ID0gaXNIb3RSZWxvYWQoKTtcbiAgbGV0IGhvdElEO1xuICBpZiAoaXNIb3QpIHtcbiAgICAvLyBVc2UgYSBtYWdpYyBuYW1lIGJ5IGRlZmF1bHQsIGZvcmNlIHVzZXIgdG8gZGVmaW5lIGVhY2ggc2tldGNoIGlmIHRoZXlcbiAgICAvLyByZXF1aXJlIG1vcmUgdGhhbiBvbmUgaW4gYW4gYXBwbGljYXRpb24uIE9wZW4gdG8gb3RoZXIgaWRlYXMgb24gaG93IHRvIHRhY2tsZVxuICAgIC8vIHRoaXMgYXMgd2VsbC4uLlxuICAgIGhvdElEID0gZGVmaW5lZChzZXR0aW5ncy5pZCwgJyRfX0RFRkFVTFRfQ0FOVkFTX1NLRVRDSF9JRF9fJCcpO1xuICB9XG4gIGxldCBpc0luamVjdGluZyA9IGlzSG90ICYmIHR5cGVvZiBob3RJRCA9PT0gJ3N0cmluZyc7XG5cbiAgaWYgKGlzSW5qZWN0aW5nICYmIHJ1bnRpbWVDb2xsaXNpb25zLmluY2x1ZGVzKGhvdElEKSkge1xuICAgIGNvbnNvbGUud2FybihgV2FybmluZzogWW91IGhhdmUgbXVsdGlwbGUgY2FsbHMgdG8gY2FudmFzU2tldGNoKCkgaW4gLS1ob3QgbW9kZS4gWW91IG11c3QgcGFzcyB1bmlxdWUgeyBpZCB9IHN0cmluZ3MgaW4gc2V0dGluZ3MgdG8gZW5hYmxlIGhvdCByZWxvYWQgYWNyb3NzIG11bHRpcGxlIHNrZXRjaGVzLiBgLCBob3RJRCk7XG4gICAgaXNJbmplY3RpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIGxldCBwcmVsb2FkID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgaWYgKGlzSW5qZWN0aW5nKSB7XG4gICAgLy8gTWFyayB0aGlzIGFzIGFscmVhZHkgc3BvdHRlZCBpbiB0aGlzIHJ1bnRpbWUgaW5zdGFuY2VcbiAgICBydW50aW1lQ29sbGlzaW9ucy5wdXNoKGhvdElEKTtcblxuICAgIGNvbnN0IHByZXZpb3VzRGF0YSA9IGNhY2hlR2V0KGhvdElEKTtcbiAgICBpZiAocHJldmlvdXNEYXRhKSB7XG4gICAgICBjb25zdCBuZXh0ID0gKCkgPT4ge1xuICAgICAgICAvLyBHcmFiIG5ldyBwcm9wcyBmcm9tIG9sZCBza2V0Y2ggaW5zdGFuY2VcbiAgICAgICAgY29uc3QgbmV3UHJvcHMgPSBnZXRUaW1lUHJvcChwcmV2aW91c0RhdGEubWFuYWdlciwgc2V0dGluZ3MpO1xuICAgICAgICAvLyBEZXN0cm95IHRoZSBvbGQgaW5zdGFuY2VcbiAgICAgICAgcHJldmlvdXNEYXRhLm1hbmFnZXIuZGVzdHJveSgpO1xuICAgICAgICAvLyBQYXNzIGFsb25nIG5ldyBwcm9wc1xuICAgICAgICByZXR1cm4gbmV3UHJvcHM7XG4gICAgICB9O1xuXG4gICAgICAvLyBNb3ZlIGFsb25nIHRoZSBuZXh0IGRhdGEuLi5cbiAgICAgIHByZWxvYWQgPSBwcmV2aW91c0RhdGEubG9hZC50aGVuKG5leHQpLmNhdGNoKG5leHQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwcmVsb2FkLnRoZW4obmV3UHJvcHMgPT4ge1xuICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgU2tldGNoTWFuYWdlcigpO1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKHNrZXRjaCkge1xuICAgICAgLy8gTWVyZ2Ugd2l0aCBpbmNvbWluZyBkYXRhXG4gICAgICBzZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIHNldHRpbmdzLCBuZXdQcm9wcyk7XG5cbiAgICAgIC8vIEFwcGx5IHNldHRpbmdzIGFuZCBjcmVhdGUgYSBjYW52YXNcbiAgICAgIG1hbmFnZXIuc2V0dXAoc2V0dGluZ3MpO1xuXG4gICAgICAvLyBNb3VudCB0byBET01cbiAgICAgIG1hbmFnZXIubW91bnQoKTtcblxuICAgICAgLy8gbG9hZCB0aGUgc2tldGNoIGZpcnN0XG4gICAgICByZXN1bHQgPSBtYW5hZ2VyLmxvYWRBbmRSdW4oc2tldGNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gUHJvbWlzZS5yZXNvbHZlKG1hbmFnZXIpO1xuICAgIH1cbiAgICBpZiAoaXNJbmplY3RpbmcpIHtcbiAgICAgIGNhY2hlUHV0KGhvdElELCB7IGxvYWQ6IHJlc3VsdCwgbWFuYWdlciB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSk7XG59XG5cbi8vIFRPRE86IEZpZ3VyZSBvdXQgYSBuaWNlIHdheSB0byBleHBvcnQgdGhpbmdzLlxuY2FudmFzU2tldGNoLmNhbnZhc1NrZXRjaCA9IGNhbnZhc1NrZXRjaDtcbmNhbnZhc1NrZXRjaC5QYXBlclNpemVzID0gUGFwZXJTaXplcztcblxuZXhwb3J0IGRlZmF1bHQgY2FudmFzU2tldGNoO1xuIl0sIm5hbWVzIjpbImdsb2JhbCIsImlzRE9NIiwiaXNBcmd1bWVudHMiLCJvYmplY3RLZXlzIiwiZGVmaW5lIiwidGhpcyIsInJlcGVhdCIsImNvbnN0IiwibGV0IiwiYXNzaWduIiwiZ2V0Q2FudmFzQ29udGV4dCIsInJpZ2h0Tm93IiwiaXNQcm9taXNlIiwiZGVlcEVxdWFsIiwiUGFwZXJTaXplcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7SUFBQSxXQUFjLEdBQUcsWUFBWTtRQUN6QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN2QyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSyxTQUFTLEVBQUUsT0FBTyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdkQ7S0FDSixDQUFDOztJQ0pGOzs7Ozs7SUFRQSxJQUFJLHFCQUFxQixHQUFHLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQztJQUN6RCxJQUFJLGNBQWMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQztJQUNyRCxJQUFJLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUM7O0lBRTdELFNBQVMsUUFBUSxDQUFDLEdBQUcsRUFBRTtLQUN0QixJQUFJLEdBQUcsS0FBSyxJQUFJLElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtNQUN0QyxNQUFNLElBQUksU0FBUyxDQUFDLHVEQUF1RCxDQUFDLENBQUM7TUFDN0U7O0tBRUQsT0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDbkI7O0lBRUQsU0FBUyxlQUFlLEdBQUc7S0FDMUIsSUFBSTtNQUNILElB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Q0FBQyxHQUFHLEVBQUUsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7Y0FDMUUsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO2NBQzFFLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztjQUMxRSxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7Y0FDMUUsQ0FBQyxLQUFLLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztjQUN4RyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO2NBQ3pGLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFF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\n","var defined = require('defined');\nvar units = [ 'mm', 'cm', 'm', 'pc', 'pt', 'in', 'ft', 'px' ];\n\nvar conversions = {\n  // metric\n  m: {\n    system: 'metric',\n    factor: 1\n  },\n  cm: {\n    system: 'metric',\n    factor: 1 / 100\n  },\n  mm: {\n    system: 'metric',\n    factor: 1 / 1000\n  },\n  // imperial\n  pt: {\n    system: 'imperial',\n    factor: 1 / 72\n  },\n  pc: {\n    system: 'imperial',\n    factor: 1 / 6\n  },\n  in: {\n    system: 'imperial',\n    factor: 1\n  },\n  ft: {\n    system: 'imperial',\n    factor: 12\n  }\n};\n\nconst anchors = {\n  metric: {\n    unit: 'm',\n    ratio: 1 / 0.0254\n  },\n  imperial: {\n    unit: 'in',\n    ratio: 0.0254\n  }\n};\n\nfunction round (value, decimals) {\n  return Number(Math.round(value + 'e' + decimals) + 'e-' + decimals);\n}\n\nfunction convertDistance (value, fromUnit, toUnit, opts) {\n  if (typeof value !== 'number' || !isFinite(value)) throw new Error('Value must be a finite number');\n  if (!fromUnit || !toUnit) throw new Error('Must specify from and to units');\n\n  opts = opts || {};\n  var pixelsPerInch = defined(opts.pixelsPerInch, 96);\n  var precision = opts.precision;\n  var roundPixel = opts.roundPixel !== false;\n\n  fromUnit = fromUnit.toLowerCase();\n  toUnit = toUnit.toLowerCase();\n\n  if (units.indexOf(fromUnit) === -1) throw new Error('Invalid from unit \"' + fromUnit + '\", must be one of: ' + units.join(', '));\n  if (units.indexOf(toUnit) === -1) throw new Error('Invalid from unit \"' + toUnit + '\", must be one of: ' + units.join(', '));\n\n  if (fromUnit === toUnit) {\n    // We don't need to convert from A to B since they are the same already\n    return value;\n  }\n\n  var toFactor = 1;\n  var fromFactor = 1;\n  var isToPixel = false;\n\n  if (fromUnit === 'px') {\n    fromFactor = 1 / pixelsPerInch;\n    fromUnit = 'in';\n  }\n  if (toUnit === 'px') {\n    isToPixel = true;\n    toFactor = pixelsPerInch;\n    toUnit = 'in';\n  }\n\n  var fromUnitData = conversions[fromUnit];\n  var toUnitData = conversions[toUnit];\n\n  // source to anchor inside source's system\n  var anchor = value * fromUnitData.factor * fromFactor;\n\n  // if systems differ, convert one to another\n  if (fromUnitData.system !== toUnitData.system) {\n    // regular 'm' to 'in' and so forth\n    anchor *= anchors[fromUnitData.system].ratio;\n  }\n\n  var result = anchor / toUnitData.factor * toFactor;\n  if (isToPixel && roundPixel) {\n    result = Math.round(result);\n  } else if (typeof precision === 'number' && isFinite(precision)) {\n    result = round(result, precision);\n  }\n  return result;\n}\n\nmodule.exports = convertDistance;\nmodule.exports.units = units;\n"],"sourceRoot":""}